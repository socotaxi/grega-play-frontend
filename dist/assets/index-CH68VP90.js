function p0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function g0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Lp={exports:{}},Qo={},Op={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=Symbol.for("react.element"),y0=Symbol.for("react.portal"),v0=Symbol.for("react.fragment"),x0=Symbol.for("react.strict_mode"),w0=Symbol.for("react.profiler"),_0=Symbol.for("react.provider"),b0=Symbol.for("react.context"),S0=Symbol.for("react.forward_ref"),k0=Symbol.for("react.suspense"),E0=Symbol.for("react.memo"),T0=Symbol.for("react.lazy"),Id=Symbol.iterator;function j0(e){return e===null||typeof e!="object"?null:(e=Id&&e[Id]||e["@@iterator"],typeof e=="function"?e:null)}var Ip={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dp=Object.assign,$p={};function qr(e,t,n){this.props=e,this.context=t,this.refs=$p,this.updater=n||Ip}qr.prototype.isReactComponent={};qr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mp(){}Mp.prototype=qr.prototype;function ec(e,t,n){this.props=e,this.context=t,this.refs=$p,this.updater=n||Ip}var tc=ec.prototype=new Mp;tc.constructor=ec;Dp(tc,qr.prototype);tc.isPureReactComponent=!0;var Dd=Array.isArray,Vp=Object.prototype.hasOwnProperty,nc={current:null},Up={key:!0,ref:!0,__self:!0,__source:!0};function Fp(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Vp.call(t,r)&&!Up.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ui,type:e,key:i,ref:o,props:s,_owner:nc.current}}function C0(e,t){return{$$typeof:ui,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ui}function P0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $d=/\/+/g;function Ta(e,t){return typeof e=="object"&&e!==null&&e.key!=null?P0(""+e.key):t.toString(36)}function Zi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ui:case y0:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ta(o,0):r,Dd(s)?(n="",e!=null&&(n=e.replace($d,"$&/")+"/"),Zi(s,t,n,"",function(u){return u})):s!=null&&(rc(s)&&(s=C0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($d,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Dd(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Ta(i,a);o+=Zi(i,t,n,l,s)}else if(l=j0(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Ta(i,a++),o+=Zi(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ji(e,t,n){if(e==null)return e;var r=[],s=0;return Zi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function N0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},eo={transition:null},A0={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:eo,ReactCurrentOwner:nc};function Bp(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:ji,forEach:function(e,t,n){ji(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ji(e,function(){t++}),t},toArray:function(e){return ji(e,function(t){return t})||[]},only:function(e){if(!rc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=qr;F.Fragment=v0;F.Profiler=w0;F.PureComponent=ec;F.StrictMode=x0;F.Suspense=k0;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A0;F.act=Bp;F.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=nc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Vp.call(t,l)&&!Up.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ui,type:e.type,key:s,ref:i,props:r,_owner:o}};F.createContext=function(e){return e={$$typeof:b0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_0,_context:e},e.Consumer=e};F.createElement=Fp;F.createFactory=function(e){var t=Fp.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:S0,render:e}};F.isValidElement=rc;F.lazy=function(e){return{$$typeof:T0,_payload:{_status:-1,_result:e},_init:N0}};F.memo=function(e,t){return{$$typeof:E0,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=eo.transition;eo.transition={};try{e()}finally{eo.transition=t}};F.unstable_act=Bp;F.useCallback=function(e,t){return De.current.useCallback(e,t)};F.useContext=function(e){return De.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return De.current.useDeferredValue(e)};F.useEffect=function(e,t){return De.current.useEffect(e,t)};F.useId=function(){return De.current.useId()};F.useImperativeHandle=function(e,t,n){return De.current.useImperativeHandle(e,t,n)};F.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return De.current.useMemo(e,t)};F.useReducer=function(e,t,n){return De.current.useReducer(e,t,n)};F.useRef=function(e){return De.current.useRef(e)};F.useState=function(e){return De.current.useState(e)};F.useSyncExternalStore=function(e,t,n){return De.current.useSyncExternalStore(e,t,n)};F.useTransition=function(){return De.current.useTransition()};F.version="18.3.1";Op.exports=F;var w=Op.exports;const B=m0(w),R0=p0({__proto__:null,default:B},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0=w,O0=Symbol.for("react.element"),I0=Symbol.for("react.fragment"),D0=Object.prototype.hasOwnProperty,$0=L0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M0={key:!0,ref:!0,__self:!0,__source:!0};function zp(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)D0.call(t,r)&&!M0.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:O0,type:e,key:i,ref:o,props:s,_owner:$0.current}}Qo.Fragment=I0;Qo.jsx=zp;Qo.jsxs=zp;Lp.exports=Qo;var d=Lp.exports,_l={},Wp={exports:{}},Qe={},Hp={exports:{}},Kp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,L){var I=N.length;N.push(L);e:for(;0<I;){var te=I-1>>>1,ve=N[te];if(0<s(ve,L))N[te]=L,N[I]=ve,I=te;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var L=N[0],I=N.pop();if(I!==L){N[0]=I;e:for(var te=0,ve=N.length,Ei=ve>>>1;te<Ei;){var En=2*(te+1)-1,Ea=N[En],Tn=En+1,Ti=N[Tn];if(0>s(Ea,I))Tn<ve&&0>s(Ti,Ea)?(N[te]=Ti,N[Tn]=I,te=Tn):(N[te]=Ea,N[En]=I,te=En);else if(Tn<ve&&0>s(Ti,I))N[te]=Ti,N[Tn]=I,te=Tn;else break e}}return L}function s(N,L){var I=N.sortIndex-L.sortIndex;return I!==0?I:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,y=!1,v=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=N)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function b(N){if(x=!1,m(N),!v)if(n(l)!==null)v=!0,kn(S);else{var L=n(u);L!==null&&Q(b,L.startTime-N)}}function S(N,L){v=!1,x&&(x=!1,g(T),T=-1),y=!0;var I=h;try{for(m(L),f=n(l);f!==null&&(!(f.expirationTime>L)||N&&!M());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var ve=te(f.expirationTime<=L);L=e.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(l)&&r(l),m(L)}else r(l);f=n(l)}if(f!==null)var Ei=!0;else{var En=n(u);En!==null&&Q(b,En.startTime-L),Ei=!1}return Ei}finally{f=null,h=I,y=!1}}var k=!1,E=null,T=-1,C=5,A=-1;function M(){return!(e.unstable_now()-A<C)}function z(){if(E!==null){var N=e.unstable_now();A=N;var L=!0;try{L=E(!0,N)}finally{L?he():(k=!1,E=null)}}else k=!1}var he;if(typeof p=="function")he=function(){p(z)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,Sn=xt.port2;xt.port1.onmessage=z,he=function(){Sn.postMessage(null)}}else he=function(){_(z,0)};function kn(N){E=N,k||(k=!0,he())}function Q(N,L){T=_(function(){N(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,kn(S))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var I=h;h=L;try{return N()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var I=h;h=N;try{return L()}finally{h=I}},e.unstable_scheduleCallback=function(N,L,I){var te=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?te+I:te):I=te,N){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=I+ve,N={id:c++,callback:L,priorityLevel:N,startTime:I,expirationTime:ve,sortIndex:-1},I>te?(N.sortIndex=I,t(u,N),n(l)===null&&N===n(u)&&(x?(g(T),T=-1):x=!0,Q(b,I-te))):(N.sortIndex=ve,t(l,N),v||y||(v=!0,kn(S))),N},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(N){var L=h;return function(){var I=h;h=L;try{return N.apply(this,arguments)}finally{h=I}}}})(Kp);Hp.exports=Kp;var V0=Hp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0=w,Xe=V0;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qp=new Set,Ds={};function Zn(e,t){$r(e,t),$r(e+"Capture",t)}function $r(e,t){for(Ds[e]=t,e=0;e<t.length;e++)qp.add(t[e])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bl=Object.prototype.hasOwnProperty,F0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Md={},Vd={};function B0(e){return bl.call(Vd,e)?!0:bl.call(Md,e)?!1:F0.test(e)?Vd[e]=!0:(Md[e]=!0,!1)}function z0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function W0(e,t,n,r){if(t===null||typeof t>"u"||z0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var sc=/[\-:]([a-z])/g;function ic(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sc,ic);Ee[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sc,ic);Ee[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sc,ic);Ee[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function oc(e,t,n,r){var s=Ee.hasOwnProperty(t)?Ee[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(W0(t,n,s,r)&&(n=null),r||s===null?B0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Wt=U0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ci=Symbol.for("react.element"),fr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),ac=Symbol.for("react.strict_mode"),Sl=Symbol.for("react.profiler"),Gp=Symbol.for("react.provider"),Xp=Symbol.for("react.context"),lc=Symbol.for("react.forward_ref"),kl=Symbol.for("react.suspense"),El=Symbol.for("react.suspense_list"),uc=Symbol.for("react.memo"),Xt=Symbol.for("react.lazy"),Qp=Symbol.for("react.offscreen"),Ud=Symbol.iterator;function rs(e){return e===null||typeof e!="object"?null:(e=Ud&&e[Ud]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,ja;function hs(e){if(ja===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ja=t&&t[1]||""}return`
`+ja+e}var Ca=!1;function Pa(e,t){if(!e||Ca)return"";Ca=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ca=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hs(e):""}function H0(e){switch(e.tag){case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 2:case 15:return e=Pa(e.type,!1),e;case 11:return e=Pa(e.type.render,!1),e;case 1:return e=Pa(e.type,!0),e;default:return""}}function Tl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hr:return"Fragment";case fr:return"Portal";case Sl:return"Profiler";case ac:return"StrictMode";case kl:return"Suspense";case El:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xp:return(e.displayName||"Context")+".Consumer";case Gp:return(e._context.displayName||"Context")+".Provider";case lc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uc:return t=e.displayName||null,t!==null?t:Tl(e.type)||"Memo";case Xt:t=e._payload,e=e._init;try{return Tl(e(t))}catch{}}return null}function K0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tl(t);case 8:return t===ac?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function q0(e){var t=Jp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pi(e){e._valueTracker||(e._valueTracker=q0(e))}function Yp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function go(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jl(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zp(e,t){t=t.checked,t!=null&&oc(e,"checked",t,!1)}function Cl(e,t){Zp(e,t);var n=hn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pl(e,t.type,hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pl(e,t,n){(t!=="number"||go(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ps=Array.isArray;function Pr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Nl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(ps(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hn(n)}}function em(e,t){var n=hn(t.value),r=hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Wd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Al(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ni,nm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ni=Ni||document.createElement("div"),Ni.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $s(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G0=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(e){G0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xs[t]=xs[e]})});function rm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xs.hasOwnProperty(e)&&xs[e]?(""+t).trim():t+"px"}function sm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=rm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var X0=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rl(e,t){if(t){if(X0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Ll(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ol=null;function cc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Il=null,Nr=null,Ar=null;function Hd(e){if(e=fi(e)){if(typeof Il!="function")throw Error(j(280));var t=e.stateNode;t&&(t=ta(t),Il(e.stateNode,e.type,t))}}function im(e){Nr?Ar?Ar.push(e):Ar=[e]:Nr=e}function om(){if(Nr){var e=Nr,t=Ar;if(Ar=Nr=null,Hd(e),t)for(e=0;e<t.length;e++)Hd(t[e])}}function am(e,t){return e(t)}function lm(){}var Na=!1;function um(e,t,n){if(Na)return e(t,n);Na=!0;try{return am(e,t,n)}finally{Na=!1,(Nr!==null||Ar!==null)&&(lm(),om())}}function Ms(e,t){var n=e.stateNode;if(n===null)return null;var r=ta(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Dl=!1;if($t)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Dl=!1}function Q0(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ws=!1,yo=null,vo=!1,$l=null,J0={onError:function(e){ws=!0,yo=e}};function Y0(e,t,n,r,s,i,o,a,l){ws=!1,yo=null,Q0.apply(J0,arguments)}function Z0(e,t,n,r,s,i,o,a,l){if(Y0.apply(this,arguments),ws){if(ws){var u=yo;ws=!1,yo=null}else throw Error(j(198));vo||(vo=!0,$l=u)}}function er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kd(e){if(er(e)!==e)throw Error(j(188))}function ex(e){var t=e.alternate;if(!t){if(t=er(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Kd(s),e;if(i===r)return Kd(s),t;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function dm(e){return e=ex(e),e!==null?fm(e):null}function fm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fm(e);if(t!==null)return t;e=e.sibling}return null}var hm=Xe.unstable_scheduleCallback,qd=Xe.unstable_cancelCallback,tx=Xe.unstable_shouldYield,nx=Xe.unstable_requestPaint,ue=Xe.unstable_now,rx=Xe.unstable_getCurrentPriorityLevel,dc=Xe.unstable_ImmediatePriority,pm=Xe.unstable_UserBlockingPriority,xo=Xe.unstable_NormalPriority,sx=Xe.unstable_LowPriority,mm=Xe.unstable_IdlePriority,Jo=null,kt=null;function ix(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Jo,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:lx,ox=Math.log,ax=Math.LN2;function lx(e){return e>>>=0,e===0?32:31-(ox(e)/ax|0)|0}var Ai=64,Ri=4194304;function ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ms(a):(i&=o,i!==0&&(r=ms(i)))}else o=n&~s,o!==0?r=ms(o):i!==0&&(r=ms(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gt(t),s=1<<n,r|=e[n],t&=~s;return r}function ux(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=ux(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gm(){var e=Ai;return Ai<<=1,!(Ai&4194240)&&(Ai=64),e}function Aa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ci(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function dx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-gt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function fc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var K=0;function ym(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vm,hc,xm,wm,_m,Vl=!1,Li=[],rn=null,sn=null,on=null,Vs=new Map,Us=new Map,Jt=[],fx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gd(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(t.pointerId)}}function is(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=fi(t),t!==null&&hc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hx(e,t,n,r,s){switch(t){case"focusin":return rn=is(rn,e,t,n,r,s),!0;case"dragenter":return sn=is(sn,e,t,n,r,s),!0;case"mouseover":return on=is(on,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vs.set(i,is(Vs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Us.set(i,is(Us.get(i)||null,e,t,n,r,s)),!0}return!1}function bm(e){var t=In(e.target);if(t!==null){var n=er(t);if(n!==null){if(t=n.tag,t===13){if(t=cm(n),t!==null){e.blockedOn=t,_m(e.priority,function(){xm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function to(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ul(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ol=r,n.target.dispatchEvent(r),Ol=null}else return t=fi(n),t!==null&&hc(t),e.blockedOn=n,!1;t.shift()}return!0}function Xd(e,t,n){to(e)&&n.delete(t)}function px(){Vl=!1,rn!==null&&to(rn)&&(rn=null),sn!==null&&to(sn)&&(sn=null),on!==null&&to(on)&&(on=null),Vs.forEach(Xd),Us.forEach(Xd)}function os(e,t){e.blockedOn===t&&(e.blockedOn=null,Vl||(Vl=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,px)))}function Fs(e){function t(s){return os(s,e)}if(0<Li.length){os(Li[0],e);for(var n=1;n<Li.length;n++){var r=Li[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rn!==null&&os(rn,e),sn!==null&&os(sn,e),on!==null&&os(on,e),Vs.forEach(t),Us.forEach(t),n=0;n<Jt.length;n++)r=Jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)bm(n),n.blockedOn===null&&Jt.shift()}var Rr=Wt.ReactCurrentBatchConfig,_o=!0;function mx(e,t,n,r){var s=K,i=Rr.transition;Rr.transition=null;try{K=1,pc(e,t,n,r)}finally{K=s,Rr.transition=i}}function gx(e,t,n,r){var s=K,i=Rr.transition;Rr.transition=null;try{K=4,pc(e,t,n,r)}finally{K=s,Rr.transition=i}}function pc(e,t,n,r){if(_o){var s=Ul(e,t,n,r);if(s===null)Fa(e,t,r,bo,n),Gd(e,r);else if(hx(s,e,t,n,r))r.stopPropagation();else if(Gd(e,r),t&4&&-1<fx.indexOf(e)){for(;s!==null;){var i=fi(s);if(i!==null&&vm(i),i=Ul(e,t,n,r),i===null&&Fa(e,t,r,bo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Fa(e,t,r,null,n)}}var bo=null;function Ul(e,t,n,r){if(bo=null,e=cc(r),e=In(e),e!==null)if(t=er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bo=e,null}function Sm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rx()){case dc:return 1;case pm:return 4;case xo:case sx:return 16;case mm:return 536870912;default:return 16}default:return 16}}var en=null,mc=null,no=null;function km(){if(no)return no;var e,t=mc,n=t.length,r,s="value"in en?en.value:en.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return no=s.slice(e,1<r?1-r:void 0)}function ro(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Qd(){return!1}function Je(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oi:Qd,this.isPropagationStopped=Qd,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),t}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gc=Je(Gr),di=ie({},Gr,{view:0,detail:0}),yx=Je(di),Ra,La,as,Yo=ie({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(Ra=e.screenX-as.screenX,La=e.screenY-as.screenY):La=Ra=0,as=e),Ra)},movementY:function(e){return"movementY"in e?e.movementY:La}}),Jd=Je(Yo),vx=ie({},Yo,{dataTransfer:0}),xx=Je(vx),wx=ie({},di,{relatedTarget:0}),Oa=Je(wx),_x=ie({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),bx=Je(_x),Sx=ie({},Gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kx=Je(Sx),Ex=ie({},Gr,{data:0}),Yd=Je(Ex),Tx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Px(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cx[e])?!!t[e]:!1}function yc(){return Px}var Nx=ie({},di,{key:function(e){if(e.key){var t=Tx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ro(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yc,charCode:function(e){return e.type==="keypress"?ro(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ro(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ax=Je(Nx),Rx=ie({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=Je(Rx),Lx=ie({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yc}),Ox=Je(Lx),Ix=ie({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dx=Je(Ix),$x=ie({},Yo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mx=Je($x),Vx=[9,13,27,32],vc=$t&&"CompositionEvent"in window,_s=null;$t&&"documentMode"in document&&(_s=document.documentMode);var Ux=$t&&"TextEvent"in window&&!_s,Em=$t&&(!vc||_s&&8<_s&&11>=_s),ef=" ",tf=!1;function Tm(e,t){switch(e){case"keyup":return Vx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function Fx(e,t){switch(e){case"compositionend":return jm(t);case"keypress":return t.which!==32?null:(tf=!0,ef);case"textInput":return e=t.data,e===ef&&tf?null:e;default:return null}}function Bx(e,t){if(pr)return e==="compositionend"||!vc&&Tm(e,t)?(e=km(),no=mc=en=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Em&&t.locale!=="ko"?null:t.data;default:return null}}var zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zx[e.type]:t==="textarea"}function Cm(e,t,n,r){im(r),t=So(t,"onChange"),0<t.length&&(n=new gc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bs=null,Bs=null;function Wx(e){Vm(e,0)}function Zo(e){var t=yr(e);if(Yp(t))return e}function Hx(e,t){if(e==="change")return t}var Pm=!1;if($t){var Ia;if($t){var Da="oninput"in document;if(!Da){var rf=document.createElement("div");rf.setAttribute("oninput","return;"),Da=typeof rf.oninput=="function"}Ia=Da}else Ia=!1;Pm=Ia&&(!document.documentMode||9<document.documentMode)}function sf(){bs&&(bs.detachEvent("onpropertychange",Nm),Bs=bs=null)}function Nm(e){if(e.propertyName==="value"&&Zo(Bs)){var t=[];Cm(t,Bs,e,cc(e)),um(Wx,t)}}function Kx(e,t,n){e==="focusin"?(sf(),bs=t,Bs=n,bs.attachEvent("onpropertychange",Nm)):e==="focusout"&&sf()}function qx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zo(Bs)}function Gx(e,t){if(e==="click")return Zo(t)}function Xx(e,t){if(e==="input"||e==="change")return Zo(t)}function Qx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:Qx;function zs(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bl.call(t,s)||!vt(e[s],t[s]))return!1}return!0}function of(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function af(e,t){var n=of(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=of(n)}}function Am(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Am(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rm(){for(var e=window,t=go();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=go(e.document)}return t}function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jx(e){var t=Rm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Am(n.ownerDocument.documentElement,n)){if(r!==null&&xc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=af(n,i);var o=af(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yx=$t&&"documentMode"in document&&11>=document.documentMode,mr=null,Fl=null,Ss=null,Bl=!1;function lf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bl||mr==null||mr!==go(r)||(r=mr,"selectionStart"in r&&xc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ss&&zs(Ss,r)||(Ss=r,r=So(Fl,"onSelect"),0<r.length&&(t=new gc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Ii(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionend:Ii("Transition","TransitionEnd")},$a={},Lm={};$t&&(Lm=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function ea(e){if($a[e])return $a[e];if(!gr[e])return e;var t=gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lm)return $a[e]=t[n];return e}var Om=ea("animationend"),Im=ea("animationiteration"),Dm=ea("animationstart"),$m=ea("transitionend"),Mm=new Map,uf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,t){Mm.set(e,t),Zn(t,[e])}for(var Ma=0;Ma<uf.length;Ma++){var Va=uf[Ma],Zx=Va.toLowerCase(),ew=Va[0].toUpperCase()+Va.slice(1);yn(Zx,"on"+ew)}yn(Om,"onAnimationEnd");yn(Im,"onAnimationIteration");yn(Dm,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn($m,"onTransitionEnd");$r("onMouseEnter",["mouseout","mouseover"]);$r("onMouseLeave",["mouseout","mouseover"]);$r("onPointerEnter",["pointerout","pointerover"]);$r("onPointerLeave",["pointerout","pointerover"]);Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tw=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function cf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Z0(r,t,void 0,e),e.currentTarget=null}function Vm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;cf(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;cf(s,a,u),i=l}}}if(vo)throw e=$l,vo=!1,$l=null,e}function J(e,t){var n=t[ql];n===void 0&&(n=t[ql]=new Set);var r=e+"__bubble";n.has(r)||(Um(t,e,2,!1),n.add(r))}function Ua(e,t,n){var r=0;t&&(r|=4),Um(n,e,r,t)}var Di="_reactListening"+Math.random().toString(36).slice(2);function Ws(e){if(!e[Di]){e[Di]=!0,qp.forEach(function(n){n!=="selectionchange"&&(tw.has(n)||Ua(n,!1,e),Ua(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Di]||(t[Di]=!0,Ua("selectionchange",!1,t))}}function Um(e,t,n,r){switch(Sm(t)){case 1:var s=mx;break;case 4:s=gx;break;default:s=pc}n=s.bind(null,t,n,e),s=void 0,!Dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Fa(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=In(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}um(function(){var u=i,c=cc(n),f=[];e:{var h=Mm.get(e);if(h!==void 0){var y=gc,v=e;switch(e){case"keypress":if(ro(n)===0)break e;case"keydown":case"keyup":y=Ax;break;case"focusin":v="focus",y=Oa;break;case"focusout":v="blur",y=Oa;break;case"beforeblur":case"afterblur":y=Oa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ox;break;case Om:case Im:case Dm:y=bx;break;case $m:y=Dx;break;case"scroll":y=yx;break;case"wheel":y=Mx;break;case"copy":case"cut":case"paste":y=kx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Zd}var x=(t&4)!==0,_=!x&&e==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var p=u,m;p!==null;){m=p;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,g!==null&&(b=Ms(p,g),b!=null&&x.push(Hs(p,b,m)))),_)break;p=p.return}0<x.length&&(h=new y(h,v,null,n,c),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==Ol&&(v=n.relatedTarget||n.fromElement)&&(In(v)||v[Mt]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?In(v):null,v!==null&&(_=er(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(x=Jd,b="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Zd,b="onPointerLeave",g="onPointerEnter",p="pointer"),_=y==null?h:yr(y),m=v==null?h:yr(v),h=new x(b,p+"leave",y,n,c),h.target=_,h.relatedTarget=m,b=null,In(c)===u&&(x=new x(g,p+"enter",v,n,c),x.target=m,x.relatedTarget=_,b=x),_=b,y&&v)t:{for(x=y,g=v,p=0,m=x;m;m=sr(m))p++;for(m=0,b=g;b;b=sr(b))m++;for(;0<p-m;)x=sr(x),p--;for(;0<m-p;)g=sr(g),m--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=sr(x),g=sr(g)}x=null}else x=null;y!==null&&df(f,h,y,x,!1),v!==null&&_!==null&&df(f,_,v,x,!0)}}e:{if(h=u?yr(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var S=Hx;else if(nf(h))if(Pm)S=Xx;else{S=qx;var k=Kx}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Gx);if(S&&(S=S(e,u))){Cm(f,S,n,c);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Pl(h,"number",h.value)}switch(k=u?yr(u):window,e){case"focusin":(nf(k)||k.contentEditable==="true")&&(mr=k,Fl=u,Ss=null);break;case"focusout":Ss=Fl=mr=null;break;case"mousedown":Bl=!0;break;case"contextmenu":case"mouseup":case"dragend":Bl=!1,lf(f,n,c);break;case"selectionchange":if(Yx)break;case"keydown":case"keyup":lf(f,n,c)}var E;if(vc)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else pr?Tm(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Em&&n.locale!=="ko"&&(pr||T!=="onCompositionStart"?T==="onCompositionEnd"&&pr&&(E=km()):(en=c,mc="value"in en?en.value:en.textContent,pr=!0)),k=So(u,T),0<k.length&&(T=new Yd(T,e,null,n,c),f.push({event:T,listeners:k}),E?T.data=E:(E=jm(n),E!==null&&(T.data=E)))),(E=Ux?Fx(e,n):Bx(e,n))&&(u=So(u,"onBeforeInput"),0<u.length&&(c=new Yd("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}Vm(f,t)})}function Hs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function So(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ms(e,n),i!=null&&r.unshift(Hs(e,i,s)),i=Ms(e,t),i!=null&&r.push(Hs(e,i,s))),e=e.return}return r}function sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function df(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ms(n,i),l!=null&&o.unshift(Hs(n,l,a))):s||(l=Ms(n,i),l!=null&&o.push(Hs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var nw=/\r\n?/g,rw=/\u0000|\uFFFD/g;function ff(e){return(typeof e=="string"?e:""+e).replace(nw,`
`).replace(rw,"")}function $i(e,t,n){if(t=ff(t),ff(e)!==t&&n)throw Error(j(425))}function ko(){}var zl=null,Wl=null;function Hl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kl=typeof setTimeout=="function"?setTimeout:void 0,sw=typeof clearTimeout=="function"?clearTimeout:void 0,hf=typeof Promise=="function"?Promise:void 0,iw=typeof queueMicrotask=="function"?queueMicrotask:typeof hf<"u"?function(e){return hf.resolve(null).then(e).catch(ow)}:Kl;function ow(e){setTimeout(function(){throw e})}function Ba(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Fs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fs(t)}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),St="__reactFiber$"+Xr,Ks="__reactProps$"+Xr,Mt="__reactContainer$"+Xr,ql="__reactEvents$"+Xr,aw="__reactListeners$"+Xr,lw="__reactHandles$"+Xr;function In(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mt]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pf(e);e!==null;){if(n=e[St])return n;e=pf(e)}return t}e=n,n=e.parentNode}return null}function fi(e){return e=e[St]||e[Mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function ta(e){return e[Ks]||null}var Gl=[],vr=-1;function vn(e){return{current:e}}function Y(e){0>vr||(e.current=Gl[vr],Gl[vr]=null,vr--)}function X(e,t){vr++,Gl[vr]=e.current,e.current=t}var pn={},Ne=vn(pn),Be=vn(!1),Kn=pn;function Mr(e,t){var n=e.type.contextTypes;if(!n)return pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function Eo(){Y(Be),Y(Ne)}function mf(e,t,n){if(Ne.current!==pn)throw Error(j(168));X(Ne,t),X(Be,n)}function Fm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(j(108,K0(e)||"Unknown",s));return ie({},n,r)}function To(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pn,Kn=Ne.current,X(Ne,e),X(Be,Be.current),!0}function gf(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=Fm(e,t,Kn),r.__reactInternalMemoizedMergedChildContext=e,Y(Be),Y(Ne),X(Ne,e)):Y(Be),X(Be,n)}var Lt=null,na=!1,za=!1;function Bm(e){Lt===null?Lt=[e]:Lt.push(e)}function uw(e){na=!0,Bm(e)}function xn(){if(!za&&Lt!==null){za=!0;var e=0,t=K;try{var n=Lt;for(K=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Lt=null,na=!1}catch(s){throw Lt!==null&&(Lt=Lt.slice(e+1)),hm(dc,xn),s}finally{K=t,za=!1}}return null}var xr=[],wr=0,jo=null,Co=0,et=[],tt=0,qn=null,Ot=1,It="";function Nn(e,t){xr[wr++]=Co,xr[wr++]=jo,jo=e,Co=t}function zm(e,t,n){et[tt++]=Ot,et[tt++]=It,et[tt++]=qn,qn=e;var r=Ot;e=It;var s=32-gt(r)-1;r&=~(1<<s),n+=1;var i=32-gt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ot=1<<32-gt(t)+s|n<<s|r,It=i+e}else Ot=1<<i|n<<s|r,It=e}function wc(e){e.return!==null&&(Nn(e,1),zm(e,1,0))}function _c(e){for(;e===jo;)jo=xr[--wr],xr[wr]=null,Co=xr[--wr],xr[wr]=null;for(;e===qn;)qn=et[--tt],et[tt]=null,It=et[--tt],et[tt]=null,Ot=et[--tt],et[tt]=null}var Ge=null,qe=null,Z=!1,pt=null;function Wm(e,t){var n=nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ge=e,qe=an(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ge=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qn!==null?{id:Ot,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ge=e,qe=null,!0):!1;default:return!1}}function Xl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ql(e){if(Z){var t=qe;if(t){var n=t;if(!yf(e,t)){if(Xl(e))throw Error(j(418));t=an(n.nextSibling);var r=Ge;t&&yf(e,t)?Wm(r,n):(e.flags=e.flags&-4097|2,Z=!1,Ge=e)}}else{if(Xl(e))throw Error(j(418));e.flags=e.flags&-4097|2,Z=!1,Ge=e}}}function vf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ge=e}function Mi(e){if(e!==Ge)return!1;if(!Z)return vf(e),Z=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hl(e.type,e.memoizedProps)),t&&(t=qe)){if(Xl(e))throw Hm(),Error(j(418));for(;t;)Wm(e,t),t=an(t.nextSibling)}if(vf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=an(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=Ge?an(e.stateNode.nextSibling):null;return!0}function Hm(){for(var e=qe;e;)e=an(e.nextSibling)}function Vr(){qe=Ge=null,Z=!1}function bc(e){pt===null?pt=[e]:pt.push(e)}var cw=Wt.ReactCurrentBatchConfig;function ls(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function Vi(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xf(e){var t=e._init;return t(e._payload)}function Km(e){function t(g,p){if(e){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=dn(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,m,b){return p===null||p.tag!==6?(p=Qa(m,g.mode,b),p.return=g,p):(p=s(p,m),p.return=g,p)}function l(g,p,m,b){var S=m.type;return S===hr?c(g,p,m.props.children,b,m.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xt&&xf(S)===p.type)?(b=s(p,m.props),b.ref=ls(g,p,m),b.return=g,b):(b=co(m.type,m.key,m.props,null,g.mode,b),b.ref=ls(g,p,m),b.return=g,b)}function u(g,p,m,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Ja(m,g.mode,b),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function c(g,p,m,b,S){return p===null||p.tag!==7?(p=Fn(m,g.mode,b,S),p.return=g,p):(p=s(p,m),p.return=g,p)}function f(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Qa(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ci:return m=co(p.type,p.key,p.props,null,g.mode,m),m.ref=ls(g,null,p),m.return=g,m;case fr:return p=Ja(p,g.mode,m),p.return=g,p;case Xt:var b=p._init;return f(g,b(p._payload),m)}if(ps(p)||rs(p))return p=Fn(p,g.mode,m,null),p.return=g,p;Vi(g,p)}return null}function h(g,p,m,b){var S=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:a(g,p,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ci:return m.key===S?l(g,p,m,b):null;case fr:return m.key===S?u(g,p,m,b):null;case Xt:return S=m._init,h(g,p,S(m._payload),b)}if(ps(m)||rs(m))return S!==null?null:c(g,p,m,b,null);Vi(g,m)}return null}function y(g,p,m,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(m)||null,a(p,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ci:return g=g.get(b.key===null?m:b.key)||null,l(p,g,b,S);case fr:return g=g.get(b.key===null?m:b.key)||null,u(p,g,b,S);case Xt:var k=b._init;return y(g,p,m,k(b._payload),S)}if(ps(b)||rs(b))return g=g.get(m)||null,c(p,g,b,S,null);Vi(p,b)}return null}function v(g,p,m,b){for(var S=null,k=null,E=p,T=p=0,C=null;E!==null&&T<m.length;T++){E.index>T?(C=E,E=null):C=E.sibling;var A=h(g,E,m[T],b);if(A===null){E===null&&(E=C);break}e&&E&&A.alternate===null&&t(g,E),p=i(A,p,T),k===null?S=A:k.sibling=A,k=A,E=C}if(T===m.length)return n(g,E),Z&&Nn(g,T),S;if(E===null){for(;T<m.length;T++)E=f(g,m[T],b),E!==null&&(p=i(E,p,T),k===null?S=E:k.sibling=E,k=E);return Z&&Nn(g,T),S}for(E=r(g,E);T<m.length;T++)C=y(E,g,T,m[T],b),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?T:C.key),p=i(C,p,T),k===null?S=C:k.sibling=C,k=C);return e&&E.forEach(function(M){return t(g,M)}),Z&&Nn(g,T),S}function x(g,p,m,b){var S=rs(m);if(typeof S!="function")throw Error(j(150));if(m=S.call(m),m==null)throw Error(j(151));for(var k=S=null,E=p,T=p=0,C=null,A=m.next();E!==null&&!A.done;T++,A=m.next()){E.index>T?(C=E,E=null):C=E.sibling;var M=h(g,E,A.value,b);if(M===null){E===null&&(E=C);break}e&&E&&M.alternate===null&&t(g,E),p=i(M,p,T),k===null?S=M:k.sibling=M,k=M,E=C}if(A.done)return n(g,E),Z&&Nn(g,T),S;if(E===null){for(;!A.done;T++,A=m.next())A=f(g,A.value,b),A!==null&&(p=i(A,p,T),k===null?S=A:k.sibling=A,k=A);return Z&&Nn(g,T),S}for(E=r(g,E);!A.done;T++,A=m.next())A=y(E,g,T,A.value,b),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?T:A.key),p=i(A,p,T),k===null?S=A:k.sibling=A,k=A);return e&&E.forEach(function(z){return t(g,z)}),Z&&Nn(g,T),S}function _(g,p,m,b){if(typeof m=="object"&&m!==null&&m.type===hr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ci:e:{for(var S=m.key,k=p;k!==null;){if(k.key===S){if(S=m.type,S===hr){if(k.tag===7){n(g,k.sibling),p=s(k,m.props.children),p.return=g,g=p;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xt&&xf(S)===k.type){n(g,k.sibling),p=s(k,m.props),p.ref=ls(g,k,m),p.return=g,g=p;break e}n(g,k);break}else t(g,k);k=k.sibling}m.type===hr?(p=Fn(m.props.children,g.mode,b,m.key),p.return=g,g=p):(b=co(m.type,m.key,m.props,null,g.mode,b),b.ref=ls(g,p,m),b.return=g,g=b)}return o(g);case fr:e:{for(k=m.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=Ja(m,g.mode,b),p.return=g,g=p}return o(g);case Xt:return k=m._init,_(g,p,k(m._payload),b)}if(ps(m))return v(g,p,m,b);if(rs(m))return x(g,p,m,b);Vi(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,m),p.return=g,g=p):(n(g,p),p=Qa(m,g.mode,b),p.return=g,g=p),o(g)):n(g,p)}return _}var Ur=Km(!0),qm=Km(!1),Po=vn(null),No=null,_r=null,Sc=null;function kc(){Sc=_r=No=null}function Ec(e){var t=Po.current;Y(Po),e._currentValue=t}function Jl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lr(e,t){No=e,Sc=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(Sc!==e)if(e={context:e,memoizedValue:t,next:null},_r===null){if(No===null)throw Error(j(308));_r=e,No.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return t}var Dn=null;function Tc(e){Dn===null?Dn=[e]:Dn.push(e)}function Gm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Tc(t)):(n.next=s.next,s.next=n),t.interleaved=n,Vt(e,r)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qt=!1;function jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Vt(e,n)}return s=r.interleaved,s===null?(t.next=t,Tc(r)):(t.next=s.next,s.next=t),r.interleaved=t,Vt(e,n)}function so(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fc(e,n)}}function wf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ao(e,t,n,r){var s=e.updateQueue;Qt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,y=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,x=a;switch(h=t,y=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(y,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(y,f,h):v,h==null)break e;f=ie({},f,h);break e;case 2:Qt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=f):c=c.next=y,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Xn|=o,e.lanes=o,e.memoizedState=f}}function _f(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var hi={},Et=vn(hi),qs=vn(hi),Gs=vn(hi);function $n(e){if(e===hi)throw Error(j(174));return e}function Cc(e,t){switch(X(Gs,t),X(qs,e),X(Et,hi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Al(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Al(t,e)}Y(Et),X(Et,t)}function Fr(){Y(Et),Y(qs),Y(Gs)}function Qm(e){$n(Gs.current);var t=$n(Et.current),n=Al(t,e.type);t!==n&&(X(qs,e),X(Et,n))}function Pc(e){qs.current===e&&(Y(Et),Y(qs))}var ne=vn(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wa=[];function Nc(){for(var e=0;e<Wa.length;e++)Wa[e]._workInProgressVersionPrimary=null;Wa.length=0}var io=Wt.ReactCurrentDispatcher,Ha=Wt.ReactCurrentBatchConfig,Gn=0,se=null,ge=null,we=null,Lo=!1,ks=!1,Xs=0,dw=0;function Te(){throw Error(j(321))}function Ac(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function Rc(e,t,n,r,s,i){if(Gn=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=e===null||e.memoizedState===null?mw:gw,e=n(r,s),ks){i=0;do{if(ks=!1,Xs=0,25<=i)throw Error(j(301));i+=1,we=ge=null,t.updateQueue=null,io.current=yw,e=n(r,s)}while(ks)}if(io.current=Oo,t=ge!==null&&ge.next!==null,Gn=0,we=ge=se=null,Lo=!1,t)throw Error(j(300));return e}function Lc(){var e=Xs!==0;return Xs=0,e}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?se.memoizedState=we=e:we=we.next=e,we}function at(){if(ge===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=we===null?se.memoizedState:we.next;if(t!==null)we=t,ge=e;else{if(e===null)throw Error(j(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},we===null?se.memoizedState=we=e:we=we.next=e}return we}function Qs(e,t){return typeof t=="function"?t(e):t}function Ka(e){var t=at(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Gn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,se.lanes|=c,Xn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,vt(r,t.memoizedState)||(Ue=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,se.lanes|=i,Xn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qa(e){var t=at(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);vt(i,t.memoizedState)||(Ue=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Jm(){}function Ym(e,t){var n=se,r=at(),s=t(),i=!vt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ue=!0),r=r.queue,Oc(tg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Js(9,eg.bind(null,n,r,s,t),void 0,null),_e===null)throw Error(j(349));Gn&30||Zm(n,t,s)}return s}function Zm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function eg(e,t,n,r){t.value=n,t.getSnapshot=r,ng(t)&&rg(e)}function tg(e,t,n){return n(function(){ng(t)&&rg(e)})}function ng(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function rg(e){var t=Vt(e,1);t!==null&&yt(t,e,1,-1)}function bf(e){var t=_t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e},t.queue=e,e=e.dispatch=pw.bind(null,se,e),[t.memoizedState,e]}function Js(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sg(){return at().memoizedState}function oo(e,t,n,r){var s=_t();se.flags|=e,s.memoizedState=Js(1|t,n,void 0,r===void 0?null:r)}function ra(e,t,n,r){var s=at();r=r===void 0?null:r;var i=void 0;if(ge!==null){var o=ge.memoizedState;if(i=o.destroy,r!==null&&Ac(r,o.deps)){s.memoizedState=Js(t,n,i,r);return}}se.flags|=e,s.memoizedState=Js(1|t,n,i,r)}function Sf(e,t){return oo(8390656,8,e,t)}function Oc(e,t){return ra(2048,8,e,t)}function ig(e,t){return ra(4,2,e,t)}function og(e,t){return ra(4,4,e,t)}function ag(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lg(e,t,n){return n=n!=null?n.concat([e]):null,ra(4,4,ag.bind(null,t,e),n)}function Ic(){}function ug(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ac(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cg(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ac(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dg(e,t,n){return Gn&21?(vt(n,t)||(n=gm(),se.lanes|=n,Xn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=n)}function fw(e,t){var n=K;K=n!==0&&4>n?n:4,e(!0);var r=Ha.transition;Ha.transition={};try{e(!1),t()}finally{K=n,Ha.transition=r}}function fg(){return at().memoizedState}function hw(e,t,n){var r=cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hg(e))pg(t,n);else if(n=Gm(e,t,n,r),n!==null){var s=Ie();yt(n,e,r,s),mg(n,t,r)}}function pw(e,t,n){var r=cn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hg(e))pg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,vt(a,o)){var l=t.interleaved;l===null?(s.next=s,Tc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Gm(e,t,s,r),n!==null&&(s=Ie(),yt(n,e,r,s),mg(n,t,r))}}function hg(e){var t=e.alternate;return e===se||t!==null&&t===se}function pg(e,t){ks=Lo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fc(e,n)}}var Oo={readContext:ot,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},mw={readContext:ot,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Sf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,oo(4194308,4,ag.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var n=_t();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_t();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hw.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:bf,useDebugValue:Ic,useDeferredValue:function(e){return _t().memoizedState=e},useTransition:function(){var e=bf(!1),t=e[0];return e=fw.bind(null,e[1]),_t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,s=_t();if(Z){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),_e===null)throw Error(j(349));Gn&30||Zm(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Sf(tg.bind(null,r,i,e),[e]),r.flags|=2048,Js(9,eg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=_t(),t=_e.identifierPrefix;if(Z){var n=It,r=Ot;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gw={readContext:ot,useCallback:ug,useContext:ot,useEffect:Oc,useImperativeHandle:lg,useInsertionEffect:ig,useLayoutEffect:og,useMemo:cg,useReducer:Ka,useRef:sg,useState:function(){return Ka(Qs)},useDebugValue:Ic,useDeferredValue:function(e){var t=at();return dg(t,ge.memoizedState,e)},useTransition:function(){var e=Ka(Qs)[0],t=at().memoizedState;return[e,t]},useMutableSource:Jm,useSyncExternalStore:Ym,useId:fg,unstable_isNewReconciler:!1},yw={readContext:ot,useCallback:ug,useContext:ot,useEffect:Oc,useImperativeHandle:lg,useInsertionEffect:ig,useLayoutEffect:og,useMemo:cg,useReducer:qa,useRef:sg,useState:function(){return qa(Qs)},useDebugValue:Ic,useDeferredValue:function(e){var t=at();return ge===null?t.memoizedState=e:dg(t,ge.memoizedState,e)},useTransition:function(){var e=qa(Qs)[0],t=at().memoizedState;return[e,t]},useMutableSource:Jm,useSyncExternalStore:Ym,useId:fg,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Yl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return(e=e._reactInternals)?er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=cn(e),i=Dt(r,s);i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,s),t!==null&&(yt(t,e,s,r),so(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=cn(e),i=Dt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,s),t!==null&&(yt(t,e,s,r),so(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=cn(e),s=Dt(n,r);s.tag=2,t!=null&&(s.callback=t),t=ln(e,s,r),t!==null&&(yt(t,e,r,n),so(t,e,r))}};function kf(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!zs(n,r)||!zs(s,i):!0}function gg(e,t,n){var r=!1,s=pn,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(s=ze(t)?Kn:Ne.current,r=t.contextTypes,i=(r=r!=null)?Mr(e,s):pn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ef(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function Zl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},jc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ot(i):(i=ze(t)?Kn:Ne.current,s.context=Mr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Yl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Ao(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Br(e,t){try{var n="",r=t;do n+=H0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ga(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function eu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vw=typeof WeakMap=="function"?WeakMap:Map;function yg(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Do||(Do=!0,cu=r),eu(e,t)},n}function vg(e,t,n){n=Dt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){eu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){eu(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Tf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vw;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Rw.bind(null,e,t,n),t.then(e,e))}function jf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cf(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e)}var xw=Wt.ReactCurrentOwner,Ue=!1;function Re(e,t,n,r){t.child=e===null?qm(t,null,n,r):Ur(t,e.child,n,r)}function Pf(e,t,n,r,s){n=n.render;var i=t.ref;return Lr(t,s),r=Rc(e,t,n,r,i,s),n=Lc(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(Z&&n&&wc(t),t.flags|=1,Re(e,t,r,s),t.child)}function Nf(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!zc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,xg(e,t,i,r,s)):(e=co(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:zs,n(o,r)&&e.ref===t.ref)return Ut(e,t,s)}return t.flags|=1,e=dn(i,r),e.ref=t.ref,e.return=t,t.child=e}function xg(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(zs(i,r)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,Ut(e,t,s)}return tu(e,t,n,r,s)}function wg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Sr,Ke),Ke|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Sr,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,X(Sr,Ke),Ke|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,X(Sr,Ke),Ke|=r;return Re(e,t,s,n),t.child}function _g(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tu(e,t,n,r,s){var i=ze(n)?Kn:Ne.current;return i=Mr(t,i),Lr(t,s),n=Rc(e,t,n,r,i,s),r=Lc(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(Z&&r&&wc(t),t.flags|=1,Re(e,t,n,s),t.child)}function Af(e,t,n,r,s){if(ze(n)){var i=!0;To(t)}else i=!1;if(Lr(t,s),t.stateNode===null)ao(e,t),gg(t,n,r),Zl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=ze(n)?Kn:Ne.current,u=Mr(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ef(t,o,r,u),Qt=!1;var h=t.memoizedState;o.state=h,Ao(t,r,o,s),l=t.memoizedState,a!==r||h!==l||Be.current||Qt?(typeof c=="function"&&(Yl(t,n,c,r),l=t.memoizedState),(a=Qt||kf(t,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Xm(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:dt(t.type,a),o.props=u,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ot(l):(l=ze(n)?Kn:Ne.current,l=Mr(t,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Ef(t,o,r,l),Qt=!1,h=t.memoizedState,o.state=h,Ao(t,r,o,s);var v=t.memoizedState;a!==f||h!==v||Be.current||Qt?(typeof y=="function"&&(Yl(t,n,y,r),v=t.memoizedState),(u=Qt||kf(t,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return nu(e,t,n,r,i,s)}function nu(e,t,n,r,s,i){_g(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&gf(t,n,!1),Ut(e,t,i);r=t.stateNode,xw.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ur(t,e.child,null,i),t.child=Ur(t,null,a,i)):Re(e,t,a,i),t.memoizedState=r.state,s&&gf(t,n,!0),t.child}function bg(e){var t=e.stateNode;t.pendingContext?mf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mf(e,t.context,!1),Cc(e,t.containerInfo)}function Rf(e,t,n,r,s){return Vr(),bc(s),t.flags|=256,Re(e,t,n,r),t.child}var ru={dehydrated:null,treeContext:null,retryLane:0};function su(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sg(e,t,n){var r=t.pendingProps,s=ne.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),X(ne,s&1),e===null)return Ql(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=aa(o,r,0,null),e=Fn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=su(n),t.memoizedState=ru,e):Dc(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ww(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=dn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=dn(a,i):(i=Fn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?su(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ru,r}return i=e.child,e=i.sibling,r=dn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Dc(e,t){return t=aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ui(e,t,n,r){return r!==null&&bc(r),Ur(t,e.child,null,n),e=Dc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ww(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ga(Error(j(422))),Ui(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=aa({mode:"visible",children:r.children},s,0,null),i=Fn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ur(t,e.child,null,o),t.child.memoizedState=su(o),t.memoizedState=ru,i);if(!(t.mode&1))return Ui(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(j(419)),r=Ga(i,r,void 0),Ui(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ue||a){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vt(e,s),yt(r,e,s,-1))}return Bc(),r=Ga(Error(j(421))),Ui(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Lw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,qe=an(s.nextSibling),Ge=t,Z=!0,pt=null,e!==null&&(et[tt++]=Ot,et[tt++]=It,et[tt++]=qn,Ot=e.id,It=e.overflow,qn=t),t=Dc(t,r.children),t.flags|=4096,t)}function Lf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Jl(e.return,t,n)}function Xa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function kg(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Re(e,t,r.children,n),r=ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lf(e,n,t);else if(e.tag===19)Lf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(X(ne,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ro(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Xa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ro(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Xa(t,!0,n,null,i);break;case"together":Xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ao(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _w(e,t,n){switch(t.tag){case 3:bg(t),Vr();break;case 5:Qm(t);break;case 1:ze(t.type)&&To(t);break;case 4:Cc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;X(Po,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(X(ne,ne.current&1),t.flags|=128,null):n&t.child.childLanes?Sg(e,t,n):(X(ne,ne.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);X(ne,ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(ne,ne.current),r)break;return null;case 22:case 23:return t.lanes=0,wg(e,t,n)}return Ut(e,t,n)}var Eg,iu,Tg,jg;Eg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iu=function(){};Tg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,$n(Et.current);var i=null;switch(n){case"input":s=jl(e,s),r=jl(e,r),i=[];break;case"select":s=ie({},s,{value:void 0}),r=ie({},r,{value:void 0}),i=[];break;case"textarea":s=Nl(e,s),r=Nl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ko)}Rl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ds.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ds.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&J("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};jg=function(e,t,n,r){n!==r&&(t.flags|=4)};function us(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bw(e,t,n){var r=t.pendingProps;switch(_c(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return ze(t.type)&&Eo(),je(t),null;case 3:return r=t.stateNode,Fr(),Y(Be),Y(Ne),Nc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(hu(pt),pt=null))),iu(e,t),je(t),null;case 5:Pc(t);var s=$n(Gs.current);if(n=t.type,e!==null&&t.stateNode!=null)Tg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return je(t),null}if(e=$n(Et.current),Mi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[St]=t,r[Ks]=i,e=(t.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(s=0;s<gs.length;s++)J(gs[s],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":Fd(r,i),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},J("invalid",r);break;case"textarea":zd(r,i),J("invalid",r)}Rl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&$i(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&$i(r.textContent,a,e),s=["children",""+a]):Ds.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&J("scroll",r)}switch(n){case"input":Pi(r),Bd(r,i,!0);break;case"textarea":Pi(r),Wd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ko)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[St]=t,e[Ks]=r,Eg(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ll(n,r),n){case"dialog":J("cancel",e),J("close",e),s=r;break;case"iframe":case"object":case"embed":J("load",e),s=r;break;case"video":case"audio":for(s=0;s<gs.length;s++)J(gs[s],e);s=r;break;case"source":J("error",e),s=r;break;case"img":case"image":case"link":J("error",e),J("load",e),s=r;break;case"details":J("toggle",e),s=r;break;case"input":Fd(e,r),s=jl(e,r),J("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ie({},r,{value:void 0}),J("invalid",e);break;case"textarea":zd(e,r),s=Nl(e,r),J("invalid",e);break;default:s=r}Rl(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?sm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nm(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$s(e,l):typeof l=="number"&&$s(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ds.hasOwnProperty(i)?l!=null&&i==="onScroll"&&J("scroll",e):l!=null&&oc(e,i,l,o))}switch(n){case"input":Pi(e),Bd(e,r,!1);break;case"textarea":Pi(e),Wd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Pr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Pr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ko)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)jg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=$n(Gs.current),$n(Et.current),Mi(t)){if(r=t.stateNode,n=t.memoizedProps,r[St]=t,(i=r.nodeValue!==n)&&(e=Ge,e!==null))switch(e.tag){case 3:$i(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$i(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=t,t.stateNode=r}return je(t),null;case 13:if(Y(ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Z&&qe!==null&&t.mode&1&&!(t.flags&128))Hm(),Vr(),t.flags|=98560,i=!1;else if(i=Mi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(j(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[St]=t}else Vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),i=!1}else pt!==null&&(hu(pt),pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?ye===0&&(ye=3):Bc())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return Fr(),iu(e,t),e===null&&Ws(t.stateNode.containerInfo),je(t),null;case 10:return Ec(t.type._context),je(t),null;case 17:return ze(t.type)&&Eo(),je(t),null;case 19:if(Y(ne),i=t.memoizedState,i===null)return je(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)us(i,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ro(e),o!==null){for(t.flags|=128,us(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>zr&&(t.flags|=128,r=!0,us(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ro(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),us(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Z)return je(t),null}else 2*ue()-i.renderingStartTime>zr&&n!==1073741824&&(t.flags|=128,r=!0,us(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,n=ne.current,X(ne,r?n&1|2:n&1),t):(je(t),null);case 22:case 23:return Fc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function Sw(e,t){switch(_c(t),t.tag){case 1:return ze(t.type)&&Eo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fr(),Y(Be),Y(Ne),Nc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pc(t),null;case 13:if(Y(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(ne),null;case 4:return Fr(),null;case 10:return Ec(t.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var Fi=!1,Ce=!1,kw=typeof WeakSet=="function"?WeakSet:Set,R=null;function br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function ou(e,t,n){try{n()}catch(r){ae(e,t,r)}}var Of=!1;function Ew(e,t){if(zl=_o,e=Rm(),xc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wl={focusedElem:e,selectionRange:n},_o=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,_=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:dt(t.type,x),_);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(b){ae(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return v=Of,Of=!1,v}function Es(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ou(t,n,i)}s=s.next}while(s!==r)}}function ia(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cg(e){var t=e.alternate;t!==null&&(e.alternate=null,Cg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[Ks],delete t[ql],delete t[aw],delete t[lw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pg(e){return e.tag===5||e.tag===3||e.tag===4}function If(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ko));else if(r!==4&&(e=e.child,e!==null))for(lu(e,t,n),e=e.sibling;e!==null;)lu(e,t,n),e=e.sibling}function uu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(uu(e,t,n),e=e.sibling;e!==null;)uu(e,t,n),e=e.sibling}var be=null,ft=!1;function Ht(e,t,n){for(n=n.child;n!==null;)Ng(e,t,n),n=n.sibling}function Ng(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Jo,n)}catch{}switch(n.tag){case 5:Ce||br(n,t);case 6:var r=be,s=ft;be=null,Ht(e,t,n),be=r,ft=s,be!==null&&(ft?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(ft?(e=be,n=n.stateNode,e.nodeType===8?Ba(e.parentNode,n):e.nodeType===1&&Ba(e,n),Fs(e)):Ba(be,n.stateNode));break;case 4:r=be,s=ft,be=n.stateNode.containerInfo,ft=!0,Ht(e,t,n),be=r,ft=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ou(n,t,o),s=s.next}while(s!==r)}Ht(e,t,n);break;case 1:if(!Ce&&(br(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ae(n,t,a)}Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:n.mode&1?(Ce=(r=Ce)||n.memoizedState!==null,Ht(e,t,n),Ce=r):Ht(e,t,n);break;default:Ht(e,t,n)}}function Df(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kw),t.forEach(function(r){var s=Ow.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:be=a.stateNode,ft=!1;break e;case 3:be=a.stateNode.containerInfo,ft=!0;break e;case 4:be=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(be===null)throw Error(j(160));Ng(i,o,s),be=null,ft=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ae(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ag(t,e),t=t.sibling}function Ag(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),wt(e),r&4){try{Es(3,e,e.return),ia(3,e)}catch(x){ae(e,e.return,x)}try{Es(5,e,e.return)}catch(x){ae(e,e.return,x)}}break;case 1:lt(t,e),wt(e),r&512&&n!==null&&br(n,n.return);break;case 5:if(lt(t,e),wt(e),r&512&&n!==null&&br(n,n.return),e.flags&32){var s=e.stateNode;try{$s(s,"")}catch(x){ae(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Zp(s,i),Ll(a,o);var u=Ll(a,i);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?sm(s,f):c==="dangerouslySetInnerHTML"?nm(s,f):c==="children"?$s(s,f):oc(s,c,f,u)}switch(a){case"input":Cl(s,i);break;case"textarea":em(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Pr(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?Pr(s,!!i.multiple,i.defaultValue,!0):Pr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ks]=i}catch(x){ae(e,e.return,x)}}break;case 6:if(lt(t,e),wt(e),r&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){ae(e,e.return,x)}}break;case 3:if(lt(t,e),wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fs(t.containerInfo)}catch(x){ae(e,e.return,x)}break;case 4:lt(t,e),wt(e);break;case 13:lt(t,e),wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Vc=ue())),r&4&&Df(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ce=(u=Ce)||c,lt(t,e),Ce=u):lt(t,e),wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(R=e,c=e.child;c!==null;){for(f=R=c;R!==null;){switch(h=R,y=h.child,h.tag){case 0:case 11:case 14:case 15:Es(4,h,h.return);break;case 1:br(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){ae(r,n,x)}}break;case 5:br(h,h.return);break;case 22:if(h.memoizedState!==null){Mf(f);continue}}y!==null?(y.return=h,R=y):Mf(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rm("display",o))}catch(x){ae(e,e.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ae(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lt(t,e),wt(e),r&4&&Df(e);break;case 21:break;default:lt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Pg(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($s(s,""),r.flags&=-33);var i=If(e);uu(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=If(e);lu(e,a,o);break;default:throw Error(j(161))}}catch(l){ae(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tw(e,t,n){R=e,Rg(e)}function Rg(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Fi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ce;a=Fi;var u=Ce;if(Fi=o,(Ce=l)&&!u)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?Vf(s):l!==null?(l.return=o,R=l):Vf(s);for(;i!==null;)R=i,Rg(i),i=i.sibling;R=s,Fi=a,Ce=u}$f(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):$f(e)}}function $f(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ce||ia(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ce)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_f(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_f(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Fs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Ce||t.flags&512&&au(t)}catch(h){ae(t,t.return,h)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function Mf(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function Vf(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ia(4,t)}catch(l){ae(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ae(t,s,l)}}var i=t.return;try{au(t)}catch(l){ae(t,i,l)}break;case 5:var o=t.return;try{au(t)}catch(l){ae(t,o,l)}}}catch(l){ae(t,t.return,l)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var jw=Math.ceil,Io=Wt.ReactCurrentDispatcher,$c=Wt.ReactCurrentOwner,rt=Wt.ReactCurrentBatchConfig,W=0,_e=null,de=null,ke=0,Ke=0,Sr=vn(0),ye=0,Ys=null,Xn=0,oa=0,Mc=0,Ts=null,Me=null,Vc=0,zr=1/0,At=null,Do=!1,cu=null,un=null,Bi=!1,tn=null,$o=0,js=0,du=null,lo=-1,uo=0;function Ie(){return W&6?ue():lo!==-1?lo:lo=ue()}function cn(e){return e.mode&1?W&2&&ke!==0?ke&-ke:cw.transition!==null?(uo===0&&(uo=gm()),uo):(e=K,e!==0||(e=window.event,e=e===void 0?16:Sm(e.type)),e):1}function yt(e,t,n,r){if(50<js)throw js=0,du=null,Error(j(185));ci(e,n,r),(!(W&2)||e!==_e)&&(e===_e&&(!(W&2)&&(oa|=n),ye===4&&Yt(e,ke)),We(e,r),n===1&&W===0&&!(t.mode&1)&&(zr=ue()+500,na&&xn()))}function We(e,t){var n=e.callbackNode;cx(e,t);var r=wo(e,e===_e?ke:0);if(r===0)n!==null&&qd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qd(n),t===1)e.tag===0?uw(Uf.bind(null,e)):Bm(Uf.bind(null,e)),iw(function(){!(W&6)&&xn()}),n=null;else{switch(ym(r)){case 1:n=dc;break;case 4:n=pm;break;case 16:n=xo;break;case 536870912:n=mm;break;default:n=xo}n=Ug(n,Lg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lg(e,t){if(lo=-1,uo=0,W&6)throw Error(j(327));var n=e.callbackNode;if(Or()&&e.callbackNode!==n)return null;var r=wo(e,e===_e?ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Mo(e,r);else{t=r;var s=W;W|=2;var i=Ig();(_e!==e||ke!==t)&&(At=null,zr=ue()+500,Un(e,t));do try{Nw();break}catch(a){Og(e,a)}while(!0);kc(),Io.current=i,W=s,de!==null?t=0:(_e=null,ke=0,t=ye)}if(t!==0){if(t===2&&(s=Ml(e),s!==0&&(r=s,t=fu(e,s))),t===1)throw n=Ys,Un(e,0),Yt(e,r),We(e,ue()),n;if(t===6)Yt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Cw(s)&&(t=Mo(e,r),t===2&&(i=Ml(e),i!==0&&(r=i,t=fu(e,i))),t===1))throw n=Ys,Un(e,0),Yt(e,r),We(e,ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:An(e,Me,At);break;case 3:if(Yt(e,r),(r&130023424)===r&&(t=Vc+500-ue(),10<t)){if(wo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Kl(An.bind(null,e,Me,At),t);break}An(e,Me,At);break;case 4:if(Yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-gt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jw(r/1960))-r,10<r){e.timeoutHandle=Kl(An.bind(null,e,Me,At),r);break}An(e,Me,At);break;case 5:An(e,Me,At);break;default:throw Error(j(329))}}}return We(e,ue()),e.callbackNode===n?Lg.bind(null,e):null}function fu(e,t){var n=Ts;return e.current.memoizedState.isDehydrated&&(Un(e,t).flags|=256),e=Mo(e,t),e!==2&&(t=Me,Me=n,t!==null&&hu(t)),e}function hu(e){Me===null?Me=e:Me.push.apply(Me,e)}function Cw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~Mc,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function Uf(e){if(W&6)throw Error(j(327));Or();var t=wo(e,0);if(!(t&1))return We(e,ue()),null;var n=Mo(e,t);if(e.tag!==0&&n===2){var r=Ml(e);r!==0&&(t=r,n=fu(e,r))}if(n===1)throw n=Ys,Un(e,0),Yt(e,t),We(e,ue()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,Me,At),We(e,ue()),null}function Uc(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(zr=ue()+500,na&&xn())}}function Qn(e){tn!==null&&tn.tag===0&&!(W&6)&&Or();var t=W;W|=1;var n=rt.transition,r=K;try{if(rt.transition=null,K=1,e)return e()}finally{K=r,rt.transition=n,W=t,!(W&6)&&xn()}}function Fc(){Ke=Sr.current,Y(Sr)}function Un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sw(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(_c(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Eo();break;case 3:Fr(),Y(Be),Y(Ne),Nc();break;case 5:Pc(r);break;case 4:Fr();break;case 13:Y(ne);break;case 19:Y(ne);break;case 10:Ec(r.type._context);break;case 22:case 23:Fc()}n=n.return}if(_e=e,de=e=dn(e.current,null),ke=Ke=t,ye=0,Ys=null,Mc=oa=Xn=0,Me=Ts=null,Dn!==null){for(t=0;t<Dn.length;t++)if(n=Dn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Dn=null}return e}function Og(e,t){do{var n=de;try{if(kc(),io.current=Oo,Lo){for(var r=se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lo=!1}if(Gn=0,we=ge=se=null,ks=!1,Xs=0,$c.current=null,n===null||n.return===null){ye=1,Ys=t,de=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=jf(o);if(y!==null){y.flags&=-257,Cf(y,o,a,i,t),y.mode&1&&Tf(i,u,t),t=y,l=u;var v=t.updateQueue;if(v===null){var x=new Set;x.add(l),t.updateQueue=x}else v.add(l);break e}else{if(!(t&1)){Tf(i,u,t),Bc();break e}l=Error(j(426))}}else if(Z&&a.mode&1){var _=jf(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Cf(_,o,a,i,t),bc(Br(l,a));break e}}i=l=Br(l,a),ye!==4&&(ye=2),Ts===null?Ts=[i]:Ts.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=yg(i,l,t);wf(i,g);break e;case 1:a=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(un===null||!un.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=vg(i,a,t);wf(i,b);break e}}i=i.return}while(i!==null)}$g(n)}catch(S){t=S,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Ig(){var e=Io.current;return Io.current=Oo,e===null?Oo:e}function Bc(){(ye===0||ye===3||ye===2)&&(ye=4),_e===null||!(Xn&268435455)&&!(oa&268435455)||Yt(_e,ke)}function Mo(e,t){var n=W;W|=2;var r=Ig();(_e!==e||ke!==t)&&(At=null,Un(e,t));do try{Pw();break}catch(s){Og(e,s)}while(!0);if(kc(),W=n,Io.current=r,de!==null)throw Error(j(261));return _e=null,ke=0,ye}function Pw(){for(;de!==null;)Dg(de)}function Nw(){for(;de!==null&&!tx();)Dg(de)}function Dg(e){var t=Vg(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?$g(e):de=t,$c.current=null}function $g(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Sw(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,de=null;return}}else if(n=bw(n,t,Ke),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);ye===0&&(ye=5)}function An(e,t,n){var r=K,s=rt.transition;try{rt.transition=null,K=1,Aw(e,t,n,r)}finally{rt.transition=s,K=r}return null}function Aw(e,t,n,r){do Or();while(tn!==null);if(W&6)throw Error(j(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(dx(e,i),e===_e&&(de=_e=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bi||(Bi=!0,Ug(xo,function(){return Or(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rt.transition,rt.transition=null;var o=K;K=1;var a=W;W|=4,$c.current=null,Ew(e,n),Ag(n,e),Jx(Wl),_o=!!zl,Wl=zl=null,e.current=n,Tw(n),nx(),W=a,K=o,rt.transition=i}else e.current=n;if(Bi&&(Bi=!1,tn=e,$o=s),i=e.pendingLanes,i===0&&(un=null),ix(n.stateNode),We(e,ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Do)throw Do=!1,e=cu,cu=null,e;return $o&1&&e.tag!==0&&Or(),i=e.pendingLanes,i&1?e===du?js++:(js=0,du=e):js=0,xn(),null}function Or(){if(tn!==null){var e=ym($o),t=rt.transition,n=K;try{if(rt.transition=null,K=16>e?16:e,tn===null)var r=!1;else{if(e=tn,tn=null,$o=0,W&6)throw Error(j(331));var s=W;for(W|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:Es(8,c,i)}var f=c.child;if(f!==null)f.return=c,R=f;else for(;R!==null;){c=R;var h=c.sibling,y=c.return;if(Cg(c),c===u){R=null;break}if(h!==null){h.return=y,R=h;break}R=y}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Es(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break e}R=i.return}}var p=e.current;for(R=p;R!==null;){o=R;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,R=m;else e:for(o=p;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ia(9,a)}}catch(S){ae(a,a.return,S)}if(a===o){R=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,R=b;break e}R=a.return}}if(W=s,xn(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Jo,e)}catch{}r=!0}return r}finally{K=n,rt.transition=t}}return!1}function Ff(e,t,n){t=Br(n,t),t=yg(e,t,1),e=ln(e,t,1),t=Ie(),e!==null&&(ci(e,1,t),We(e,t))}function ae(e,t,n){if(e.tag===3)Ff(e,e,n);else for(;t!==null;){if(t.tag===3){Ff(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=Br(n,e),e=vg(t,e,1),t=ln(t,e,1),e=Ie(),t!==null&&(ci(t,1,e),We(t,e));break}}t=t.return}}function Rw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(ke&n)===n&&(ye===4||ye===3&&(ke&130023424)===ke&&500>ue()-Vc?Un(e,0):Mc|=n),We(e,t)}function Mg(e,t){t===0&&(e.mode&1?(t=Ri,Ri<<=1,!(Ri&130023424)&&(Ri=4194304)):t=1);var n=Ie();e=Vt(e,t),e!==null&&(ci(e,t,n),We(e,n))}function Lw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mg(e,n)}function Ow(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),Mg(e,n)}var Vg;Vg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Be.current)Ue=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ue=!1,_w(e,t,n);Ue=!!(e.flags&131072)}else Ue=!1,Z&&t.flags&1048576&&zm(t,Co,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ao(e,t),e=t.pendingProps;var s=Mr(t,Ne.current);Lr(t,n),s=Rc(null,t,r,e,s,n);var i=Lc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(i=!0,To(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jc(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,Zl(t,r,e,n),t=nu(null,t,r,!0,i,n)):(t.tag=0,Z&&i&&wc(t),Re(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ao(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Dw(r),e=dt(r,e),s){case 0:t=tu(null,t,r,e,n);break e;case 1:t=Af(null,t,r,e,n);break e;case 11:t=Pf(null,t,r,e,n);break e;case 14:t=Nf(null,t,r,dt(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),tu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),Af(e,t,r,s,n);case 3:e:{if(bg(t),e===null)throw Error(j(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Xm(e,t),Ao(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Br(Error(j(423)),t),t=Rf(e,t,r,n,s);break e}else if(r!==s){s=Br(Error(j(424)),t),t=Rf(e,t,r,n,s);break e}else for(qe=an(t.stateNode.containerInfo.firstChild),Ge=t,Z=!0,pt=null,n=qm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vr(),r===s){t=Ut(e,t,n);break e}Re(e,t,r,n)}t=t.child}return t;case 5:return Qm(t),e===null&&Ql(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Hl(r,s)?o=null:i!==null&&Hl(r,i)&&(t.flags|=32),_g(e,t),Re(e,t,o,n),t.child;case 6:return e===null&&Ql(t),null;case 13:return Sg(e,t,n);case 4:return Cc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ur(t,null,r,n):Re(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),Pf(e,t,r,s,n);case 7:return Re(e,t,t.pendingProps,n),t.child;case 8:return Re(e,t,t.pendingProps.children,n),t.child;case 12:return Re(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,X(Po,r._currentValue),r._currentValue=o,i!==null)if(vt(i.value,o)){if(i.children===s.children&&!Be.current){t=Ut(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Dt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Jl(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Re(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Lr(t,n),s=ot(s),r=r(s),t.flags|=1,Re(e,t,r,n),t.child;case 14:return r=t.type,s=dt(r,t.pendingProps),s=dt(r.type,s),Nf(e,t,r,s,n);case 15:return xg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),ao(e,t),t.tag=1,ze(r)?(e=!0,To(t)):e=!1,Lr(t,n),gg(t,r,s),Zl(t,r,s,n),nu(null,t,r,!0,e,n);case 19:return kg(e,t,n);case 22:return wg(e,t,n)}throw Error(j(156,t.tag))};function Ug(e,t){return hm(e,t)}function Iw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,n,r){return new Iw(e,t,n,r)}function zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dw(e){if(typeof e=="function")return zc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lc)return 11;if(e===uc)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function co(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")zc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hr:return Fn(n.children,s,i,t);case ac:o=8,s|=8;break;case Sl:return e=nt(12,n,t,s|2),e.elementType=Sl,e.lanes=i,e;case kl:return e=nt(13,n,t,s),e.elementType=kl,e.lanes=i,e;case El:return e=nt(19,n,t,s),e.elementType=El,e.lanes=i,e;case Qp:return aa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gp:o=10;break e;case Xp:o=9;break e;case lc:o=11;break e;case uc:o=14;break e;case Xt:o=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=nt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Fn(e,t,n,r){return e=nt(7,e,r,t),e.lanes=n,e}function aa(e,t,n,r){return e=nt(22,e,r,t),e.elementType=Qp,e.lanes=n,e.stateNode={isHidden:!1},e}function Qa(e,t,n){return e=nt(6,e,null,t),e.lanes=n,e}function Ja(e,t,n){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $w(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aa(0),this.expirationTimes=Aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,r,s,i,o,a,l){return e=new $w(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=nt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jc(i),e}function Mw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Fg(e){if(!e)return pn;e=e._reactInternals;e:{if(er(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(ze(n))return Fm(e,n,t)}return t}function Bg(e,t,n,r,s,i,o,a,l){return e=Wc(n,r,!0,e,s,i,o,a,l),e.context=Fg(null),n=e.current,r=Ie(),s=cn(n),i=Dt(r,s),i.callback=t??null,ln(n,i,s),e.current.lanes=s,ci(e,s,r),We(e,r),e}function la(e,t,n,r){var s=t.current,i=Ie(),o=cn(s);return n=Fg(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ln(s,t,o),e!==null&&(yt(e,s,o,i),so(e,s,o)),o}function Vo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hc(e,t){Bf(e,t),(e=e.alternate)&&Bf(e,t)}function Vw(){return null}var zg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}ua.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));la(e,t,null,null)};ua.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qn(function(){la(null,e,null,null)}),t[Mt]=null}};function ua(e){this._internalRoot=e}ua.prototype.unstable_scheduleHydration=function(e){if(e){var t=wm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&t!==0&&t<Jt[n].priority;n++);Jt.splice(n,0,e),n===0&&bm(e)}};function qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zf(){}function Uw(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Vo(o);i.call(u)}}var o=Bg(t,r,e,0,null,!1,!1,"",zf);return e._reactRootContainer=o,e[Mt]=o.current,Ws(e.nodeType===8?e.parentNode:e),Qn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Vo(l);a.call(u)}}var l=Wc(e,0,!1,null,null,!1,!1,"",zf);return e._reactRootContainer=l,e[Mt]=l.current,Ws(e.nodeType===8?e.parentNode:e),Qn(function(){la(t,l,n,r)}),l}function da(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Vo(o);a.call(l)}}la(t,o,e,s)}else o=Uw(n,t,e,s,r);return Vo(o)}vm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ms(t.pendingLanes);n!==0&&(fc(t,n|1),We(t,ue()),!(W&6)&&(zr=ue()+500,xn()))}break;case 13:Qn(function(){var r=Vt(e,1);if(r!==null){var s=Ie();yt(r,e,1,s)}}),Hc(e,1)}};hc=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=Ie();yt(t,e,134217728,n)}Hc(e,134217728)}};xm=function(e){if(e.tag===13){var t=cn(e),n=Vt(e,t);if(n!==null){var r=Ie();yt(n,e,t,r)}Hc(e,t)}};wm=function(){return K};_m=function(e,t){var n=K;try{return K=e,t()}finally{K=n}};Il=function(e,t,n){switch(t){case"input":if(Cl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ta(r);if(!s)throw Error(j(90));Yp(r),Cl(r,s)}}}break;case"textarea":em(e,n);break;case"select":t=n.value,t!=null&&Pr(e,!!n.multiple,t,!1)}};am=Uc;lm=Qn;var Fw={usingClientEntryPoint:!1,Events:[fi,yr,ta,im,om,Uc]},cs={findFiberByHostInstance:In,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bw={bundleType:cs.bundleType,version:cs.version,rendererPackageName:cs.rendererPackageName,rendererConfig:cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dm(e),e===null?null:e.stateNode},findFiberByHostInstance:cs.findFiberByHostInstance||Vw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zi.isDisabled&&zi.supportsFiber)try{Jo=zi.inject(Bw),kt=zi}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fw;Qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qc(t))throw Error(j(200));return Mw(e,t,null,n)};Qe.createRoot=function(e,t){if(!qc(e))throw Error(j(299));var n=!1,r="",s=zg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wc(e,1,!1,null,null,n,!1,r,s),e[Mt]=t.current,Ws(e.nodeType===8?e.parentNode:e),new Kc(t)};Qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=dm(t),e=e===null?null:e.stateNode,e};Qe.flushSync=function(e){return Qn(e)};Qe.hydrate=function(e,t,n){if(!ca(t))throw Error(j(200));return da(null,e,t,!0,n)};Qe.hydrateRoot=function(e,t,n){if(!qc(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=zg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Bg(t,null,e,1,n??null,s,!1,i,o),e[Mt]=t.current,Ws(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ua(t)};Qe.render=function(e,t,n){if(!ca(t))throw Error(j(200));return da(null,e,t,!1,n)};Qe.unmountComponentAtNode=function(e){if(!ca(e))throw Error(j(40));return e._reactRootContainer?(Qn(function(){da(null,null,e,!1,function(){e._reactRootContainer=null,e[Mt]=null})}),!0):!1};Qe.unstable_batchedUpdates=Uc;Qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ca(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return da(e,t,n,!1,r)};Qe.version="18.3.1-next-f1338f8080-20240426";function Wg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wg)}catch(e){console.error(e)}}Wg(),Wp.exports=Qe;var zw=Wp.exports,Wf=zw;_l.createRoot=Wf.createRoot,_l.hydrateRoot=Wf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zs.apply(this,arguments)}var nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nn||(nn={}));const Hf="popstate";function Ww(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return pu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Uo(s)}return Kw(t,n,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hw(){return Math.random().toString(36).substr(2,8)}function Kf(e,t){return{usr:e.state,key:e.key,idx:t}}function pu(e,t,n,r){return n===void 0&&(n=null),Zs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qr(t):t,{state:n,key:t&&t.key||r||Hw()})}function Uo(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Qr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Kw(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=nn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Zs({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=nn.Pop;let _=c(),g=_==null?null:_-u;u=_,l&&l({action:a,location:x.location,delta:g})}function h(_,g){a=nn.Push;let p=pu(x.location,_,g);u=c()+1;let m=Kf(p,u),b=x.createHref(p);try{o.pushState(m,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&l&&l({action:a,location:x.location,delta:1})}function y(_,g){a=nn.Replace;let p=pu(x.location,_,g);u=c();let m=Kf(p,u),b=x.createHref(p);o.replaceState(m,"",b),i&&l&&l({action:a,location:x.location,delta:0})}function v(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof _=="string"?_:Uo(_);return p=p.replace(/ $/,"%20"),fe(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let x={get action(){return a},get location(){return e(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Hf,f),l=_,()=>{s.removeEventListener(Hf,f),l=null}},createHref(_){return t(s,_)},createURL:v,encodeLocation(_){let g=v(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:y,go(_){return o.go(_)}};return x}var qf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qf||(qf={}));function qw(e,t,n){return n===void 0&&(n="/"),Gw(e,t,n)}function Gw(e,t,n,r){let s=typeof t=="string"?Qr(t):t,i=Gc(s.pathname||"/",n);if(i==null)return null;let o=Kg(e);Xw(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=a_(i);a=s_(o[l],u)}return a}function Kg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(fe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=fn([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Kg(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:n_(u,i.index),routesMeta:c})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of qg(i.path))s(i,o,l)}),t}function qg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=qg(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Xw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:r_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Qw=/^:[\w-]+$/,Jw=3,Yw=2,Zw=1,e_=10,t_=-2,Gf=e=>e==="*";function n_(e,t){let n=e.split("/"),r=n.length;return n.some(Gf)&&(r+=t_),t&&(r+=Yw),n.filter(s=>!Gf(s)).reduce((s,i)=>s+(Qw.test(i)?Jw:i===""?Zw:e_),r)}function r_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function s_(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",f=i_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:fn([i,f.pathname]),pathnameBase:d_(fn([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=fn([i,f.pathnameBase]))}return o}function i_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=o_(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:y}=c;if(h==="*"){let x=a[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[f];return y&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function o_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Hg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function a_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function l_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Qr(e):e;return{pathname:n?n.startsWith("/")?n:u_(n,t):t,search:f_(r),hash:h_(s)}}function u_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ya(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gg(e,t){let n=c_(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Xg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Qr(e):(s=Zs({},e),fe(!s.pathname||!s.pathname.includes("?"),Ya("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),Ya("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),Ya("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=l_(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const fn=e=>e.join("/").replace(/\/\/+/g,"/"),d_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),f_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,h_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function p_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qg=["post","put","patch","delete"];new Set(Qg);const m_=["get",...Qg];new Set(m_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ei.apply(this,arguments)}const Xc=w.createContext(null),g_=w.createContext(null),tr=w.createContext(null),fa=w.createContext(null),wn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Jg=w.createContext(null);function y_(e,t){let{relative:n}=t===void 0?{}:t;pi()||fe(!1);let{basename:r,navigator:s}=w.useContext(tr),{hash:i,pathname:o,search:a}=Zg(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:fn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function pi(){return w.useContext(fa)!=null}function mi(){return pi()||fe(!1),w.useContext(fa).location}function Yg(e){w.useContext(tr).static||w.useLayoutEffect(e)}function Pt(){let{isDataRoute:e}=w.useContext(wn);return e?N_():v_()}function v_(){pi()||fe(!1);let e=w.useContext(Xc),{basename:t,future:n,navigator:r}=w.useContext(tr),{matches:s}=w.useContext(wn),{pathname:i}=mi(),o=JSON.stringify(Gg(s,n.v7_relativeSplatPath)),a=w.useRef(!1);return Yg(()=>{a.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Xg(u,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:fn([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,o,i,e])}function Jr(){let{matches:e}=w.useContext(wn),t=e[e.length-1];return t?t.params:{}}function Zg(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(tr),{matches:s}=w.useContext(wn),{pathname:i}=mi(),o=JSON.stringify(Gg(s,r.v7_relativeSplatPath));return w.useMemo(()=>Xg(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function x_(e,t){return w_(e,t)}function w_(e,t,n,r){pi()||fe(!1);let{navigator:s}=w.useContext(tr),{matches:i}=w.useContext(wn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=mi(),c;if(t){var f;let _=typeof t=="string"?Qr(t):t;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||fe(!1),c=_}else c=u;let h=c.pathname||"/",y=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=qw(e,{pathname:y}),x=E_(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:fn([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:fn([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return t&&x?w.createElement(fa.Provider,{value:{location:ei({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:nn.Pop}},x):x}function __(){let e=P_(),t=p_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const b_=w.createElement(__,null);class S_ extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(wn.Provider,{value:this.props.routeContext},w.createElement(Jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k_(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(Xc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(wn.Provider,{value:t},r)}function E_(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||fe(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:y}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,h)=>{let y,v=!1,x=null,_=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||b_,l&&(u<0&&h===0?(A_("route-fallback"),v=!0,_=null):u===h&&(v=!0,_=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),p=()=>{let m;return y?m=x:v?m=_:f.route.Component?m=w.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=c,w.createElement(k_,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:m})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(S_,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var ey=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ey||{}),ty=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ty||{});function T_(e){let t=w.useContext(Xc);return t||fe(!1),t}function j_(e){let t=w.useContext(g_);return t||fe(!1),t}function C_(e){let t=w.useContext(wn);return t||fe(!1),t}function ny(e){let t=C_(),n=t.matches[t.matches.length-1];return n.route.id||fe(!1),n.route.id}function P_(){var e;let t=w.useContext(Jg),n=j_(),r=ny();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function N_(){let{router:e}=T_(ey.UseNavigateStable),t=ny(ty.UseNavigateStable),n=w.useRef(!1);return Yg(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ei({fromRouteId:t},i)))},[e,t])}const Xf={};function A_(e,t,n){Xf[e]||(Xf[e]=!0)}function R_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function xe(e){fe(!1)}function L_(e){let{basename:t="/",children:n=null,location:r,navigationType:s=nn.Pop,navigator:i,static:o=!1,future:a}=e;pi()&&fe(!1);let l=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:o,future:ei({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Qr(r));let{pathname:c="/",search:f="",hash:h="",state:y=null,key:v="default"}=r,x=w.useMemo(()=>{let _=Gc(c,l);return _==null?null:{location:{pathname:_,search:f,hash:h,state:y,key:v},navigationType:s}},[l,c,f,h,y,v,s]);return x==null?null:w.createElement(tr.Provider,{value:u},w.createElement(fa.Provider,{children:n,value:x}))}function O_(e){let{children:t,location:n}=e;return x_(mu(t),n)}new Promise(()=>{});function mu(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let i=[...t,s];if(r.type===w.Fragment){n.push.apply(n,mu(r.props.children,i));return}r.type!==xe&&fe(!1),!r.props.index||!r.props.children||fe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mu(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gu.apply(this,arguments)}function I_(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function D_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $_(e,t){return e.button===0&&(!t||t==="_self")&&!D_(e)}const M_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V_="6";try{window.__reactRouterVersion=V_}catch{}const U_="startTransition",Qf=R0[U_];function F_(e){let{basename:t,children:n,future:r,window:s}=e,i=w.useRef();i.current==null&&(i.current=Ww({window:s,v5Compat:!0}));let o=i.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=w.useCallback(f=>{u&&Qf?Qf(()=>l(f)):l(f)},[l,u]);return w.useLayoutEffect(()=>o.listen(c),[o,c]),w.useEffect(()=>R_(r),[r]),w.createElement(L_,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const B_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f}=t,h=I_(t,M_),{basename:y}=w.useContext(tr),v,x=!1;if(typeof u=="string"&&z_.test(u)&&(v=u,B_))try{let m=new URL(window.location.href),b=u.startsWith("//")?new URL(m.protocol+u):new URL(u),S=Gc(b.pathname,y);b.origin===m.origin&&S!=null?u=S+b.search+b.hash:x=!0}catch{}let _=y_(u,{relative:s}),g=W_(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:f});function p(m){r&&r(m),m.defaultPrevented||g(m)}return w.createElement("a",gu({},h,{href:v||_,onClick:x||i?r:p,ref:n,target:l}))});var Jf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jf||(Jf={}));var Yf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yf||(Yf={}));function W_(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Pt(),u=mi(),c=Zg(e,{relative:o});return w.useCallback(f=>{if($_(f,n)){f.preventDefault();let h=r!==void 0?r:Uo(u)===Uo(c);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,r,s,n,e,i,o,a])}function ry(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ry(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Bn(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ry(e))&&(r&&(r+=" "),r+=t);return r}function H_(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}H_(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var gi=e=>typeof e=="number"&&!isNaN(e),Jn=e=>typeof e=="string",Ft=e=>typeof e=="function",K_=e=>Jn(e)||gi(e),yu=e=>Jn(e)||Ft(e)?e:null,q_=(e,t)=>e===!1||gi(e)&&e>0?e:t,vu=e=>w.isValidElement(e)||Jn(e)||Ft(e)||gi(e);function G_(e,t,n=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function X_({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:a,done:l,nodeRef:u,isIn:c,playToast:f}){let h=n?`${e}--${o}`:e,y=n?`${t}--${o}`:t,v=w.useRef(0);return w.useLayoutEffect(()=>{let x=u.current,_=h.split(" "),g=p=>{p.target===u.current&&(f(),x.removeEventListener("animationend",g),x.removeEventListener("animationcancel",g),v.current===0&&p.type!=="animationcancel"&&x.classList.remove(..._))};x.classList.add(..._),x.addEventListener("animationend",g),x.addEventListener("animationcancel",g)},[]),w.useEffect(()=>{let x=u.current,_=()=>{x.removeEventListener("animationend",_),r?G_(x,l,s):l()};c||(a?_():(v.current=1,x.className+=` ${y}`,x.addEventListener("animationend",_)))},[c]),B.createElement(B.Fragment,null,i)}}function Zf(e,t){return{content:sy(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function sy(e,t,n=!1){return w.isValidElement(e)&&!Jn(e.type)?w.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Ft(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function Q_({closeToast:e,theme:t,ariaLabel:n="close"}){return B.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},B.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},B.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function J_({delay:e,isRunning:t,closeToast:n,type:r="default",hide:s,className:i,controlledProgress:o,progress:a,rtl:l,isIn:u,theme:c}){let f=s||o&&a===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(h.transform=`scaleX(${a})`);let y=Bn("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${c}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),v=Ft(i)?i({rtl:l,type:r,defaultClassName:y}):Bn(y,i),x={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{u&&n()}};return B.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},B.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${c} Toastify__progress-bar--${r}`}),B.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:v,style:h,...x}))}var Y_=1,iy=()=>`${Y_++}`;function Z_(e,t,n){let r=1,s=0,i=[],o=[],a=t,l=new Map,u=new Set,c=p=>(u.add(p),()=>u.delete(p)),f=()=>{o=Array.from(l.values()),u.forEach(p=>p())},h=({containerId:p,toastId:m,updateId:b})=>{let S=p?p!==e:e!==1,k=l.has(m)&&b==null;return S||k},y=(p,m)=>{l.forEach(b=>{var S;(m==null||m===b.props.toastId)&&((S=b.toggle)==null||S.call(b,p))})},v=p=>{var m,b;(b=(m=p.props)==null?void 0:m.onClose)==null||b.call(m,p.removalReason),p.isActive=!1},x=p=>{if(p==null)l.forEach(v);else{let m=l.get(p);m&&v(m)}f()},_=()=>{s-=i.length,i=[]},g=p=>{var m,b;let{toastId:S,updateId:k}=p.props,E=k==null;p.staleId&&l.delete(p.staleId),p.isActive=!0,l.set(S,p),f(),n(Zf(p,E?"added":"updated")),E&&((b=(m=p.props).onOpen)==null||b.call(m))};return{id:e,props:a,observe:c,toggle:y,removeToast:x,toasts:l,clearQueue:_,buildToast:(p,m)=>{if(h(m))return;let{toastId:b,updateId:S,data:k,staleId:E,delay:T}=m,C=S==null;C&&s++;let A={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(m).filter(([z,he])=>he!=null)),toastId:b,updateId:S,data:k,isIn:!1,className:yu(m.className||a.toastClassName),progressClassName:yu(m.progressClassName||a.progressClassName),autoClose:m.isLoading?!1:q_(m.autoClose,a.autoClose),closeToast(z){l.get(b).removalReason=z,x(b)},deleteToast(){let z=l.get(b);if(z!=null){if(n(Zf(z,"removed")),l.delete(b),s--,s<0&&(s=0),i.length>0){g(i.shift());return}f()}}};A.closeButton=a.closeButton,m.closeButton===!1||vu(m.closeButton)?A.closeButton=m.closeButton:m.closeButton===!0&&(A.closeButton=vu(a.closeButton)?a.closeButton:!0);let M={content:p,props:A,staleId:E};a.limit&&a.limit>0&&s>a.limit&&C?i.push(M):gi(T)?setTimeout(()=>{g(M)},T):g(M)},setProps(p){a=p},setToggle:(p,m)=>{let b=l.get(p);b&&(b.toggle=m)},isToastActive:p=>{var m;return(m=l.get(p))==null?void 0:m.isActive},getSnapshot:()=>o}}var Le=new Map,ti=[],xu=new Set,eb=e=>xu.forEach(t=>t(e)),oy=()=>Le.size>0;function tb(){ti.forEach(e=>ly(e.content,e.options)),ti=[]}var nb=(e,{containerId:t})=>{var n;return(n=Le.get(t||1))==null?void 0:n.toasts.get(e)};function ay(e,t){var n;if(t)return!!((n=Le.get(t))!=null&&n.isToastActive(e));let r=!1;return Le.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function rb(e){if(!oy()){ti=ti.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||K_(e))Le.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Le.get(e.containerId);t?t.removeToast(e.id):Le.forEach(n=>{n.removeToast(e.id)})}}var sb=(e={})=>{Le.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function ly(e,t){vu(e)&&(oy()||ti.push({content:e,options:t}),Le.forEach(n=>{n.buildToast(e,t)}))}function ib(e){var t;(t=Le.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function uy(e,t){Le.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function ob(e){let t=e.containerId||1;return{subscribe(n){let r=Z_(t,e,eb);Le.set(t,r);let s=r.observe(n);return tb(),()=>{s(),Le.delete(t)}},setProps(n){var r;(r=Le.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Le.get(t))==null?void 0:n.getSnapshot()}}}function ab(e){return xu.add(e),()=>{xu.delete(e)}}function lb(e){return e&&(Jn(e.toastId)||gi(e.toastId))?e.toastId:iy()}function yi(e,t){return ly(e,t),t.toastId}function ha(e,t){return{...t,type:t&&t.type||e,toastId:lb(t)}}function pa(e){return(t,n)=>yi(t,ha(e,n))}function P(e,t){return yi(e,ha("default",t))}P.loading=(e,t)=>yi(e,ha("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function ub(e,{pending:t,error:n,success:r},s){let i;t&&(i=Jn(t)?P.loading(t,s):P.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,c,f)=>{if(c==null){P.dismiss(i);return}let h={type:u,...o,...s,data:f},y=Jn(c)?{render:c}:c;return i?P.update(i,{...h,...y}):P(y.render,{...h,...y}),f},l=Ft(e)?e():e;return l.then(u=>a("success",r,u)).catch(u=>a("error",n,u)),l}P.promise=ub;P.success=pa("success");P.info=pa("info");P.error=pa("error");P.warning=pa("warning");P.warn=P.warning;P.dark=(e,t)=>yi(e,ha("default",{theme:"dark",...t}));function cb(e){rb(e)}P.dismiss=cb;P.clearWaitingQueue=sb;P.isActive=ay;P.update=(e,t={})=>{let n=nb(e,t);if(n){let{props:r,content:s}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:iy()};i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,yi(o,i)}};P.done=e=>{P.update(e,{progress:1})};P.onChange=ab;P.play=e=>uy(!0,e);P.pause=e=>uy(!1,e);function db(e){var t;let{subscribe:n,getSnapshot:r,setProps:s}=w.useRef(ob(e)).current;s(e);let i=(t=w.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function o(a){if(!i)return[];let l=new Map;return e.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:c}=u.props;l.has(c)||l.set(c,[]),l.get(c).push(u)}),Array.from(l,u=>a(u[0],u[1]))}return{getToastToRender:o,isToastActive:ay,count:i==null?void 0:i.length}}function fb(e){let[t,n]=w.useState(!1),[r,s]=w.useState(!1),i=w.useRef(null),o=w.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:f}=e;ib({id:e.toastId,containerId:e.containerId,fn:n}),w.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{y()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||g(),window.addEventListener("focus",_),window.addEventListener("blur",g)}function y(){window.removeEventListener("focus",_),window.removeEventListener("blur",g)}function v(E){if(e.draggable===!0||e.draggable===E.pointerType){p();let T=i.current;o.canCloseOnClick=!0,o.canDrag=!0,T.style.transition="none",e.draggableDirection==="x"?(o.start=E.clientX,o.removalDistance=T.offsetWidth*(e.draggablePercent/100)):(o.start=E.clientY,o.removalDistance=T.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function x(E){let{top:T,bottom:C,left:A,right:M}=i.current.getBoundingClientRect();E.nativeEvent.type!=="touchend"&&e.pauseOnHover&&E.clientX>=A&&E.clientX<=M&&E.clientY>=T&&E.clientY<=C?g():_()}function _(){n(!0)}function g(){n(!1)}function p(){o.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",S)}function m(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",S)}function b(E){let T=i.current;if(o.canDrag&&T){o.didMove=!0,t&&g(),e.draggableDirection==="x"?o.delta=E.clientX-o.start:o.delta=E.clientY-o.start,o.start!==E.clientX&&(o.canCloseOnClick=!1);let C=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;T.style.transform=`translate3d(${C},0)`,T.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function S(){m();let E=i.current;if(o.canDrag&&o.didMove&&E){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}E.style.transition="transform 0.2s, opacity 0.2s",E.style.removeProperty("transform"),E.style.removeProperty("opacity")}}let k={onPointerDown:v,onPointerUp:x};return a&&l&&(k.onMouseEnter=g,e.stacked||(k.onMouseLeave=_)),f&&(k.onClick=E=>{c&&c(E),o.canCloseOnClick&&u(!0)}),{playToast:_,pauseToast:g,isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:k}}var hb=typeof window<"u"?w.useLayoutEffect:w.useEffect,ma=({theme:e,type:t,isLoading:n,...r})=>B.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function pb(e){return B.createElement(ma,{...e},B.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function mb(e){return B.createElement(ma,{...e},B.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function gb(e){return B.createElement(ma,{...e},B.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function yb(e){return B.createElement(ma,{...e},B.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function vb(){return B.createElement("div",{className:"Toastify__spinner"})}var wu={info:mb,warning:pb,success:gb,error:yb,spinner:vb},xb=e=>e in wu;function wb({theme:e,type:t,isLoading:n,icon:r}){let s=null,i={theme:e,type:t};return r===!1||(Ft(r)?s=r({...i,isLoading:n}):w.isValidElement(r)?s=w.cloneElement(r,i):n?s=wu.spinner():xb(t)&&(s=wu[t](i))),s}var _b=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=fb(e),{closeButton:o,children:a,autoClose:l,onClick:u,type:c,hideProgressBar:f,closeToast:h,transition:y,position:v,className:x,style:_,progressClassName:g,updateId:p,role:m,progress:b,rtl:S,toastId:k,deleteToast:E,isIn:T,isLoading:C,closeOnClick:A,theme:M,ariaLabel:z}=e,he=Bn("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":A}),xt=Ft(x)?x({rtl:S,position:v,type:c,defaultClassName:he}):Bn(he,x),Sn=wb(e),kn=!!b||!l,Q={closeToast:h,type:c,theme:M},N=null;return o===!1||(Ft(o)?N=o(Q):w.isValidElement(o)?N=w.cloneElement(o,Q):N=Q_(Q)),B.createElement(y,{isIn:T,done:E,position:v,preventExitTransition:n,nodeRef:r,playToast:i},B.createElement("div",{id:k,tabIndex:0,onClick:u,"data-in":T,className:xt,...s,style:_,ref:r,...T&&{role:m,"aria-label":z}},Sn!=null&&B.createElement("div",{className:Bn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},Sn),sy(a,e,!t),N,!e.customProgressBar&&B.createElement(J_,{...p&&!kn?{key:`p-${p}`}:{},rtl:S,theme:M,delay:l,isRunning:t,isIn:T,closeToast:h,hide:f,type:c,className:g,controlledProgress:kn,progress:b||0})))},bb=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),Sb=X_(bb("bounce",!0)),kb={position:"top-right",transition:Sb,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Eb(e){let t={...kb,...e},n=e.stacked,[r,s]=w.useState(!0),i=w.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=db(t),{className:u,style:c,rtl:f,containerId:h,hotKeys:y}=t;function v(_){let g=Bn("Toastify__toast-container",`Toastify__toast-container--${_}`,{"Toastify__toast-container--rtl":f});return Ft(u)?u({position:_,rtl:f,defaultClassName:g}):Bn(g,yu(u))}function x(){n&&(s(!0),P.play())}return hb(()=>{var _;if(n){let g=i.current.querySelectorAll('[data-in="true"]'),p=12,m=(_=t.position)==null?void 0:_.includes("top"),b=0,S=0;Array.from(g).reverse().forEach((k,E)=>{let T=k;T.classList.add("Toastify__toast--stacked"),E>0&&(T.dataset.collapsed=`${r}`),T.dataset.pos||(T.dataset.pos=m?"top":"bot");let C=b*(r?.2:1)+(r?0:p*E);T.style.setProperty("--y",`${m?C:C*-1}px`),T.style.setProperty("--g",`${p}`),T.style.setProperty("--s",`${1-(r?S:0)}`),b+=T.offsetHeight,S+=.025})}},[r,l,n]),w.useEffect(()=>{function _(g){var p;let m=i.current;y(g)&&((p=m.querySelector('[tabIndex="0"]'))==null||p.focus(),s(!1),P.pause()),g.key==="Escape"&&(document.activeElement===m||m!=null&&m.contains(document.activeElement))&&(s(!0),P.play())}return document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}},[y]),B.createElement("section",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{n&&(s(!1),P.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((_,g)=>{let p=g.length?{...c}:{...c,pointerEvents:"none"};return B.createElement("div",{tabIndex:-1,className:v(_),"data-stacked":n,style:p,key:`c-${_}`},g.map(({content:m,props:b})=>B.createElement(_b,{...b,stacked:n,collapseAll:x,isIn:a(b.toastId,b.containerId),key:`t-${b.key}`},m)))}))}const Tb="modulepreload",jb=function(e,t){return new URL(e,t).href},eh={},vi=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=jb(u,r),u in eh)return;eh[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!r)for(let v=o.length-1;v>=0;v--){const x=o[v];if(x.href===u&&(!c||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const y=document.createElement("link");if(y.rel=c?"stylesheet":Tb,c||(y.as="script"),y.crossOrigin="",y.href=u,l&&y.setAttribute("nonce",l),document.head.appendChild(y),c)return new Promise((v,x)=>{y.addEventListener("load",v),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Cb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vi(async()=>{const{default:r}=await Promise.resolve().then(()=>Yr);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Qc extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Pb extends Qc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class th extends Qc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nh extends Qc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _u;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_u||(_u={}));var Nb=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Ab{constructor(t,{headers:n={},customFetch:r,region:s=_u.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Cb(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Nb(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(x=>{throw new Pb(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new th(f);if(!f.ok)throw new nh(f);let y=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return y==="application/json"?v=yield f.json():y==="application/octet-stream"?v=yield f.blob():y==="text/event-stream"?v=f:y==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof nh||s instanceof th?s.context:void 0}}})}}var Ve={},Jc={},ga={},xi={},ya={},va={},Rb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wr=Rb();const Lb=Wr.fetch,cy=Wr.fetch.bind(Wr),dy=Wr.Headers,Ob=Wr.Request,Ib=Wr.Response,Yr=Object.freeze(Object.defineProperty({__proto__:null,Headers:dy,Request:Ob,Response:Ib,default:cy,fetch:Lb},Symbol.toStringTag,{value:"Module"})),Db=g0(Yr);var xa={};Object.defineProperty(xa,"__esModule",{value:!0});let $b=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};xa.default=$b;var fy=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(va,"__esModule",{value:!0});const Mb=fy(Db),Vb=fy(xa);let Ub=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Mb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,u;let c=null,f=null,h=null,y=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=p:f=JSON.parse(p))}const _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,y=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const _=await i.text();try{c=JSON.parse(_),Array.isArray(c)&&i.status===404&&(f=[],c=null,y=200,v="OK")}catch{i.status===404&&_===""?(y=204,v="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,y=200,v="OK"),c&&this.shouldThrowOnError)throw new Vb.default(c)}return{error:c,data:f,count:h,status:y,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};va.default=Ub;var Fb=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ya,"__esModule",{value:!0});const Bb=Fb(va);let zb=class extends Bb.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};ya.default=zb;var Wb=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});const Hb=Wb(ya);let Kb=class extends Hb.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};xi.default=Kb;var qb=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ga,"__esModule",{value:!0});const ds=qb(xi);let Gb=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new ds.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ds.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ds.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ds.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ds.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ga.default=Gb;var hy=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jc,"__esModule",{value:!0});const Xb=hy(ga),Qb=hy(xi);let Jb=class py{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Xb.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new py(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(a="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new Qb.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Jc.default=Jb;var Zr=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const my=Zr(Jc);Ve.PostgrestClient=my.default;const gy=Zr(ga);Ve.PostgrestQueryBuilder=gy.default;const yy=Zr(xi);Ve.PostgrestFilterBuilder=yy.default;const vy=Zr(ya);Ve.PostgrestTransformBuilder=vy.default;const xy=Zr(va);Ve.PostgrestBuilder=xy.default;const wy=Zr(xa);Ve.PostgrestError=wy.default;var Yb=Ve.default={PostgrestClient:my.default,PostgrestQueryBuilder:gy.default,PostgrestFilterBuilder:yy.default,PostgrestTransformBuilder:vy.default,PostgrestBuilder:xy.default,PostgrestError:wy.default};const{PostgrestClient:Zb,PostgrestQueryBuilder:uP,PostgrestFilterBuilder:cP,PostgrestTransformBuilder:dP,PostgrestBuilder:fP,PostgrestError:hP}=Yb;class e1{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const t1="2.15.1",n1=`realtime-js/${t1}`,r1="1.0.0",bu=1e4,s1=1e3,i1=100;var Cs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Cs||(Cs={}));var pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pe||(pe={}));var ht;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ht||(ht={}));var Su;(function(e){e.websocket="websocket"})(Su||(Su={}));var On;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(On||(On={}));class o1{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class _y{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(G||(G={}));const rh=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=a1(o,e,t,s),i),{})},a1=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?by(i,o):ku(o)},by=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return d1(t,n)}switch(e){case G.bool:return l1(t);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return u1(t);case G.json:case G.jsonb:return c1(t);case G.timestamp:return f1(t);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return ku(t);default:return ku(t)}},ku=e=>e,l1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},u1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},c1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},d1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>by(t,a))}return e},f1=e=>typeof e=="string"?e.replace(" ","T"):e,Sy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Za{constructor(t,n,r={},s=bu){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sh||(sh={}));class Ps{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ps.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ps.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ps.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const h=c.map(_=>_.presence_ref),y=f.map(_=>_.presence_ref),v=c.filter(_=>y.indexOf(_.presence_ref)<0),x=f.filter(_=>h.indexOf(_.presence_ref)<0);v.length>0&&(a[u]=v),x.length>0&&(l[u]=x)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const f=t[a].map(y=>y.presence_ref),h=c.filter(y=>f.indexOf(y.presence_ref)<0);t[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ih;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ih||(ih={}));var Ns;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ns||(Ns={}));var Rt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rt||(Rt={}));class Yc{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Za(this,ht.join,this.params,this.timeout),this.rejoinTimer=new _y(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ps(this),this.broadcastEndpointURL=Sy(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,l=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Ns.PRESENCE]&&this.bindings[Ns.PRESENCE].length>0,c={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Rt.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Rt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var y;if(this.socket.setAuth(),h===void 0){t==null||t(Rt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,_=[];for(let g=0;g<x;g++){const p=v[g],{filter:{event:m,schema:b,table:S,filter:k}}=p,E=h&&h[g];if(E&&E.event===m&&E.schema===b&&E.table===S&&E.filter===k)_.push(Object.assign(Object.assign({},p),{id:E.id}));else{this.unsubscribe(),this.state=pe.errored,t==null||t(Rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(Rt.SUBSCRIBED);return}}).receive("error",h=>{this.state=pe.errored,t==null||t(Rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===pe.joined&&t===Ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Za(this,ht.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Za(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>i1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ht;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,x,_;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(x=y.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(y=>y.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,x,_,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const b=y.id,S=(v=y.filter)===null||v===void 0?void 0:v.event;return b&&((x=n.ids)===null||x===void 0?void 0:x.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:x,table:_,commit_timestamp:g,type:p,errors:m}=v;h=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(v))}y.callback(h,r)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Yc.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ht.close,{},t)}_onError(t){this._on(ht.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=rh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=rh(t.columns,t.old_record)),n}}const oh=()=>{},Wi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},h1=[1e3,2e3,5e3,1e4],p1=1e4,m1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class g1{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bu,this.transport=null,this.heartbeatIntervalMs=Wi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oh,this.ref=0,this.reconnectTimer=null,this.logger=oh,this.conn=null,this.sendBuffer=[],this.serializer=new o1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>vi(async()=>{const{default:a}=await Promise.resolve().then(()=>Yr);return{default:a}},void 0,import.meta.url).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Su.websocket}`,this.httpEndpoint=Sy(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=e1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:r1}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Cs.connecting:return On.Connecting;case Cs.open:return On.Open;case Cs.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Yc(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(s1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Wi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ht.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([m1],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:n1};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ht.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new _y(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:bu,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Wi.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t==null?void 0:t.reconnectAfterMs)!==null&&a!==void 0?a:c=>h1[c-1]||p1,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(c,f)=>f(JSON.stringify(c)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Zc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function me(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class y1 extends Zc{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Eu extends Zc{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var v1=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const ky=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vi(async()=>{const{default:r}=await Promise.resolve().then(()=>Yr);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},x1=()=>v1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vi(()=>Promise.resolve().then(()=>Yr),void 0,import.meta.url)).Response:Response}),Tu=e=>{if(Array.isArray(e))return e.map(n=>Tu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Tu(r)}),t},w1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var nr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const el=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_1=(e,t,n)=>nr(void 0,void 0,void 0,function*(){const r=yield x1();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new y1(el(s),i,o))}).catch(s=>{t(new Eu(el(s),s))}):t(new Eu(el(e),e))}),b1=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(w1(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function wi(e,t,n,r,s,i){return nr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,b1(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>_1(l,a,r))})})}function Fo(e,t,n,r){return nr(this,void 0,void 0,function*(){return wi(e,"GET",t,n,r)})}function bt(e,t,n,r,s){return nr(this,void 0,void 0,function*(){return wi(e,"POST",t,r,s,n)})}function ju(e,t,n,r,s){return nr(this,void 0,void 0,function*(){return wi(e,"PUT",t,r,s,n)})}function S1(e,t,n,r){return nr(this,void 0,void 0,function*(){return wi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ey(e,t,n,r,s){return nr(this,void 0,void 0,function*(){return wi(e,"DELETE",t,r,s,n)})}var Ae=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const k1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ah={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class E1{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=ky(s)}uploadOrUpdate(t,n,r,s){return Ae(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ah),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(t=="PUT"?ju:bt)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ae(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:ah.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield ju(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(me(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield bt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Zc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ae(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ae(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ae(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield bt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ae(this,void 0,void 0,function*(){try{const s=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}download(t,n){return Ae(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Fo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(me(a))return{data:null,error:a};throw a}})}info(t){return Ae(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Fo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Tu(r),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}exists(t){return Ae(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield S1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(me(r)&&r instanceof Eu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield Ey(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ae(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},k1),n),{prefix:t||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}listV2(t,n){return Ae(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield bt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const T1="2.11.0",j1={"X-Client-Info":`storage-js/${T1}`};var ir=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class C1{constructor(t,n={},r,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},j1),n),this.fetch=ky(r)}listBuckets(){return ir(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}getBucket(t){return ir(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ir(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ir(this,void 0,void 0,function*(){try{return{data:yield ju(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ir(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ir(this,void 0,void 0,function*(){try{return{data:yield Ey(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}}class P1 extends C1{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new E1(this.url,this.headers,t,this.fetch)}}const N1="2.56.0";let ys="";typeof Deno<"u"?ys="deno":typeof document<"u"?ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ys="react-native":ys="node";const A1={"X-Client-Info":`supabase-js-${ys}/${N1}`},R1={headers:A1},L1={schema:"public"},O1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I1={};var D1=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const $1=e=>{let t;return e?t=e:typeof fetch>"u"?t=cy:t=fetch,(...n)=>t(...n)},M1=()=>typeof Headers>"u"?dy:Headers,V1=(e,t,n)=>{const r=$1(n),s=M1();return(i,o)=>D1(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var U1=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function F1(e){return e.endsWith("/")?e:e+"/"}function B1(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:f}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>U1(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Ty="2.71.1",cr=30*1e3,Cu=3,tl=Cu*cr,z1="http://localhost:9999",W1="supabase.auth.token",H1={"X-Client-Info":`gotrue-js/${Ty}`},Pu="X-Supabase-Api-Version",jy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,q1=10*60*1e3;class ed extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class G1 extends ed{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function X1(e){return D(e)&&e.name==="AuthApiError"}class Cy extends ed{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class _n extends ed{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class qt extends _n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Q1(e){return D(e)&&e.name==="AuthSessionMissingError"}class Hi extends _n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ki extends _n{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qi extends _n{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function J1(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class lh extends _n{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nu extends _n{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function nl(e){return D(e)&&e.name==="AuthRetryableFetchError"}class uh extends _n{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Au extends _n{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ch=` 	
\r=`.split(""),Y1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ch.length;t+=1)e[ch[t].charCodeAt(0)]=-2;for(let t=0;t<Bo.length;t+=1)e[Bo[t].charCodeAt(0)]=t;return e})();function dh(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bo[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bo[r]),t.queuedBits-=6}}function Py(e,t,n){const r=Y1[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function fh(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{tS(o,r,n)};for(let o=0;o<e.length;o+=1)Py(e.charCodeAt(o),s,i);return t.join("")}function Z1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function eS(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Z1(r,t)}}function tS(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function nS(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Py(e.charCodeAt(s),n,r);return new Uint8Array(t)}function rS(e){const t=[];return eS(e,n=>t.push(n)),new Uint8Array(t)}function sS(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>dh(s,n,r)),dh(null,n,r),t.join("")}function iS(e){return Math.round(Date.now()/1e3)+e}function oS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ut=()=>typeof window<"u"&&typeof document<"u",jn={tested:!1,writable:!1},Ny=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jn.tested)return jn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),jn.tested=!0,jn.writable=!0}catch{jn.tested=!0,jn.writable=!1}return jn.writable};function aS(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Ay=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>vi(async()=>{const{default:r}=await Promise.resolve().then(()=>Yr);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},lS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",dr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Cn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Kt=async(e,t)=>{await e.removeItem(t)};class wa{constructor(){this.promise=new wa.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}wa.promiseConstructor=Promise;function rl(e){const t=e.split(".");if(t.length!==3)throw new Au("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!K1.test(t[r]))throw new Au("JWT not in base64url format");return{header:JSON.parse(fh(t[0])),payload:JSON.parse(fh(t[1])),signature:nS(t[2]),raw:{header:t[0],payload:t[1]}}}async function uS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cS(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function dS(e){return("0"+e.toString(16)).substr(-2)}function fS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,dS).join("")}async function hS(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function pS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await hS(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function or(e,t,n=!1){const r=fS();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await dr(e,`${t}-code-verifier`,s);const i=await pS(r);return[i,r===i?"plain":"s256"]}const mS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gS(e){const t=e.headers.get(Pu);if(!t||!t.match(mS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ar(e){if(!xS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sl(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hh(e){return JSON.parse(JSON.stringify(e))}var wS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Rn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_S=[502,503,504];async function ph(e){var t;if(!lS(e))throw new Nu(Rn(e),0);if(_S.includes(e.status))throw new Nu(Rn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Cy(Rn(i),i)}let r;const s=gS(e);if(s&&s.getTime()>=jy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new uh(Rn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new qt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new uh(Rn(n),e.status,n.weak_password.reasons);throw new G1(Rn(n),e.status||500,r)}const bS=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Pu]||(i[Pu]=jy["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await SS(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function SS(e,t,n,r,s,i){const o=bS(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Nu(Rn(l),0)}if(a.ok||await ph(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await ph(l)}}function Nt(e){var t;let n=null;jS(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=iS(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function mh(e){const t=Nt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kS(e){return{data:e,error:null}}function ES(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=wS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function TS(e){return e}function jS(e){return e.access_token&&e.refresh_token&&e.expires_in}const il=["global","local","others"];var CS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class PS{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Ay(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=il[0]){if(il.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${il.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=CS(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ES,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:TS});if(c.error)throw c.error;const f=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ar(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ar(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Zt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ar(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ar(t.userId);try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ar(t.userId),ar(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}function gh(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function NS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const lr={debug:!!(globalThis&&Ny()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ry extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class AS extends Ry{}async function RS(e,t,n){lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new AS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(lr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}NS();const LS={url:z1,storageKey:W1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:H1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yh(e,t,n){return await n()}const ur={};class ni{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ni.nextInstanceID,ni.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},LS),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new PS({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ay(s.fetch),this.lock=s.lock||yh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ut()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=RS:this.lock=yh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ny()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=gh(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ur[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ur[this.storageKey]=Object.assign(Object.assign({},ur[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ur[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ur[this.storageKey]=Object.assign(Object.assign({},ur[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ty}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=aS(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ut()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),J1(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return D(n)?{error:n}:{error:new Cy("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Nt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:f,options:h}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await or(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:v},xform:Nt})}else if("phone"in t){const{phone:c,password:f,options:h}=t;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Nt})}else throw new Ki("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mh})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mh})}else throw new Ki("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Hi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,f,h,y;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:_,wallet:g,statement:p,options:m}=t;let b;if(ut())if(typeof g=="object")b=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const S=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:_,error:g}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:sS(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Nt});if(g)throw g;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Hi}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:g})}catch(_){if(D(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await Cn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Nt});if(await Kt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Hi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Nt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Hi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await or(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ki("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Nt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await or(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:kS})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new qt;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(D(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ki("You must provide either an email or phone number and a type")}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<tl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Cn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=sl()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Zt})})}catch(n){if(D(n))return Q1(n)&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new qt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await or(this.storage,this.storageKey));const{data:u,error:c}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Zt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new qt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=rl(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(D(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new qt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ut())throw new qi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lh("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new qi("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let h=c+f;l&&(h=parseInt(l));const y=h-c;y*1e3<=cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const v=h-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:x,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(D(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Cn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(X1(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=oS(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await or(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:h}=i;if(h)throw h;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",y,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ut()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await cS(async s=>(s>0&&await uS(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&nl(i)&&Date.now()+o-r<cr})}catch(r){if(this._debug(n,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ut()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Cn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Cn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await dr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:sl()}else if(s&&!s.user&&!s.user){const o=await Cn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Kt(this.storage,this.storageKey+"-user"),await dr(this.storage,this.storageKey,s)):s.user=sl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<tl;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${tl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),nl(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wa;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new qt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return nl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await dr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=hh(s);await dr(this.storage,this.storageKey,i)}else{const s=hh(n);await dr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Kt(this.storage,this.storageKey),await Kt(this.storage,this.storageKey+"-code-verifier"),await Kt(this.storage,this.storageKey+"-user"),this.userStorage&&await Kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),cr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${cr}ms, refresh threshold is ${Cu} ticks`),s<=Cu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ry)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await or(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=rl(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+q1>s)return r;const{data:i,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=rl(r);n!=null&&n.allowExpired||yS(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const c=vS(s.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,rS(`${a}.${l}`)))throw new Au("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}ni.nextInstanceID=0;const OS=ni;class IS extends OS{constructor(t){super(t)}}var DS=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class $S{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=F1(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:L1,realtime:I1,auth:Object.assign(Object.assign({},O1),{storageKey:u}),global:R1},f=B1(r??{},c);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=V1(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Zb(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new P1(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Ab(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return DS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IS({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new g1(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const MS=(e,t,n)=>new $S(e,t,n);function VS(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}VS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const US="https://cgqnrqbyvetcgwolkjvl.supabase.co",FS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNncW5ycWJ5dmV0Y2d3b2xranZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0MDIwOTYsImV4cCI6MjA2ODk3ODA5Nn0.IZ7IhPQrk8G5R3ombbtiqTlXBTDVlSwMAG7NF-hbR_k";let Ru;try{Ru=MS(US,FS,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{fetch:(...e)=>fetch(...e).catch(t=>{throw console.error("Supabase fetch error:",t),t})},realtime:{timeout:3e4}})}catch(e){console.error(" Failed to initialize Supabase client:",e),Ru={auth:{getSession:async()=>({data:{session:null},error:new Error("Supabase client failed to initialize")}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}},error:null})},from:()=>({select:()=>({eq:()=>({single:async()=>({data:null,error:new Error("Supabase client failed to initialize")})})}),insert:()=>({error:new Error("Supabase client failed to initialize")}),update:()=>({error:new Error("Supabase client failed to initialize")})})}}const $=Ru,Ly=w.createContext(null),BS=({children:e})=>{const[t,n]=w.useState(null),[r,s]=w.useState(null),[i,o]=w.useState(!0);w.useEffect(()=>{(async()=>{var g;const{data:x,error:_}=await $.auth.getSession();_&&console.error("Erreur rcupration session",_),s((x==null?void 0:x.session)||null),n(((g=x==null?void 0:x.session)==null?void 0:g.user)||null),o(!1)})();const{data:v}=$.auth.onAuthStateChange((x,_)=>{s(_),n((_==null?void 0:_.user)||null)});return()=>{var x;return(x=v==null?void 0:v.subscription)==null?void 0:x.unsubscribe()}},[]);const h={user:t,session:r,login:async(y,v)=>{const{error:x}=await $.auth.signInWithPassword({email:y,password:v});if(x)throw x},signup:async(y,v)=>{const{error:x}=await $.auth.signUp({email:y,password:v});if(x)throw x},loginWithGoogle:async()=>{const{error:y}=await $.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});if(y)throw y},loginWithFacebook:async()=>{const{error:y}=await $.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:`${window.location.origin}/dashboard`}});if(y)throw y},logout:async()=>{try{const{error:y}=await $.auth.signOut({scope:"local"});if(y)throw y}catch(y){throw console.error("Erreur logout:",y.message),y}},loading:i};return d.jsx(Ly.Provider,{value:h,children:e})},He=()=>{const e=w.useContext(Ly);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},td=w.createContext({});function nd(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const rd=typeof window<"u",Oy=rd?w.useLayoutEffect:w.useEffect,_a=w.createContext(null);function sd(e,t){e.indexOf(t)===-1&&e.push(t)}function id(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Bt=(e,t,n)=>n>t?t:n<e?e:n;let od=()=>{};const zt={},Iy=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Dy(e){return typeof e=="object"&&e!==null}const $y=e=>/^0[^.\s]+$/u.test(e);function ad(e){let t;return()=>(t===void 0&&(t=e()),t)}const st=e=>e,zS=(e,t)=>n=>t(e(n)),_i=(...e)=>e.reduce(zS),ri=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class ld{constructor(){this.subscriptions=[]}add(t){return sd(this.subscriptions,t),()=>id(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tt=e=>e*1e3,jt=e=>e/1e3;function My(e,t){return t?e*(1e3/t):0}const Vy=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,WS=1e-7,HS=12;function KS(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=Vy(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>WS&&++a<HS);return o}function bi(e,t,n,r){if(e===t&&n===r)return st;const s=i=>KS(i,0,1,e,n);return i=>i===0||i===1?i:Vy(s(i),t,r)}const Uy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Fy=e=>t=>1-e(1-t),By=bi(.33,1.53,.69,.99),ud=Fy(By),zy=Uy(ud),Wy=e=>(e*=2)<1?.5*ud(e):.5*(2-Math.pow(2,-10*(e-1))),cd=e=>1-Math.sin(Math.acos(e)),Hy=Fy(cd),Ky=Uy(cd),qS=bi(.42,0,1,1),GS=bi(0,0,.58,1),qy=bi(.42,0,.58,1),XS=e=>Array.isArray(e)&&typeof e[0]!="number",Gy=e=>Array.isArray(e)&&typeof e[0]=="number",QS={linear:st,easeIn:qS,easeInOut:qy,easeOut:GS,circIn:cd,circInOut:Ky,circOut:Hy,backIn:ud,backInOut:zy,backOut:By,anticipate:Wy},JS=e=>typeof e=="string",vh=e=>{if(Gy(e)){od(e.length===4);const[t,n,r,s]=e;return bi(t,n,r,s)}else if(JS(e))return QS[e];return e},Gi=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YS(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),e()),c(a)}const u={schedule:(c,f=!1,h=!1)=>{const v=h&&s?n:r;return f&&o.add(c),v.has(c)||v.add(c),c},cancel:c=>{r.delete(c),o.delete(c)},process:c=>{if(a=c,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,u.process(c))}};return u}const ZS=40;function Xy(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Gi.reduce((m,b)=>(m[b]=YS(i),m),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:h,render:y,postRender:v}=o,x=()=>{const m=zt.useManualTiming?s.timestamp:performance.now();n=!1,zt.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,ZS),1)),s.timestamp=m,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),c.process(s),f.process(s),h.process(s),y.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(x))},_=()=>{n=!0,r=!0,s.isProcessing||e(x)};return{schedule:Gi.reduce((m,b)=>{const S=o[b];return m[b]=(k,E=!1,T=!1)=>(n||_(),S.schedule(k,E,T)),m},{}),cancel:m=>{for(let b=0;b<Gi.length;b++)o[Gi[b]].cancel(m)},state:s,steps:o}}const{schedule:ee,cancel:mn,state:Se,steps:ol}=Xy(typeof requestAnimationFrame<"u"?requestAnimationFrame:st,!0);let fo;function ek(){fo=void 0}const Fe={now:()=>(fo===void 0&&Fe.set(Se.isProcessing||zt.useManualTiming?Se.timestamp:performance.now()),fo),set:e=>{fo=e,queueMicrotask(ek)}},Qy=e=>t=>typeof t=="string"&&t.startsWith(e),dd=Qy("--"),tk=Qy("var(--"),fd=e=>tk(e)?nk.test(e.split("/*")[0].trim()):!1,nk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,es={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},si={...es,transform:e=>Bt(0,1,e)},Xi={...es,default:1},As=e=>Math.round(e*1e5)/1e5,hd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rk(e){return e==null}const sk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pd=(e,t)=>n=>!!(typeof n=="string"&&sk.test(n)&&n.startsWith(e)||t&&!rk(n)&&Object.prototype.hasOwnProperty.call(n,t)),Jy=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(hd);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ik=e=>Bt(0,255,e),al={...es,transform:e=>Math.round(ik(e))},Mn={test:pd("rgb","red"),parse:Jy("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+al.transform(e)+", "+al.transform(t)+", "+al.transform(n)+", "+As(si.transform(r))+")"};function ok(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Lu={test:pd("#"),parse:ok,transform:Mn.transform},Si=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Gt=Si("deg"),Ct=Si("%"),O=Si("px"),ak=Si("vh"),lk=Si("vw"),xh={...Ct,parse:e=>Ct.parse(e)/100,transform:e=>Ct.transform(e*100)},kr={test:pd("hsl","hue"),parse:Jy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ct.transform(As(t))+", "+Ct.transform(As(n))+", "+As(si.transform(r))+")"},ce={test:e=>Mn.test(e)||Lu.test(e)||kr.test(e),parse:e=>Mn.test(e)?Mn.parse(e):kr.test(e)?kr.parse(e):Lu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Mn.transform(e):kr.transform(e),getAnimatableNone:e=>{const t=ce.parse(e);return t.alpha=0,ce.transform(t)}},uk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ck(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(hd))==null?void 0:t.length)||0)+(((n=e.match(uk))==null?void 0:n.length)||0)>0}const Yy="number",Zy="color",dk="var",fk="var(",wh="${}",hk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ii(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(hk,l=>(ce.test(l)?(r.color.push(i),s.push(Zy),n.push(ce.parse(l))):l.startsWith(fk)?(r.var.push(i),s.push(dk),n.push(l)):(r.number.push(i),s.push(Yy),n.push(parseFloat(l))),++i,wh)).split(wh);return{values:n,split:a,indexes:r,types:s}}function ev(e){return ii(e).values}function tv(e){const{split:t,types:n}=ii(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===Yy?i+=As(s[o]):a===Zy?i+=ce.transform(s[o]):i+=s[o]}return i}}const pk=e=>typeof e=="number"?0:ce.test(e)?ce.getAnimatableNone(e):e;function mk(e){const t=ev(e);return tv(e)(t.map(pk))}const gn={test:ck,parse:ev,createTransformer:tv,getAnimatableNone:mk};function ll(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function gk({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=ll(l,a,e+1/3),i=ll(l,a,e),o=ll(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function zo(e,t){return n=>n>0?t:e}const re=(e,t,n)=>e+(t-e)*n,ul=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},yk=[Lu,Mn,kr],vk=e=>yk.find(t=>t.test(e));function _h(e){const t=vk(e);if(!t)return!1;let n=t.parse(e);return t===kr&&(n=gk(n)),n}const bh=(e,t)=>{const n=_h(e),r=_h(t);if(!n||!r)return zo(e,t);const s={...n};return i=>(s.red=ul(n.red,r.red,i),s.green=ul(n.green,r.green,i),s.blue=ul(n.blue,r.blue,i),s.alpha=re(n.alpha,r.alpha,i),Mn.transform(s))},Ou=new Set(["none","hidden"]);function xk(e,t){return Ou.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function wk(e,t){return n=>re(e,t,n)}function md(e){return typeof e=="number"?wk:typeof e=="string"?fd(e)?zo:ce.test(e)?bh:Sk:Array.isArray(e)?nv:typeof e=="object"?ce.test(e)?bh:_k:zo}function nv(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>md(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function _k(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=md(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function bk(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const Sk=(e,t)=>{const n=gn.createTransformer(t),r=ii(e),s=ii(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ou.has(e)&&!s.values.length||Ou.has(t)&&!r.values.length?xk(e,t):_i(nv(bk(r,s),s.values),n):zo(e,t)};function rv(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?re(e,t,n):md(e)(e,t)}const kk=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ee.update(t,n),stop:()=>mn(t),now:()=>Se.isProcessing?Se.timestamp:Fe.now()}},sv=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Wo=2e4;function gd(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Wo;)t+=n,r=e.next(t);return t>=Wo?1/0:t}function Ek(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(gd(r),Wo);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:jt(s)}}const Tk=5;function iv(e,t,n){const r=Math.max(t-Tk,0);return My(n-e(r),t-r)}const oe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cl=.001;function jk({duration:e=oe.duration,bounce:t=oe.bounce,velocity:n=oe.velocity,mass:r=oe.mass}){let s,i,o=1-t;o=Bt(oe.minDamping,oe.maxDamping,o),e=Bt(oe.minDuration,oe.maxDuration,jt(e)),o<1?(s=u=>{const c=u*o,f=c*e,h=c-n,y=Iu(u,o),v=Math.exp(-f);return cl-h/y*v},i=u=>{const f=u*o*e,h=f*n+n,y=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-f),x=Iu(Math.pow(u,2),o);return(-s(u)+cl>0?-1:1)*((h-y)*v)/x}):(s=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-cl+c*f},i=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=Pk(s,i,a);if(e=Tt(e),isNaN(l))return{stiffness:oe.stiffness,damping:oe.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Ck=12;function Pk(e,t,n){let r=n;for(let s=1;s<Ck;s++)r=r-e(r)/t(r);return r}function Iu(e,t){return e*Math.sqrt(1-t*t)}const Nk=["duration","bounce"],Ak=["stiffness","damping","mass"];function Sh(e,t){return t.some(n=>e[n]!==void 0)}function Rk(e){let t={velocity:oe.velocity,stiffness:oe.stiffness,damping:oe.damping,mass:oe.mass,isResolvedFromDuration:!1,...e};if(!Sh(e,Ak)&&Sh(e,Nk))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Bt(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:oe.mass,stiffness:s,damping:i}}else{const n=jk(e);t={...t,...n,mass:oe.mass},t.isResolvedFromDuration=!0}return t}function Ho(e=oe.visualDuration,t=oe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:f,velocity:h,isResolvedFromDuration:y}=Rk({...n,velocity:-jt(n.velocity||0)}),v=h||0,x=u/(2*Math.sqrt(l*c)),_=o-i,g=jt(Math.sqrt(l/c)),p=Math.abs(_)<5;r||(r=p?oe.restSpeed.granular:oe.restSpeed.default),s||(s=p?oe.restDelta.granular:oe.restDelta.default);let m;if(x<1){const S=Iu(g,x);m=k=>{const E=Math.exp(-x*g*k);return o-E*((v+x*g*_)/S*Math.sin(S*k)+_*Math.cos(S*k))}}else if(x===1)m=S=>o-Math.exp(-g*S)*(_+(v+g*_)*S);else{const S=g*Math.sqrt(x*x-1);m=k=>{const E=Math.exp(-x*g*k),T=Math.min(S*k,300);return o-E*((v+x*g*_)*Math.sinh(T)+S*_*Math.cosh(T))/S}}const b={calculatedDuration:y&&f||null,next:S=>{const k=m(S);if(y)a.done=S>=f;else{let E=S===0?v:0;x<1&&(E=S===0?Tt(v):iv(m,S,k));const T=Math.abs(E)<=r,C=Math.abs(o-k)<=s;a.done=T&&C}return a.value=a.done?o:k,a},toString:()=>{const S=Math.min(gd(b),Wo),k=sv(E=>b.next(S*E).value,S,30);return S+"ms "+k},toTransition:()=>{}};return b}Ho.applyToOptions=e=>{const t=Ek(e,100,Ho);return e.ease=t.ease,e.duration=Tt(t.duration),e.type="keyframes",e};function Du({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],h={done:!1,value:f},y=T=>a!==void 0&&T<a||l!==void 0&&T>l,v=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let x=n*t;const _=f+x,g=o===void 0?_:o(_);g!==_&&(x=g-f);const p=T=>-x*Math.exp(-T/r),m=T=>g+p(T),b=T=>{const C=p(T),A=m(T);h.done=Math.abs(C)<=u,h.value=h.done?g:A};let S,k;const E=T=>{y(h.value)&&(S=T,k=Ho({keyframes:[h.value,v(h.value)],velocity:iv(m,T,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:T=>{let C=!1;return!k&&S===void 0&&(C=!0,b(T),E(T)),S!==void 0&&T>=S?k.next(T-S):(!C&&b(T),h)}}}function Lk(e,t,n){const r=[],s=n||zt.mix||rv,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||st:t;a=_i(l,a)}r.push(a)}return r}function Ok(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(od(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Lk(t,r,s),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(c<e[f+1]);f++);const h=ri(e[f],e[f+1],c);return a[f](h)};return n?c=>u(Bt(e[0],e[i-1],c)):u}function Ik(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=ri(0,t,r);e.push(re(n,1,s))}}function Dk(e){const t=[0];return Ik(t,e.length-1),t}function $k(e,t){return e.map(n=>n*t)}function Mk(e,t){return e.map(()=>t||qy).splice(0,e.length-1)}function Rs({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=XS(r)?r.map(vh):vh(r),i={done:!1,value:t[0]},o=$k(n&&n.length===t.length?n:Dk(t),e),a=Ok(o,t,{ease:Array.isArray(s)?s:Mk(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const Vk=e=>e!==null;function yd(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(Vk),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Uk={decay:Du,inertia:Du,tween:Rs,keyframes:Rs,spring:Ho};function ov(e){typeof e.type=="string"&&(e.type=Uk[e.type])}class vd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Fk=e=>e/100;class xd extends vd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Fe.now()&&this.tick(Fe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ov(t);const{type:n=Rs,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Rs;l!==Rs&&typeof a[0]!="number"&&(this.mixKeyframes=_i(Fk,rv(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=gd(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:h,repeatDelay:y,type:v,onUpdate:x,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let m=this.currentTime,b=r;if(f){const T=Math.min(this.currentTime,s)/a;let C=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(h==="reverse"?(A=1-A,y&&(A-=y/a)):h==="mirror"&&(b=o)),m=Bt(0,1,A)*a}const S=p?{done:!1,value:c[0]}:b.next(m);i&&(S.value=i(S.value));let{done:k}=S;!p&&l!==null&&(k=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return E&&v!==Du&&(S.value=yd(c,this.options,_,this.speed)),x&&x(S.value),E&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return jt(this.calculatedDuration)}get time(){return jt(this.currentTime)}set time(t){var n;t=Tt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fe.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=jt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=kk,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Bk(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Vn=e=>e*180/Math.PI,$u=e=>{const t=Vn(Math.atan2(e[1],e[0]));return Mu(t)},zk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:$u,rotateZ:$u,skewX:e=>Vn(Math.atan(e[1])),skewY:e=>Vn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Mu=e=>(e=e%360,e<0&&(e+=360),e),kh=$u,Eh=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Th=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Wk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Eh,scaleY:Th,scale:e=>(Eh(e)+Th(e))/2,rotateX:e=>Mu(Vn(Math.atan2(e[6],e[5]))),rotateY:e=>Mu(Vn(Math.atan2(-e[2],e[0]))),rotateZ:kh,rotate:kh,skewX:e=>Vn(Math.atan(e[4])),skewY:e=>Vn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Vu(e){return e.includes("scale")?1:0}function Uu(e,t){if(!e||e==="none")return Vu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Wk,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=zk,s=a}if(!s)return Vu(t);const i=r[t],o=s[1].split(",").map(Kk);return typeof i=="function"?i(o):o[i]}const Hk=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Uu(n,t)};function Kk(e){return parseFloat(e.trim())}const ts=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ns=new Set(ts),jh=e=>e===es||e===O,qk=new Set(["x","y","z"]),Gk=ts.filter(e=>!qk.has(e));function Xk(e){const t=[];return Gk.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const zn={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Uu(t,"x"),y:(e,{transform:t})=>Uu(t,"y")};zn.translateX=zn.x;zn.translateY=zn.y;const Wn=new Set;let Fu=!1,Bu=!1,zu=!1;function av(){if(Bu){const e=Array.from(Wn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Xk(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bu=!1,Fu=!1,Wn.forEach(e=>e.complete(zu)),Wn.clear()}function lv(){Wn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Bu=!0)})}function Qk(){zu=!0,lv(),av(),zu=!1}class wd{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Wn.add(this),Fu||(Fu=!0,ee.read(lv),ee.resolveKeyframes(av))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}Bk(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Wn.delete(this)}cancel(){this.state==="scheduled"&&(Wn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Jk=e=>e.startsWith("--");function Yk(e,t,n){Jk(t)?e.style.setProperty(t,n):e.style[t]=n}const Zk=ad(()=>window.ScrollTimeline!==void 0),eE={};function tE(e,t){const n=ad(e);return()=>eE[t]??n()}const uv=tE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ch={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vs([0,.65,.55,1]),circOut:vs([.55,0,1,.45]),backIn:vs([.31,.01,.66,-.59]),backOut:vs([.33,1.53,.69,.99])};function cv(e,t){if(e)return typeof e=="function"?uv()?sv(e,t):"ease-out":Gy(e)?vs(e):Array.isArray(e)?e.map(n=>cv(n,t)||Ch.easeOut):Ch[e]}function nE(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const f=cv(a,s);Array.isArray(f)&&(c.easing=f);const h={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(c,h)}function dv(e){return typeof e=="function"&&"applyToOptions"in e}function rE({type:e,...t}){return dv(e)&&uv()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class sE extends vd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,od(typeof t.type!="string");const u=rE(t);this.animation=nE(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=yd(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):Yk(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return jt(Number(t))}get time(){return jt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Tt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Zk()?(this.animation.timeline=t,st):n(this)}}const fv={anticipate:Wy,backInOut:zy,circInOut:Ky};function iE(e){return e in fv}function oE(e){typeof e.ease=="string"&&iE(e.ease)&&(e.ease=fv[e.ease])}const Ph=10;class aE extends sE{constructor(t){oE(t),ov(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new xd({...o,autoplay:!1}),l=Tt(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Ph).value,a.sample(l).value,Ph),a.stop()}}const Nh=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(gn.test(e)||e==="0")&&!e.startsWith("url("));function lE(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function uE(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Nh(s,t),a=Nh(i,t);return!o||!a?!1:lE(e)||(n==="spring"||dv(n))&&r}function Wu(e){e.duration=0,e.type}const cE=new Set(["opacity","clipPath","filter","transform"]),dE=ad(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fE(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return dE()&&n&&cE.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const hE=40;class pE extends vd{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...f}){var v;super(),this.stop=()=>{var x,_;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=Fe.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:c,...f},y=(c==null?void 0:c.KeyframeResolver)||wd;this.keyframeResolver=new y(a,(x,_,g)=>this.onKeyframesResolved(x,_,h,!g),l,u,c),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=Fe.now(),uE(t,i,o,a)||((zt.instantAnimations||!l)&&(c==null||c(yd(t,r,n))),t[0]=t[t.length-1],Wu(r),r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>hE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},y=!u&&fE(h)?new aE({...h,element:h.motionValue.owner.current}):new xd(h);y.finished.then(()=>this.notifyFinished()).catch(st),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Qk()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const mE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gE(e){const t=mE.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function hv(e,t,n=1){const[r,s]=gE(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Iy(o)?parseFloat(o):o}return fd(s)?hv(s,t,n+1):s}function _d(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const pv=new Set(["width","height","top","left","right","bottom",...ts]),yE={test:e=>e==="auto",parse:e=>e},mv=e=>t=>t.test(e),gv=[es,O,Ct,Gt,lk,ak,yE],Ah=e=>gv.find(mv(e));function vE(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$y(e):!0}const xE=new Set(["brightness","contrast","saturate","opacity"]);function wE(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(hd)||[];if(!r)return e;const s=n.replace(r,"");let i=xE.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const _E=/\b([a-z-]*)\(.*?\)/gu,Hu={...gn,getAnimatableNone:e=>{const t=e.match(_E);return t?t.map(wE).join(" "):e}},Rh={...es,transform:Math.round},bE={rotate:Gt,rotateX:Gt,rotateY:Gt,rotateZ:Gt,scale:Xi,scaleX:Xi,scaleY:Xi,scaleZ:Xi,skew:Gt,skewX:Gt,skewY:Gt,distance:O,translateX:O,translateY:O,translateZ:O,x:O,y:O,z:O,perspective:O,transformPerspective:O,opacity:si,originX:xh,originY:xh,originZ:O},bd={borderWidth:O,borderTopWidth:O,borderRightWidth:O,borderBottomWidth:O,borderLeftWidth:O,borderRadius:O,radius:O,borderTopLeftRadius:O,borderTopRightRadius:O,borderBottomRightRadius:O,borderBottomLeftRadius:O,width:O,maxWidth:O,height:O,maxHeight:O,top:O,right:O,bottom:O,left:O,padding:O,paddingTop:O,paddingRight:O,paddingBottom:O,paddingLeft:O,margin:O,marginTop:O,marginRight:O,marginBottom:O,marginLeft:O,backgroundPositionX:O,backgroundPositionY:O,...bE,zIndex:Rh,fillOpacity:si,strokeOpacity:si,numOctaves:Rh},SE={...bd,color:ce,backgroundColor:ce,outlineColor:ce,fill:ce,stroke:ce,borderColor:ce,borderTopColor:ce,borderRightColor:ce,borderBottomColor:ce,borderLeftColor:ce,filter:Hu,WebkitFilter:Hu},yv=e=>SE[e];function vv(e,t){let n=yv(e);return n!==Hu&&(n=gn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const kE=new Set(["auto","none","0"]);function EE(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!kE.has(i)&&ii(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=vv(n,s)}class TE extends wd{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),fd(u))){const c=hv(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!pv.has(r)||t.length!==2)return;const[s,i]=t,o=Ah(s),a=Ah(i);if(o!==a)if(jh(o)&&jh(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else zn[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||vE(t[s]))&&r.push(s);r.length&&EE(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=zn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function jE(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const xv=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function wv(e){return Dy(e)&&"offsetHeight"in e}const Lh=30,CE=e=>!isNaN(parseFloat(e));class PE{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Fe.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Fe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=CE(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ld);const r=this.events[t].add(n);return t==="change"?()=>{r(),ee.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Fe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Lh)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Lh);return My(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hr(e,t){return new PE(e,t)}const{schedule:Sd}=Xy(queueMicrotask,!1),ct={x:!1,y:!1};function _v(){return ct.x||ct.y}function NE(e){return e==="x"||e==="y"?ct[e]?null:(ct[e]=!0,()=>{ct[e]=!1}):ct.x||ct.y?null:(ct.x=ct.y=!0,()=>{ct.x=ct.y=!1})}function bv(e,t){const n=jE(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Oh(e){return!(e.pointerType==="touch"||_v())}function AE(e,t,n={}){const[r,s,i]=bv(e,n),o=a=>{if(!Oh(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const c=f=>{Oh(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Sv=(e,t)=>t?e===t?!0:Sv(e,t.parentElement):!1,kd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,RE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LE(e){return RE.has(e.tagName)||e.tabIndex!==-1}const ho=new WeakSet;function Ih(e){return t=>{t.key==="Enter"&&e(t)}}function dl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const OE=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Ih(()=>{if(ho.has(n))return;dl(n,"down");const s=Ih(()=>{dl(n,"up")}),i=()=>dl(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Dh(e){return kd(e)&&!_v()}function IE(e,t,n={}){const[r,s,i]=bv(e,n),o=a=>{const l=a.currentTarget;if(!Dh(a))return;ho.add(l);const u=t(l,a),c=(y,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),ho.has(l)&&ho.delete(l),Dh(y)&&typeof u=="function"&&u(y,{success:v})},f=y=>{c(y,l===window||l===document||n.useGlobalTarget||Sv(l,y.target))},h=y=>{c(y,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),wv(a)&&(a.addEventListener("focus",u=>OE(u,s)),!LE(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function kv(e){return Dy(e)&&"ownerSVGElement"in e}function DE(e){return kv(e)&&e.tagName==="svg"}const Pe=e=>!!(e&&e.getVelocity),$E=[...gv,ce,gn],ME=e=>$E.find(mv(e)),Ed=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class VE extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=wv(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function UE({children:e,isPresent:t,anchorX:n,root:r}){const s=w.useId(),i=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=w.useContext(Ed);return w.useInsertionEffect(()=>{const{width:l,height:u,top:c,left:f,right:h}=o.current;if(t||!i.current||!l||!u)return;const y=n==="left"?`left: ${f}`:`right: ${h}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");a&&(v.nonce=a);const x=r??document.head;return x.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${y}px !important;
            top: ${c}px !important;
          }
        `),()=>{x.contains(v)&&x.removeChild(v)}},[t]),d.jsx(VE,{isPresent:t,childRef:i,sizeRef:o,children:w.cloneElement(e,{ref:i})})}const FE=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const u=nd(BE),c=w.useId();let f=!0,h=w.useMemo(()=>(f=!1,{id:c,initial:t,isPresent:n,custom:s,onExitComplete:y=>{u.set(y,!0);for(const v of u.values())if(!v)return;r&&r()},register:y=>(u.set(y,!1),()=>u.delete(y))}),[n,u,r]);return i&&f&&(h={...h}),w.useMemo(()=>{u.forEach((y,v)=>u.set(v,!1))},[n]),w.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=d.jsx(UE,{isPresent:n,anchorX:a,root:l,children:e})),d.jsx(_a.Provider,{value:h,children:e})};function BE(){return new Map}function Ev(e=!0){const t=w.useContext(_a);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=w.useId();w.useEffect(()=>{if(e)return s(i)},[e]);const o=w.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Qi=e=>e.key||"";function $h(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const zE=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=Ev(o),f=w.useMemo(()=>$h(e),[e]),h=o&&!u?[]:f.map(Qi),y=w.useRef(!0),v=w.useRef(f),x=nd(()=>new Map),[_,g]=w.useState(f),[p,m]=w.useState(f);Oy(()=>{y.current=!1,v.current=f;for(let k=0;k<p.length;k++){const E=Qi(p[k]);h.includes(E)?x.delete(E):x.get(E)!==!0&&x.set(E,!1)}},[p,h.length,h.join("-")]);const b=[];if(f!==_){let k=[...f];for(let E=0;E<p.length;E++){const T=p[E],C=Qi(T);h.includes(C)||(k.splice(E,0,T),b.push(T))}return i==="wait"&&b.length&&(k=b),m($h(k)),g(f),null}const{forceRender:S}=w.useContext(td);return d.jsx(d.Fragment,{children:p.map(k=>{const E=Qi(k),T=o&&!u?!1:f===p||h.includes(E),C=()=>{if(x.has(E))x.set(E,!0);else return;let A=!0;x.forEach(M=>{M||(A=!1)}),A&&(S==null||S(),m(v.current),o&&(c==null||c()),r&&r())};return d.jsx(FE,{isPresent:T,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:T?void 0:C,anchorX:a,children:k},E)})})},Tv=w.createContext({strict:!1}),Mh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kr={};for(const e in Mh)Kr[e]={isEnabled:t=>Mh[e].some(n=>!!t[n])};function WE(e){for(const t in e)Kr[t]={...Kr[t],...e[t]}}const HE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ko(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||HE.has(e)}let jv=e=>!Ko(e);function KE(e){typeof e=="function"&&(jv=t=>t.startsWith("on")?!Ko(t):e(t))}try{KE(require("@emotion/is-prop-valid").default)}catch{}function qE(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(jv(s)||n===!0&&Ko(s)||!t&&!Ko(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const ba=w.createContext({});function Sa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function oi(e){return typeof e=="string"||Array.isArray(e)}const Td=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jd=["initial",...Td];function ka(e){return Sa(e.animate)||jd.some(t=>oi(e[t]))}function Cv(e){return!!(ka(e)||e.variants)}function GE(e,t){if(ka(e)){const{initial:n,animate:r}=e;return{initial:n===!1||oi(n)?n:void 0,animate:oi(r)?r:void 0}}return e.inherit!==!1?t:{}}function XE(e){const{initial:t,animate:n}=GE(e,w.useContext(ba));return w.useMemo(()=>({initial:t,animate:n}),[Vh(t),Vh(n)])}function Vh(e){return Array.isArray(e)?e.join(" "):e}const ai={};function QE(e){for(const t in e)ai[t]=e[t],dd(t)&&(ai[t].isCSSVariable=!0)}function Pv(e,{layout:t,layoutId:n}){return ns.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ai[e]||e==="opacity")}const JE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YE=ts.length;function ZE(e,t,n){let r="",s=!0;for(let i=0;i<YE;i++){const o=ts[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=xv(a,bd[o]);if(!l){s=!1;const c=JE[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Cd(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(ns.has(l)){o=!0;continue}else if(dd(l)){s[l]=u;continue}else{const c=xv(u,bd[l]);l.startsWith("origin")?(a=!0,i[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=ZE(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}const Pd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nv(e,t,n){for(const r in t)!Pe(t[r])&&!Pv(r,n)&&(e[r]=t[r])}function eT({transformTemplate:e},t){return w.useMemo(()=>{const n=Pd();return Cd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function tT(e,t){const n=e.style||{},r={};return Nv(r,n,e),Object.assign(r,eT(e,t)),r}function nT(e,t){const n={},r=tT(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const rT={offset:"stroke-dashoffset",array:"stroke-dasharray"},sT={offset:"strokeDashoffset",array:"strokeDasharray"};function iT(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?rT:sT;e[i.offset]=O.transform(-r);const o=O.transform(t),a=O.transform(n);e[i.array]=`${o} ${a}`}function Av(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,c){if(Cd(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&iT(f,s,i,o,!1)}const Rv=()=>({...Pd(),attrs:{}}),Lv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function oT(e,t,n,r){const s=w.useMemo(()=>{const i=Rv();return Av(i,t,Lv(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Nv(i,e.style,e),s.style={...i,...s.style}}return s}const aT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nd(e){return typeof e!="string"||e.includes("-")?!1:!!(aT.indexOf(e)>-1||/[A-Z]/u.test(e))}function lT(e,t,n,{latestValues:r},s,i=!1){const a=(Nd(e)?oT:nT)(t,r,s,e),l=qE(t,typeof e=="string",i),u=e!==w.Fragment?{...l,...a,ref:n}:{},{children:c}=t,f=w.useMemo(()=>Pe(c)?c.get():c,[c]);return w.createElement(e,{...u,children:f})}function Uh(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Ad(e,t,n,r){if(typeof t=="function"){const[s,i]=Uh(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Uh(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function po(e){return Pe(e)?e.get():e}function uT({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:cT(n,r,s,e),renderState:t()}}function cT(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=po(i[h]);let{initial:o,animate:a}=e;const l=ka(e),u=Cv(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!Sa(f)){const h=Array.isArray(f)?f:[f];for(let y=0;y<h.length;y++){const v=Ad(e,h[y]);if(v){const{transitionEnd:x,transition:_,...g}=v;for(const p in g){let m=g[p];if(Array.isArray(m)){const b=c?m.length-1:0;m=m[b]}m!==null&&(s[p]=m)}for(const p in x)s[p]=x[p]}}}return s}const Ov=e=>(t,n)=>{const r=w.useContext(ba),s=w.useContext(_a),i=()=>uT(e,t,r,s);return n?i():nd(i)};function Rd(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(Pe(r[o])||t.style&&Pe(t.style[o])||Pv(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const dT=Ov({scrapeMotionValuesFromProps:Rd,createRenderState:Pd});function Iv(e,t,n){const r=Rd(e,t,n);for(const s in e)if(Pe(e[s])||Pe(t[s])){const i=ts.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const fT=Ov({scrapeMotionValuesFromProps:Iv,createRenderState:Rv}),hT=Symbol.for("motionComponentSymbol");function Er(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function pT(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Er(n)&&(n.current=r))},[t])}const Ld=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mT="framerAppearId",Dv="data-"+Ld(mT),$v=w.createContext({});function gT(e,t,n,r,s){var x,_;const{visualElement:i}=w.useContext(ba),o=w.useContext(Tv),a=w.useContext(_a),l=w.useContext(Ed).reducedMotion,u=w.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=w.useContext($v);c&&!c.projection&&s&&(c.type==="html"||c.type==="svg")&&yT(u.current,n,s,f);const h=w.useRef(!1);w.useInsertionEffect(()=>{c&&h.current&&c.update(n,a)});const y=n[Dv],v=w.useRef(!!y&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,y))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,y)));return Oy(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),v.current&&c.animationState&&c.animationState.animateChanges())}),w.useEffect(()=>{c&&(!v.current&&c.animationState&&c.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,y)}),v.current=!1),c.enteringChildren=void 0)}),c}function yT(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Mv(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Er(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function Mv(e){if(e)return e.options.allowProjection!==!1?e.projection:Mv(e.parent)}function fl(e,{forwardMotionProps:t=!1}={},n,r){n&&WE(n);const s=Nd(e)?fT:dT;function i(a,l){let u;const c={...w.useContext(Ed),...a,layoutId:vT(a)},{isStatic:f}=c,h=XE(a),y=s(a,f);if(!f&&rd){xT();const v=wT(c);u=v.MeasureLayout,h.visualElement=gT(e,y,c,r,v.ProjectionNode)}return d.jsxs(ba.Provider,{value:h,children:[u&&h.visualElement?d.jsx(u,{visualElement:h.visualElement,...c}):null,lT(e,a,pT(y,h.visualElement,l),y,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=w.forwardRef(i);return o[hT]=e,o}function vT({layoutId:e}){const t=w.useContext(td).id;return t&&e!==void 0?t+"-"+e:e}function xT(e,t){w.useContext(Tv).strict}function wT(e){const{drag:t,layout:n}=Kr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function _T(e,t){if(typeof Proxy>"u")return fl;const n=new Map,r=(i,o)=>fl(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,fl(o,void 0,e,t)),n.get(o))})}function Vv({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function bT({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ST(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hl(e){return e===void 0||e===1}function Ku({scale:e,scaleX:t,scaleY:n}){return!hl(e)||!hl(t)||!hl(n)}function Ln(e){return Ku(e)||Uv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Uv(e){return Fh(e.x)||Fh(e.y)}function Fh(e){return e&&e!=="0%"}function qo(e,t,n){const r=e-n,s=t*r;return n+s}function Bh(e,t,n,r,s){return s!==void 0&&(e=qo(e,s,r)),qo(e,n,r)+t}function qu(e,t=0,n=1,r,s){e.min=Bh(e.min,t,n,r,s),e.max=Bh(e.max,t,n,r,s)}function Fv(e,{x:t,y:n}){qu(e.x,t.translate,t.scale,t.originPoint),qu(e.y,n.translate,n.scale,n.originPoint)}const zh=.999999999999,Wh=1.0000000000001;function kT(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Fv(e,o)),r&&Ln(i.latestValues)&&jr(e,i.latestValues))}t.x<Wh&&t.x>zh&&(t.x=1),t.y<Wh&&t.y>zh&&(t.y=1)}function Tr(e,t){e.min=e.min+t,e.max=e.max+t}function Hh(e,t,n,r,s=.5){const i=re(e.min,e.max,s);qu(e,t,n,i,r)}function jr(e,t){Hh(e.x,t.x,t.scaleX,t.scale,t.originX),Hh(e.y,t.y,t.scaleY,t.scale,t.originY)}function Bv(e,t){return Vv(ST(e.getBoundingClientRect(),t))}function ET(e,t,n){const r=Bv(e,n),{scroll:s}=t;return s&&(Tr(r.x,s.offset.x),Tr(r.y,s.offset.y)),r}const Kh=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cr=()=>({x:Kh(),y:Kh()}),qh=()=>({min:0,max:0}),le=()=>({x:qh(),y:qh()}),Gu={current:null},zv={current:!1};function TT(){if(zv.current=!0,!!rd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gu.current=e.matches;e.addEventListener("change",t),t()}else Gu.current=!1}const jT=new WeakMap;function CT(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Pe(s))e.addValue(r,s);else if(Pe(i))e.addValue(r,Hr(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Hr(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Gh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PT{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Fe.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ee.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=ka(n),this.isVariantNode=Cv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const y=f[h];l[h]!==void 0&&Pe(y)&&y.set(l[h])}}mount(t){var n;this.current=t,jT.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),zv.current||TT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gu.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),mn(this.notifyUpdate),mn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ns.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ee.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Kr){const n=Kr[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Gh.length;r++){const s=Gh[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=CT(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Hr(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Iy(r)||$y(r))?r=parseFloat(r):!ME(r)&&gn.test(n)&&(r=vv(t,n)),this.setBaseTarget(t,Pe(r)?r.get():r)),Pe(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Ad(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Pe(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ld),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Sd.render(this.render)}}class Wv extends PT{constructor(){super(...arguments),this.KeyframeResolver=TE}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Hv(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function NT(e){return window.getComputedStyle(e)}class AT extends Wv{constructor(){super(...arguments),this.type="html",this.renderInstance=Hv}readValueFromInstance(t,n){var r;if(ns.has(n))return(r=this.projection)!=null&&r.isProjecting?Vu(n):Hk(t,n);{const s=NT(t),i=(dd(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Bv(t,n)}build(t,n,r){Cd(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Rd(t,n,r)}}const Kv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RT(e,t,n,r){Hv(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Kv.has(s)?s:Ld(s),t.attrs[s])}class LT extends Wv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=le}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ns.has(n)){const r=yv(n);return r&&r.default||0}return n=Kv.has(n)?n:Ld(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Iv(t,n,r)}build(t,n,r){Av(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){RT(t,n,r,s)}mount(t){this.isSVGTag=Lv(t.tagName),super.mount(t)}}const OT=(e,t)=>Nd(e)?new LT(t):new AT(t,{allowProjection:e!==w.Fragment});function Ir(e,t,n){const r=e.getProps();return Ad(r,t,n!==void 0?n:r.custom,e)}const Xu=e=>Array.isArray(e);function IT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Hr(n))}function DT(e){return Xu(e)?e[e.length-1]||0:e}function $T(e,t){const n=Ir(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=DT(i[o]);IT(e,o,a)}}function MT(e){return!!(Pe(e)&&e.add)}function Qu(e,t){const n=e.getValue("willChange");if(MT(n))return n.add(t);if(!n&&zt.WillChange){const r=new zt.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function qv(e){return e.props[Dv]}const VT=e=>e!==null;function UT(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(VT),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const FT={type:"spring",stiffness:500,damping:25,restSpeed:10},BT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zT={type:"keyframes",duration:.8},WT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HT=(e,{keyframes:t})=>t.length>2?zT:ns.has(e)?e.startsWith("scale")?BT(t[1]):FT:WT;function KT({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const Od=(e,t,n,r={},s,i)=>o=>{const a=_d(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Tt(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};KT(a)||Object.assign(c,HT(e,c)),c.duration&&(c.duration=Tt(c.duration)),c.repeatDelay&&(c.repeatDelay=Tt(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Wu(c),c.delay===0&&(f=!0)),(zt.instantAnimations||zt.skipAnimations)&&(f=!0,Wu(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,f&&!i&&t.get()!==void 0){const h=UT(c.keyframes,a);if(h!==void 0){ee.update(()=>{c.onUpdate(h),c.onComplete()});return}}return a.isSync?new xd(c):new pE(c)};function qT({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Gv(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const c in a){const f=e.getValue(c,e.latestValues[c]??null),h=a[c];if(h===void 0||u&&qT(u,c))continue;const y={delay:n,..._d(i||{},c)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!y.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const g=qv(e);if(g){const p=window.MotionHandoffAnimation(g,c,ee);p!==null&&(y.startTime=p,x=!0)}}Qu(e,c),f.start(Od(c,f,h,e.shouldReduceMotion&&pv.has(c)?{type:!1}:y,e,x));const _=f.animation;_&&l.push(_)}return o&&Promise.all(l).then(()=>{ee.update(()=>{o&&$T(e,o)})}),l}function Xv(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Ju(e,t,n={}){var l;const r=Ir(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Gv(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:h}=s;return GT(e,t,u,c,f,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,c]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function GT(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Ju(l,t,{...o,delay:n+(typeof r=="function"?0:r)+Xv(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function XT(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Ju(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Ju(e,t,n);else{const s=typeof t=="function"?Ir(e,t,n.custom):t;r=Promise.all(Gv(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Qv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const QT=jd.length;function Jv(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Jv(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<QT;n++){const r=jd[n],s=e.props[r];(oi(s)||s===!1)&&(t[r]=s)}return t}const JT=[...Td].reverse(),YT=Td.length;function ZT(e){return t=>Promise.all(t.map(({animation:n,options:r})=>XT(e,n,r)))}function ej(e){let t=ZT(e),n=Xh(),r=!0;const s=l=>(u,c)=>{var h;const f=Ir(e,c,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:y,transitionEnd:v,...x}=f;u={...u,...x,...v}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,c=Jv(e.parent)||{},f=[],h=new Set;let y={},v=1/0;for(let _=0;_<YT;_++){const g=JT[_],p=n[g],m=u[g]!==void 0?u[g]:c[g],b=oi(m),S=g===l?p.isActive:null;S===!1&&(v=_);let k=m===c[g]&&m!==u[g]&&b;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),p.protectedKeys={...y},!p.isActive&&S===null||!m&&!p.prevProp||Sa(m)||typeof m=="boolean")continue;const E=tj(p.prevProp,m);let T=E||g===l&&p.isActive&&!k&&b||_>v&&b,C=!1;const A=Array.isArray(m)?m:[m];let M=A.reduce(s(g),{});S===!1&&(M={});const{prevResolvedValues:z={}}=p,he={...z,...M},xt=Q=>{T=!0,h.has(Q)&&(C=!0,h.delete(Q)),p.needsAnimating[Q]=!0;const N=e.getValue(Q);N&&(N.liveStyle=!1)};for(const Q in he){const N=M[Q],L=z[Q];if(y.hasOwnProperty(Q))continue;let I=!1;Xu(N)&&Xu(L)?I=!Qv(N,L):I=N!==L,I?N!=null?xt(Q):h.add(Q):N!==void 0&&h.has(Q)?xt(Q):p.protectedKeys[Q]=!0}p.prevProp=m,p.prevResolvedValues=M,p.isActive&&(y={...y,...M}),r&&e.blockInitialAnimation&&(T=!1);const Sn=k&&E;T&&(!Sn||C)&&f.push(...A.map(Q=>{const N={type:g};if(typeof Q=="string"&&r&&!Sn&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,I=Ir(L,Q);if(L.enteringChildren&&I){const{delayChildren:te}=I.transition||{};N.delay=Xv(L.enteringChildren,e,te)}}return{animation:Q,options:N}}))}if(h.size){const _={};if(typeof u.initial!="boolean"){const g=Ir(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(_.transition=g.transition)}h.forEach(g=>{const p=e.getBaseTarget(g),m=e.getValue(g);m&&(m.liveStyle=!0),_[g]=p??null}),f.push({animation:_})}let x=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(f):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var y;return(y=h.animationState)==null?void 0:y.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const h in n)n[h].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Xh(),r=!0}}}function tj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Qv(t,e):!1}function Pn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xh(){return{animate:Pn(!0),whileInView:Pn(),whileHover:Pn(),whileTap:Pn(),whileDrag:Pn(),whileFocus:Pn(),exit:Pn()}}class bn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class nj extends bn{constructor(t){super(t),t.animationState||(t.animationState=ej(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Sa(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let rj=0;class sj extends bn{constructor(){super(...arguments),this.id=rj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ij={animation:{Feature:nj},exit:{Feature:sj}};function li(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ki(e){return{point:{x:e.pageX,y:e.pageY}}}const oj=e=>t=>kd(t)&&e(t,ki(t));function Ls(e,t,n,r){return li(e,t,oj(n),r)}const Yv=1e-4,aj=1-Yv,lj=1+Yv,Zv=.01,uj=0-Zv,cj=0+Zv;function Oe(e){return e.max-e.min}function dj(e,t,n){return Math.abs(e-t)<=n}function Qh(e,t,n,r=.5){e.origin=r,e.originPoint=re(t.min,t.max,e.origin),e.scale=Oe(n)/Oe(t),e.translate=re(n.min,n.max,e.origin)-e.originPoint,(e.scale>=aj&&e.scale<=lj||isNaN(e.scale))&&(e.scale=1),(e.translate>=uj&&e.translate<=cj||isNaN(e.translate))&&(e.translate=0)}function Os(e,t,n,r){Qh(e.x,t.x,n.x,r?r.originX:void 0),Qh(e.y,t.y,n.y,r?r.originY:void 0)}function Jh(e,t,n){e.min=n.min+t.min,e.max=e.min+Oe(t)}function fj(e,t,n){Jh(e.x,t.x,n.x),Jh(e.y,t.y,n.y)}function Yh(e,t,n){e.min=t.min-n.min,e.max=e.min+Oe(t)}function Is(e,t,n){Yh(e.x,t.x,n.x),Yh(e.y,t.y,n.y)}function Ze(e){return[e("x"),e("y")]}const e0=({current:e})=>e?e.ownerDocument.defaultView:null,Zh=(e,t)=>Math.abs(e-t);function hj(e,t){const n=Zh(e.x,t.x),r=Zh(e.y,t.y);return Math.sqrt(n**2+r**2)}class t0{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ml(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=hj(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!v)return;const{point:x}=h,{timestamp:_}=Se;this.history.push({...x,timestamp:_});const{onStart:g,onMove:p}=this.handlers;y||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,y)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=pl(y,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(h,y)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=ml(h.type==="pointercancel"?this.lastMoveEventInfo:pl(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,g),x&&x(h,g)},!kd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=ki(t),l=pl(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=Se;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=n;f&&f(t,ml(l,this.history)),this.removeListeners=_i(Ls(this.contextWindow,"pointermove",this.handlePointerMove),Ls(this.contextWindow,"pointerup",this.handlePointerUp),Ls(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),mn(this.updatePoint)}}function pl(e,t){return t?{point:t(e.point)}:e}function ep(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ml({point:e},t){return{point:e,delta:ep(e,n0(t)),offset:ep(e,pj(t)),velocity:mj(t,.1)}}function pj(e){return e[0]}function n0(e){return e[e.length-1]}function mj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=n0(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Tt(t)));)n--;if(!r)return{x:0,y:0};const i=jt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gj(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?re(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?re(n,e,r.max):Math.min(e,n)),e}function tp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function yj(e,{top:t,left:n,bottom:r,right:s}){return{x:tp(e.x,n,s),y:tp(e.y,t,r)}}function np(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function vj(e,t){return{x:np(e.x,t.x),y:np(e.y,t.y)}}function xj(e,t){let n=.5;const r=Oe(e),s=Oe(t);return s>r?n=ri(t.min,t.max-r,e.min):r>s&&(n=ri(e.min,e.max-s,t.min)),Bt(0,1,n)}function wj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Yu=.35;function _j(e=Yu){return e===!1?e=0:e===!0&&(e=Yu),{x:rp(e,"left","right"),y:rp(e,"top","bottom")}}function rp(e,t,n){return{min:sp(e,t),max:sp(e,n)}}function sp(e,t){return typeof e=="number"?e:e[t]||0}const bj=new WeakMap;class Sj{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ki(f).point)},o=(f,h)=>{const{drag:y,dragPropagation:v,onDragStart:x}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NE(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ze(g=>{let p=this.getAxisMotionValue(g).get()||0;if(Ct.test(p)){const{projection:m}=this.visualElement;if(m&&m.layout){const b=m.layout.layoutBox[g];b&&(p=Oe(b)*(parseFloat(p)/100))}}this.originPoint[g]=p}),x&&ee.postRender(()=>x(f,h)),Qu(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},a=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:x,onDrag:_}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:g}=h;if(v&&this.currentDirection===null){this.currentDirection=kj(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),_&&_(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ze(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new t0(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:e0(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ee.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Ji(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=gj(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Er(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=yj(r.layoutBox,t):this.constraints=!1,this.elastic=_j(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ze(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=wj(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Er(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=ET(r,s.root,this.visualElement.getTransformPagePoint());let o=vj(s.layout.layoutBox,i);if(n){const a=n(bT(o));this.hasMutatedConstraints=!!a,a&&(o=Vv(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ze(c=>{if(!Ji(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const h=s?200:1e6,y=s?40:1e7,v={type:"inertia",velocity:r?t[c]:0,bounceStiffness:h,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Qu(this.visualElement,t),r.start(Od(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ze(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ze(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ze(n=>{const{drag:r}=this.getProps();if(!Ji(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-re(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Er(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ze(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=xj({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ze(o=>{if(!Ji(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(re(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;bj.set(this.visualElement,this);const t=this.visualElement.current,n=Ls(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Er(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ee.read(r);const o=li(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ze(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Yu,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Ji(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function kj(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ej extends bn{constructor(t){super(t),this.removeGroupControls=st,this.removeListeners=st,this.controls=new Sj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||st}unmount(){this.removeGroupControls(),this.removeListeners()}}const ip=e=>(t,n)=>{e&&ee.postRender(()=>e(t,n))};class Tj extends bn{constructor(){super(...arguments),this.removePointerDownListener=st}onPointerDown(t){this.session=new t0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:e0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ip(t),onStart:ip(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ee.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ls(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function op(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(O.test(e))e=parseFloat(e);else return e;const n=op(e,t.target.x),r=op(e,t.target.y);return`${n}% ${r}%`}},jj={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=gn.parse(e);if(s.length>5)return r;const i=gn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=re(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let gl=!1;class Cj extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;QE(Pj),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),gl&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),mo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,gl=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ee.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Sd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;gl=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function r0(e){const[t,n]=Ev(),r=w.useContext(td);return d.jsx(Cj,{...e,layoutGroup:r,switchLayoutGroup:w.useContext($v),isPresent:t,safeToRemove:n})}const Pj={borderRadius:{...fs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fs,borderTopRightRadius:fs,borderBottomLeftRadius:fs,borderBottomRightRadius:fs,boxShadow:jj};function Nj(e,t,n){const r=Pe(e)?e:Hr(e);return r.start(Od("",r,t,n)),r.animation}const Aj=(e,t)=>e.depth-t.depth;class Rj{constructor(){this.children=[],this.isDirty=!1}add(t){sd(this.children,t),this.isDirty=!0}remove(t){id(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Aj),this.isDirty=!1,this.children.forEach(t)}}function Lj(e,t){const n=Fe.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(mn(r),e(i-t))};return ee.setup(r,!0),()=>mn(r)}const s0=["TopLeft","TopRight","BottomLeft","BottomRight"],Oj=s0.length,ap=e=>typeof e=="string"?parseFloat(e):e,lp=e=>typeof e=="number"||O.test(e);function Ij(e,t,n,r,s,i){s?(e.opacity=re(0,n.opacity??1,Dj(r)),e.opacityExit=re(t.opacity??1,0,$j(r))):i&&(e.opacity=re(t.opacity??1,n.opacity??1,r));for(let o=0;o<Oj;o++){const a=`border${s0[o]}Radius`;let l=up(t,a),u=up(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||lp(l)===lp(u)?(e[a]=Math.max(re(ap(l),ap(u),r),0),(Ct.test(u)||Ct.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=re(t.rotate||0,n.rotate||0,r))}function up(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Dj=i0(0,.5,Hy),$j=i0(.5,.95,st);function i0(e,t,n){return r=>r<e?0:r>t?1:n(ri(e,t,r))}function cp(e,t){e.min=t.min,e.max=t.max}function Ye(e,t){cp(e.x,t.x),cp(e.y,t.y)}function dp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function fp(e,t,n,r,s){return e-=t,e=qo(e,1/n,r),s!==void 0&&(e=qo(e,1/s,r)),e}function Mj(e,t=0,n=1,r=.5,s,i=e,o=e){if(Ct.test(t)&&(t=parseFloat(t),t=re(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=re(i.min,i.max,r);e===i&&(a-=t),e.min=fp(e.min,t,n,a,s),e.max=fp(e.max,t,n,a,s)}function hp(e,t,[n,r,s],i,o){Mj(e,t[n],t[r],t[s],t.scale,i,o)}const Vj=["x","scaleX","originX"],Uj=["y","scaleY","originY"];function pp(e,t,n,r){hp(e.x,t,Vj,n?n.x:void 0,r?r.x:void 0),hp(e.y,t,Uj,n?n.y:void 0,r?r.y:void 0)}function mp(e){return e.translate===0&&e.scale===1}function o0(e){return mp(e.x)&&mp(e.y)}function gp(e,t){return e.min===t.min&&e.max===t.max}function Fj(e,t){return gp(e.x,t.x)&&gp(e.y,t.y)}function yp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function a0(e,t){return yp(e.x,t.x)&&yp(e.y,t.y)}function vp(e){return Oe(e.x)/Oe(e.y)}function xp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Bj{constructor(){this.members=[]}add(t){sd(this.members,t),t.scheduleRender()}remove(t){if(id(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zj(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:h,skewX:y,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),y&&(r+=`skewX(${y}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const yl=["","X","Y","Z"],Wj=1e3;let Hj=0;function vl(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function l0(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=qv(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ee,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&l0(r)}function u0({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Hj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Gj),this.nodes.forEach(Yj),this.nodes.forEach(Zj),this.nodes.forEach(Xj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ld),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=kv(o)&&!DE(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let c,f=0;const h=()=>this.root.updateBlockedByResize=!1;ee.read(()=>{f=window.innerWidth}),e(o,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,c&&c(),c=Lj(h,250),mo.hasAnimatedSinceResize&&(mo.hasAnimatedSinceResize=!1,this.nodes.forEach(bp)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||sC,{onLayoutAnimationStart:x,onLayoutAnimationComplete:_}=u.getProps(),g=!this.targetLayout||!a0(this.targetLayout,y),p=!f&&h;if(this.options.layoutRoot||this.resumeFrom||p||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const m={..._d(v,"layout"),onPlay:x,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(m.delay=0,m.type=!1),this.startAnimation(m),this.setAnimationOrigin(c,p)}else f||bp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),mn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eC),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&l0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_p);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Jj),this.nodes.forEach(Kj),this.nodes.forEach(qj)):this.nodes.forEach(_p),this.clearAllSnapshots();const a=Fe.now();Se.delta=Bt(0,1e3/60,a-Se.timestamp),Se.timestamp=a,Se.isProcessing=!0,ol.update.process(Se),ol.preRender.process(Se),ol.render.process(Se),Se.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qj),this.sharedNodes.forEach(tC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Oe(this.snapshot.measuredBox.x)&&!Oe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!o0(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ln(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),iC(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return le();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(oC))){const{scroll:c}=this.root;c&&(Tr(a.x,c.offset.x),Tr(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=le();if(Ye(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:h}=c;c!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ye(a,o),Tr(a.x,f.offset.x),Tr(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=le();Ye(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&jr(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ln(c.latestValues)&&jr(l,c.latestValues)}return Ln(this.latestValues)&&jr(l,this.latestValues),l}removeTransform(o){const a=le();Ye(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ln(u.latestValues))continue;Ku(u.latestValues)&&u.updateSnapshot();const c=le(),f=u.measurePageBox();Ye(c,f),pp(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ln(this.latestValues)&&pp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Se.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=Se.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),Is(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Ye(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=le(),this.targetWithTransforms=le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ye(this.target,this.layout.layoutBox),Fv(this.target,this.targetDelta)):Ye(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),Is(this.relativeTargetOrigin,this.target,y.target),Ye(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ku(this.parent.latestValues)||Uv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Se.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Ye(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;kT(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=le());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dp(this.prevProjectionDelta.x,this.projectionDelta.x),dp(this.prevProjectionDelta.y,this.projectionDelta.y)),Os(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!xp(this.projectionDelta.x,this.prevProjectionDelta.x)||!xp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cr(),this.projectionDelta=Cr(),this.projectionDeltaWithTransform=Cr()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Cr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=le(),y=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=y!==v,_=this.getStack(),g=!_||_.members.length<=1,p=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(rC));this.animationProgress=0;let m;this.mixTargetDelta=b=>{const S=b/1e3;Sp(f.x,o.x,S),Sp(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Is(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nC(this.relativeTarget,this.relativeTargetOrigin,h,S),m&&Fj(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=le()),Ye(m,this.relativeTarget)),x&&(this.animationValues=c,Ij(c,u,this.latestValues,S,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(mn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update(()=>{mo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hr(0)),this.currentAnimation=Nj(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Wj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&c0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||le();const f=Oe(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Oe(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Ye(a,l),jr(a,c),Os(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Bj),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&vl("z",o,u,this.animationValues);for(let c=0;c<yl.length;c++)vl(`rotate${yl[c]}`,o,u,this.animationValues),vl(`skew${yl[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=po(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=po(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ln(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=zj(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),o.transform=f;const{x:h,y}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${y.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const v in ai){if(c[v]===void 0)continue;const{correct:x,applyTo:_,isCSSVariable:g}=ai[v],p=f==="none"?c[v]:x(c[v],u);if(_){const m=_.length;for(let b=0;b<m;b++)o[_[b]]=p}else g?this.options.visualElement.renderState.vars[v]=p:o[v]=p}this.options.layoutId&&(o.pointerEvents=u===this?po(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(wp),this.root.sharedNodes.clear()}}}function Kj(e){e.updateLayout()}function qj(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Ze(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],y=Oe(h);h.min=r[f].min,h.max=h.min+y}):c0(i,t.layoutBox,r)&&Ze(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],y=Oe(r[f]);h.max=h.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+y)});const a=Cr();Os(a,r,t.layoutBox);const l=Cr();o?Os(l,e.applyTransform(s,!0),t.measuredBox):Os(l,r,t.layoutBox);const u=!o0(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:y}=f;if(h&&y){const v=le();Is(v,t.layoutBox,h.layoutBox);const x=le();Is(x,r,y.layoutBox),a0(v,x)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Gj(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Xj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Qj(e){e.clearSnapshot()}function wp(e){e.clearMeasurements()}function _p(e){e.isLayoutDirty=!1}function Jj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function bp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Yj(e){e.resolveTargetDelta()}function Zj(e){e.calcProjection()}function eC(e){e.resetSkewAndRotation()}function tC(e){e.removeLeadSnapshot()}function Sp(e,t,n){e.translate=re(t.translate,0,n),e.scale=re(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function kp(e,t,n,r){e.min=re(t.min,n.min,r),e.max=re(t.max,n.max,r)}function nC(e,t,n,r){kp(e.x,t.x,n.x,r),kp(e.y,t.y,n.y,r)}function rC(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sC={duration:.45,ease:[.4,0,.1,1]},Ep=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Tp=Ep("applewebkit/")&&!Ep("chrome/")?Math.round:st;function jp(e){e.min=Tp(e.min),e.max=Tp(e.max)}function iC(e){jp(e.x),jp(e.y)}function c0(e,t,n){return e==="position"||e==="preserve-aspect"&&!dj(vp(t),vp(n),.2)}function oC(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const aC=u0({attachResizeListener:(e,t)=>li(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xl={current:void 0},d0=u0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xl.current){const e=new aC({});e.mount(window),e.setOptions({layoutScroll:!0}),xl.current=e}return xl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lC={pan:{Feature:Tj},drag:{Feature:Ej,ProjectionNode:d0,MeasureLayout:r0}};function Cp(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ee.postRender(()=>i(t,ki(t)))}class uC extends bn{mount(){const{current:t}=this.node;t&&(this.unmount=AE(t,(n,r)=>(Cp(this.node,r,"Start"),s=>Cp(this.node,s,"End"))))}unmount(){}}class cC extends bn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_i(li(this.node.current,"focus",()=>this.onFocus()),li(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pp(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ee.postRender(()=>i(t,ki(t)))}class dC extends bn{mount(){const{current:t}=this.node;t&&(this.unmount=IE(t,(n,r)=>(Pp(this.node,r,"Start"),(s,{success:i})=>Pp(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zu=new WeakMap,wl=new WeakMap,fC=e=>{const t=Zu.get(e.target);t&&t(e)},hC=e=>{e.forEach(fC)};function pC({root:e,...t}){const n=e||document;wl.has(n)||wl.set(n,{});const r=wl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(hC,{root:e,...t})),r[s]}function mC(e,t,n){const r=pC(t);return Zu.set(e,n),r.observe(e),()=>{Zu.delete(e),r.unobserve(e)}}const gC={some:0,all:1};class yC extends bn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:gC[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return mC(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(vC(t,n))&&this.startObserver()}unmount(){}}function vC({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const xC={inView:{Feature:yC},tap:{Feature:dC},focus:{Feature:cC},hover:{Feature:uC}},wC={layout:{ProjectionNode:d0,MeasureLayout:r0}},_C={...ij,...xC,...lC,...wC},bC=_T(_C,OT),q=({children:e})=>{const[t,n]=w.useState(!1),{user:r}=He(),[s,i]=w.useState(null),o=Pt();return w.useEffect(()=>{(async()=>{if(r){const{data:l,error:u}=await $.from("profiles").select("full_name, avatar_url").eq("id",r.id).maybeSingle();u?console.error("Erreur chargement profil :",u.message):l?i(l):(console.warn("Aucun profil trouv pour cet utilisateur."),o("/"))}})()},[r,o]),d.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[d.jsxs("header",{className:"flex items-center justify-between px-6 py-4 shadow bg-white",children:[d.jsx(V,{to:"/",children:d.jsx("img",{src:"/logo.png",alt:"Logo Grega Play",className:"h-10 w-auto object-contain",style:{maxHeight:"40px"}})}),d.jsx("div",{className:"lg:hidden",children:d.jsx("button",{onClick:()=>n(!t),className:"text-gray-700 hover:text-indigo-600 focus:outline-none text-2xl",children:""})}),d.jsxs("nav",{className:"hidden lg:flex items-center space-x-6",children:[!r&&d.jsx(V,{to:"/",className:"text-gray-700 hover:text-indigo-600 font-medium transition",children:"Accueil"}),r&&d.jsx(V,{to:"/dashboard",className:"text-gray-700 hover:text-indigo-600 font-medium transition",children:"Dashboard"}),r?d.jsxs(V,{to:"/profile",className:"flex items-center gap-2 text-gray-700 hover:text-indigo-600 font-medium transition",children:[(s==null?void 0:s.avatar_url)&&d.jsx("img",{src:s.avatar_url,className:"w-8 h-8 rounded-full object-cover",alt:"avatar"}),d.jsx("span",{children:(s==null?void 0:s.full_name)||r.email})]}):d.jsx(V,{to:"/login",className:"text-gray-700 hover:text-indigo-600 font-medium transition",children:"Login"}),d.jsx(V,{to:"/contact",className:"text-gray-700 hover:text-indigo-600 font-medium transition",children:"Contact"})]})]}),d.jsx(zE,{children:t&&d.jsxs(bC.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"lg:hidden px-6 pb-4 bg-white shadow overflow-hidden",children:[!r&&d.jsx(V,{to:"/",className:"block py-2 text-gray-700 hover:text-indigo-600",onClick:()=>n(!1),children:"Accueil"}),r&&d.jsx(V,{to:"/dashboard",className:"block py-2 text-gray-700 hover:text-indigo-600",onClick:()=>n(!1),children:"Dashboard"}),r?d.jsxs(V,{to:"/profile",className:"block py-2 text-gray-700 hover:text-indigo-600",onClick:()=>n(!1),children:[" ",(s==null?void 0:s.full_name)||r.email]}):d.jsx(V,{to:"/login",className:"block py-2 text-gray-700 hover:text-indigo-600",onClick:()=>n(!1),children:"Login"}),d.jsx(V,{to:"/contact",className:"block py-2 text-gray-700 hover:text-indigo-600",onClick:()=>n(!1),children:"Contact"})]})}),d.jsx("main",{className:"p-6",children:e})]})},H=({children:e,type:t="button",onClick:n,loading:r,disabled:s,className:i="",variant:o="primary"})=>{const a="inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2",l={primary:"text-white bg-indigo-600 hover:bg-indigo-700 border-transparent focus:ring-indigo-500",secondary:"text-gray-700 bg-white hover:bg-gray-100 border-gray-300 focus:ring-indigo-500"};return d.jsxs("button",{type:t,onClick:n,disabled:s||r,className:`${a} ${l[o]} ${s?"opacity-50 cursor-not-allowed":""} ${i}`,children:[r?d.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}):null,e]})},SC=()=>{const{user:e}=He();return d.jsxs(q,{children:[d.jsx("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500",children:d.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight text-white sm:text-5xl md:text-6xl",children:[d.jsx("span",{className:"block",children:"Grega Play"}),d.jsx("span",{className:"block text-indigo-100",children:"Montage Vido Collaboratif"})]}),d.jsx("p",{className:"mt-6 max-w-lg mx-auto text-xl text-indigo-100 sm:max-w-3xl",children:"Crez des montages vido collaboratifs avec vos amis et votre famille. Partagez des moments uniques et assemblez-les automatiquement en une seule vido."}),d.jsx("div",{className:"mt-10 max-w-sm mx-auto sm:max-w-none sm:flex sm:justify-center",children:e?d.jsxs("div",{className:"space-y-4 sm:space-y-0 sm:mx-auto sm:inline-grid sm:grid-cols-2 sm:gap-5",children:[d.jsx(V,{to:"/dashboard",children:d.jsx(H,{variant:"primary",children:"Tableau de bord"})}),d.jsx(V,{to:"/create-event",children:d.jsx(H,{variant:"secondary",children:"Crer un vnement"})})]}):d.jsxs("div",{className:"space-y-4 sm:space-y-0 sm:mx-auto sm:inline-grid sm:grid-cols-2 sm:gap-5",children:[d.jsx(V,{to:"/register",children:d.jsx(H,{variant:"primary",children:"S'inscrire"})}),d.jsx(V,{to:"/login",children:d.jsx(H,{variant:"secondary",children:"Se connecter"})})]})})]})})}),d.jsx("div",{className:"py-12 bg-white",children:d.jsxs("div",{className:"max-w-xl mx-auto px-4 sm:px-6 lg:max-w-7xl lg:px-8",children:[d.jsx("h2",{className:"sr-only",children:"Fonctionnalits"}),d.jsxs("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:[d.jsx("div",{className:"pt-6",children:d.jsx("div",{className:"flow-root bg-gray-50 rounded-lg px-6 pb-8",children:d.jsxs("div",{className:"-mt-6",children:[d.jsx("div",{children:d.jsx("span",{className:"inline-flex items-center justify-center p-3 bg-indigo-500 rounded-md shadow-lg",children:d.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})})}),d.jsx("h3",{className:"mt-8 text-lg font-medium text-gray-900 tracking-tight",children:"Crez des vnements"}),d.jsx("p",{className:"mt-5 text-base text-gray-500",children:"Crez des vnements pour collecter des vidos sur un thme spcifique et invitez vos amis  participer."})]})})}),d.jsx("div",{className:"pt-6",children:d.jsx("div",{className:"flow-root bg-gray-50 rounded-lg px-6 pb-8",children:d.jsxs("div",{className:"-mt-6",children:[d.jsx("div",{children:d.jsx("span",{className:"inline-flex items-center justify-center p-3 bg-indigo-500 rounded-md shadow-lg",children:d.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})})}),d.jsx("h3",{className:"mt-8 text-lg font-medium text-gray-900 tracking-tight",children:"Partagez facilement"}),d.jsx("p",{className:"mt-5 text-base text-gray-500",children:"Envoyez un lien  vos amis pour qu'ils puissent soumettre leurs vidos rapidement et sans inscription ncessaire."})]})})}),d.jsx("div",{className:"pt-6",children:d.jsx("div",{className:"flow-root bg-gray-50 rounded-lg px-6 pb-8",children:d.jsxs("div",{className:"-mt-6",children:[d.jsx("div",{children:d.jsx("span",{className:"inline-flex items-center justify-center p-3 bg-indigo-500 rounded-md shadow-lg",children:d.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),d.jsx("h3",{className:"mt-8 text-lg font-medium text-gray-900 tracking-tight",children:"Montage automatique"}),d.jsx("p",{className:"mt-5 text-base text-gray-500",children:"Notre systme assemble automatiquement toutes les vidos en une seule, crant un souvenir mmorable  partager."})]})})})]})]})}),d.jsx("div",{className:"bg-gray-50 py-12",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"lg:text-center",children:[d.jsx("h2",{className:"text-base text-indigo-600 font-semibold tracking-wide uppercase",children:"Comment a marche"}),d.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"En trois tapes simples"})]}),d.jsx("div",{className:"mt-10",children:d.jsxs("dl",{className:"space-y-10 md:space-y-0 md:grid md:grid-cols-3 md:gap-x-8 md:gap-y-10",children:[d.jsxs("div",{className:"relative",children:[d.jsxs("dt",{children:[d.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white",children:d.jsx("span",{className:"text-lg font-bold",children:"1"})}),d.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Crez un vnement"})]}),d.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Dfinissez un thme, une date limite et envoyez des invitations  vos amis et  votre famille."})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("dt",{children:[d.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white",children:d.jsx("span",{className:"text-lg font-bold",children:"2"})}),d.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Collectez les vidos"})]}),d.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Les participants soumettent leurs vidos via un lien simple, mme sans tre inscrits."})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("dt",{children:[d.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white",children:d.jsx("span",{className:"text-lg font-bold",children:"3"})}),d.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Partagez le rsultat"})]}),d.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:"Une fois toutes les vidos reues, le montage final est gnr automatiquement et prt  tre partag."})]})]})})]})}),d.jsx("div",{className:"bg-indigo-700",children:d.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8",children:[d.jsx("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:d.jsx("span",{className:"block",children:"Prt  crer votre premier montage collaboratif?"})}),d.jsx("p",{className:"mt-4 text-lg leading-6 text-indigo-200",children:"Inscrivez-vous gratuitement et commencez  collecter des souvenirs ensemble."}),d.jsx("div",{className:"mt-8 flex justify-center",children:d.jsx("div",{className:"inline-flex rounded-md shadow",children:d.jsx(V,{to:e?"/create-event":"/register",children:d.jsx(H,{variant:"primary",className:"px-5 py-3 text-base font-medium",children:e?"Crer un vnement":"S'inscrire gratuitement"})})})})]})})]})};var f0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Np=B.createContext&&B.createContext(f0),kC=["attr","size","title"];function EC(e,t){if(e==null)return{};var n=TC(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TC(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Go.apply(this,arguments)}function Ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ap(Object(n),!0).forEach(function(r){jC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ap(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jC(e,t,n){return t=CC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CC(e){var t=PC(e,"string");return typeof t=="symbol"?t:t+""}function PC(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h0(e){return e&&e.map((t,n)=>B.createElement(t.tag,Xo({key:n},t.attr),h0(t.child)))}function NC(e){return t=>B.createElement(AC,Go({attr:Xo({},e.attr)},t),h0(e.child))}function AC(e){var t=n=>{var{attr:r,size:s,title:i}=e,o=EC(e,kC),a=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),B.createElement("svg",Go({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Xo(Xo({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&B.createElement("title",null,i),e.children)};return Np!==void 0?B.createElement(Np.Consumer,null,n=>t(n)):t(f0)}function RC(e){return NC({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}const LC=()=>d.jsxs("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",children:[d.jsx("path",{fill:"#4285F4",d:"M23.5 12.3c0-.8-.1-1.6-.2-2.3H12v4.4h6.5a5.5 5.5 0 0 1-2.4 3.6v3h3.9c2.3-2.1 3.5-5 3.5-8.7z"}),d.jsx("path",{fill:"#34A853",d:"M12 24c3.2 0 5.9-1 7.8-2.7l-3.9-3c-1.1.8-2.6 1.3-3.9 1.3-3 0-5.6-2-6.5-4.7H1.5v3c2 4 6 6.1 10.5 6.1z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.5 14.9c-.2-.7-.4-1.4-.4-2.1s.1-1.4.4-2.1V7.7H1.5A11.9 11.9 0 0 0 0 12.8c0 1.9.5 3.8 1.5 5.3l4-3.2z"}),d.jsx("path",{fill:"#EA4335",d:"M12 4.7c1.7 0 3.2.6 4.4 1.7l3.3-3.3A11.5 11.5 0 0 0 12 0C7.5 0 3.5 2.1 1.5 5.5l4 3.2c.9-2.7 3.5-4.6 6.5-4.6z"})]}),OC=()=>{const e=Pt(),[t,n]=w.useState({email:"",password:""}),{loginWithGoogle:r}=He(),s=async()=>{try{await r(),P.info("Redirection vers Google...")}catch{P.error("Connexion Google impossible, ressayez.")}},{loginWithFacebook:i}=He(),o=async()=>{try{await i(),P.info("Redirection vers Facebook")}catch{P.error("Connexion Facebook impossible.")}},a=u=>{const{name:c,value:f}=u.target;n(h=>({...h,[c]:f}))},l=async u=>{u.preventDefault();const{email:c,password:f}=t,{data:h,error:y}=await $.auth.signInWithPassword({email:c,password:f});if(y)P.error(" Email ou mot de passe incorrect");else{const v=h==null?void 0:h.user;if(!(v!=null&&v.confirmed_at)){P.error(" Veuillez dabord valider votre adresse email.");return}P.success(" Connexion russie"),e("/dashboard")}};return d.jsxs("div",{className:"max-w-md mx-auto mt-0 p-6 bg-white rounded shadow",children:[d.jsxs("button",{type:"button",onClick:o,className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 flex items-center justify-center gap-2",children:[d.jsx(RC,{className:"text-lg"}),"Continuer avec Facebook"]}),d.jsx("div",{className:"text-center text-gray-500",children:"ou"}),d.jsxs("button",{type:"button",onClick:s,className:"w-full border border-gray-300 text-gray-700 p-2 rounded hover:bg-gray-50 flex items-center justify-center gap-2",children:[d.jsx(LC,{}),"Continuer avec Google"]}),d.jsx("div",{className:"text-center text-gray-500",children:"ou"}),d.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Connexion"}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsx("input",{type:"email",name:"email",placeholder:"Adresse email",value:t.email,onChange:a,className:"w-full border border-gray-300 p-2 rounded",required:!0}),d.jsx("input",{type:"password",name:"password",placeholder:"Mot de passe",value:t.password,onChange:a,className:"w-full border border-gray-300 p-2 rounded",required:!0}),d.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white p-2 rounded hover:bg-indigo-700",children:"Se connecter"}),d.jsx("p",{className:"mt-2 text-sm text-right",children:d.jsx("a",{href:"/forgot-password",className:"text-indigo-600 hover:text-indigo-800",children:"Mot de passe oubli ?"})})]})]})},IC=()=>d.jsx(q,{children:d.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[d.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Connexion  Grega Play"}),d.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Pas encore de compte ?",d.jsx("a",{href:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:" S'inscrire"})]})]}),d.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:d.jsx("div",{className:"bg-white py-8 px-6 shadow rounded-lg sm:px-10",children:d.jsx(OC,{})})})]})}),DC=()=>{const e=Pt(),[t,n]=w.useState({firstName:"",lastName:"",birthDate:"",country:"",phone:"",email:"",password:"",confirmPassword:"",acceptNews:!1,acceptTerms:!1}),[r,s]=w.useState(!1),i=a=>{const{name:l,value:u,type:c,checked:f}=a.target;n(h=>({...h,[l]:c==="checkbox"?f:u}))},o=async a=>{if(a.preventDefault(),t.password!==t.confirmPassword){P.error("Les mots de passe ne correspondent pas");return}if(!t.acceptTerms){P.error("Vous devez accepter les CGU et la politique de confidentialit");return}s(!0);try{const l=`${t.firstName} ${t.lastName}`.trim(),{data:u,error:c}=await $.auth.signUp({email:t.email,password:t.password,options:{data:{first_name:t.firstName||null,last_name:t.lastName||null,full_name:l||null,birth_date:t.birthDate||null,country:t.country||null,phone:t.phone||null,accept_news:t.acceptNews??!1}}});if(c)throw c;P.success("Inscription russie !"),e("/check-email",{state:{email:t.email}})}catch(l){P.error(l.message||"Erreur lors de l'inscription")}finally{s(!1)}};return d.jsxs("form",{onSubmit:o,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Prnom"}),d.jsx("input",{type:"text",name:"firstName",required:!0,value:t.firstName,onChange:i,className:"mt-1 block w-full border border-gray-300 px-3 py-2 rounded-md shadow-sm sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom"}),d.jsx("input",{type:"text",name:"lastName",required:!0,value:t.lastName,onChange:i,className:"mt-1 block w-full border border-gray-300 px-3 py-2 rounded-md shadow-sm sm:text-sm"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date de naissance"}),d.jsx("input",{type:"date",name:"birthDate",value:t.birthDate,onChange:i,className:"mt-1 block w-full border border-gray-300 px-3 py-2 rounded-md shadow-sm sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pays"}),d.jsx("input",{type:"text",name:"country",value:t.country,onChange:i,className:"mt-1 block w-full border border-gray-300 px-3 py-2 rounded-md shadow-sm sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tlphone"}),d.jsx("input",{type:"text",name:"phone",value:t.phone,onChange:i,className:"mt-1 block w-full border border-gray-300 px-3 py-2 rounded-md shadow-sm sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Adresse e-mail"}),d.jsx("input",{type:"email",name:"email",required:!0,value:t.email,onChange:i,className:"mt-1 block w-full border border-gray-300 px-3 py-2 rounded-md shadow-sm sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),d.jsx("input",{type:"password",name:"password",required:!0,value:t.password,onChange:i,className:"mt-1 block w-full border border-gray-300 px-3 py-2 rounded-md shadow-sm sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),d.jsx("input",{type:"password",name:"confirmPassword",required:!0,value:t.confirmPassword,onChange:i,className:"mt-1 block w-full border border-gray-300 px-3 py-2 rounded-md shadow-sm sm:text-sm"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"acceptNews",checked:t.acceptNews,onChange:i,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Recevoir les actualits et offres"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",name:"acceptTerms",checked:t.acceptTerms,onChange:i,required:!0,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Jaccepte les CGU et la politique de confidentialit"})]}),d.jsx("div",{children:d.jsx(H,{type:"submit",loading:r,className:"w-full",children:"S'inscrire"})})]})},$C=()=>d.jsx(q,{children:d.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[d.jsx("img",{className:"mx-auto h-12 w-auto",src:"/logo192.png",alt:"Grega Play"}),d.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Crer un compte Grega Play"}),d.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Dj un compte ?"," ",d.jsx("a",{href:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Se connecter"})]})]}),d.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:d.jsx("div",{className:"bg-white py-8 px-6 shadow rounded-lg sm:px-10",children:d.jsx(DC,{})})})]})});function MC(){const[e,t]=w.useState(null),[n,r]=w.useState(!1);w.useEffect(()=>{const i=o=>{o.preventDefault(),t(o),r(!0)};return window.addEventListener("beforeinstallprompt",i),()=>{window.removeEventListener("beforeinstallprompt",i)}},[]);const s=async()=>{if(!e)return;e.prompt();const{outcome:i}=await e.userChoice;console.log(i==="accepted"?" L'utilisateur a accept l'installation":" L'utilisateur a refus l'installation"),t(null),r(!1)};return n?d.jsx("button",{onClick:s,className:"px-4 py-2 rounded-xl bg-blue-600 text-white shadow-md hover:bg-blue-700 transition-all",children:" Installer Grega Play"}):null}const Yn={async logActivity({event_id:e,user_id:t,type:n,message:r}){if(!e||!t)return console.error(" logActivity appel sans event_id ou user_id",{event_id:e,user_id:t,type:n,message:r}),null;const{data:s,error:i}=await $.from("activity_feed").insert([{event_id:e,user_id:t,type:n,message:r}]);if(i)throw console.error(" Erreur logActivity:",i),i;return console.log(" Activity logged:",s),s},async getEventFeed(e){if(!e)return console.error(" getEventFeed appel sans event_id"),[];const{data:t,error:n}=await $.from("activity_feed_with_user").select("*").eq("event_id",e).order("created_at",{ascending:!1});if(n)throw console.error(" Erreur getEventFeed:",n),n;return console.log(" Feed rcupr:",t),t},async getUserFeed(e){if(!e)return console.error(" getUserFeed appel sans user_id"),[];const{data:t,error:n}=await $.from("activity_feed_with_user").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw console.error(" Erreur getUserFeed:",n),n;return t}},VC=({eventId:e,userId:t})=>{const[n,r]=w.useState([]),[s,i]=w.useState(!0);return w.useEffect(()=>{(e||t)&&(async()=>{try{let a=[];e?a=await Yn.getEventFeed(e):t&&(a=await Yn.getUserFeed(t)),r(Array.isArray(a)?a:[])}catch(a){console.error("Erreur feed:",a),r([])}finally{i(!1)}})()},[e,t]),s?d.jsx("p",{children:"Chargement du fil dactivits"}):d.jsxs("div",{className:"p-4 bg-white rounded shadow mt-6",children:[d.jsx("h2",{className:"text-lg font-bold mb-2",children:"Fil dactivits"}),d.jsx("ul",{children:n.length===0?d.jsx("li",{children:"Aucune activit pour linstant."}):n.map(o=>d.jsxs("li",{className:"mb-2 text-sm",children:[d.jsx("strong",{children:o.user_full_name||o.user_email||"Utilisateur"})," ",": ",o.message,d.jsx("br",{}),d.jsx("span",{className:"text-gray-500 text-xs",children:new Date(o.created_at).toLocaleString()})]},o.id))})]})},rr=({fullPage:e=!1})=>{const t=e?"flex justify-center items-center min-h-screen":"flex justify-center items-center py-8";return d.jsx("div",{className:t,children:d.jsx("div",{className:"animate-spin h-10 w-10 border-4 border-indigo-500 border-t-transparent rounded-full"})})},mt={async getEvent(e){const{data:t,error:n}=await $.from("events").select("*").eq("id",e).single();if(n)throw console.error("Erreur Supabase getEvent:",n),new Error("Erreur lors du chargement de l'vnement");return t},async getEventById(e){const{data:t,error:n}=await $.from("events").select(`
        id,
        title,
        description,
        theme,
        deadline,
        video_duration,
        max_clip_duration,
        user_id,
        created_at,
        public_code
      `).eq("id",e).single();if(n)throw console.error("Erreur Supabase getEventById:",n),new Error("Impossible de charger l'vnement");return t},async getEventParticipants(e){const{data:t,error:n}=await $.from("invitations").select("*").eq("event_id",e);if(n)throw console.error("Erreur getEventParticipants:",n),new Error("Erreur chargement participants");return t},async createEvent({title:e,description:t,theme:n,endDate:r,videoDuration:s,maxClipDuration:i,userId:o,public_code:a}){const{data:l,error:u}=await $.from("events").insert([{title:e,description:t,theme:n,deadline:r,video_duration:s,max_clip_duration:i,user_id:o,public_code:a}]).select().single();if(u)throw console.error("Erreur Supabase createEvent:",u),new Error("Erreur lors de la cration");return l},async deleteEvent(e,t){const{error:n}=await $.from("events").delete().eq("id",e).eq("user_id",t);if(n)throw console.error("Erreur deleteEvent:",n),new Error("Erreur suppression vnement");return!0},async getDashboardEvents(e,t){const{data:n,error:r}=await $.rpc("get_user_events",{p_user_id:e,p_user_email:t});if(r)throw console.error("Erreur RPC get_user_events:",r),new Error("Erreur chargement tableau de bord");return n},async getEventVideos(e){const{data:t,error:n}=await $.from("videos").select(`
        id,
        event_id,
        user_id,
        storage_path,
        created_at
      `).eq("event_id",e);if(n)throw console.error("Erreur getEventVideos:",n),new Error("Erreur rcupration vidos");return t}},UC=()=>{var g;const{user:e,profile:t}=He(),[n,r]=w.useState([]),[s,i]=w.useState(!0),[o,a]=w.useState(null),[l,u]=w.useState(null),c=w.useCallback(async()=>{if(e)try{i(!0);const p=await mt.getDashboardEvents(e.id,e.email);r(p),a(null)}catch(p){console.error("Error fetching events:",p),a((p==null?void 0:p.message)||"Impossible de charger vos vnements. Veuillez ressayer.")}finally{i(!1)}},[e]);w.useEffect(()=>{e!=null&&e.id&&c()},[e,c]);const f=async p=>{if(window.confirm("tes-vous sr de vouloir supprimer cet vnement ? Cette action est irrversible.")){u(p);try{console.log(`Attempting to delete event ${p}`),await mt.deleteEvent(p,e.id),r(m=>m.filter(b=>b.id!==p)),P.success("vnement supprim avec succs")}catch(m){console.error("Error deleting event:",m);const b=m.message||"Erreur lors de la suppression";P.error(b)}finally{u(null)}}},h=w.useMemo(()=>({open:{color:"bg-yellow-100 text-yellow-800",label:"Ouvert"},ready:{color:"bg-blue-100 text-blue-800",label:"Prt pour montage"},processing:{color:"bg-purple-100 text-purple-800",label:"En traitement"},done:{color:"bg-green-100 text-green-800",label:"Termin"},canceled:{color:"bg-red-100 text-red-800",label:"Annul"}}),[]),y=w.useCallback(p=>h[p]||{color:"bg-gray-100 text-gray-800",label:"Inconnu"},[h]),v=w.useCallback(p=>{if(!p)return"";const m={year:"numeric",month:"short",day:"numeric"};return new Date(p).toLocaleDateString("fr-FR",m)},[]),x=w.useCallback(p=>{if(!(p!=null&&p.deadline))return!1;const m=new Date,b=new Date(p.deadline);return b.setHours(23,59,59,999),p.status==="done"||p.status==="canceled"?!1:b<m},[]),_=w.useMemo(()=>[...n].sort((p,m)=>new Date(m.created_at)-new Date(p.created_at)),[n]);return s?d.jsx(q,{children:d.jsx("div",{className:"py-8 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsx(rr,{})})}):d.jsx(q,{children:d.jsxs("div",{className:"py-6 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tableau de bord"}),d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Bienvenue, ",(t==null?void 0:t.full_name)||((g=e==null?void 0:e.user_metadata)==null?void 0:g.full_name)||(e==null?void 0:e.email)]}),d.jsx("div",{className:"mt-2",children:d.jsx(MC,{})})]}),d.jsx("div",{className:"mb-4 flex justify-between",children:d.jsx(V,{to:"/create-event",children:d.jsxs(H,{variant:"primary",className:"w-full sm:w-auto",children:[d.jsx("svg",{className:"mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Crer un vnement"]})})}),o&&d.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",children:o}),n.length===0?d.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[d.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Aucun vnement"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Commencez par crer un nouvel vnement."})]}):d.jsx("div",{className:"space-y-4",children:_.map(p=>{const m=y(p.status);return d.jsxs("div",{className:"bg-white shadow rounded-lg p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p.title}),d.jsx("p",{className:"text-sm text-gray-500",children:v(p.created_at)}),d.jsx("span",{className:`inline-block mt-2 px-2 py-1 text-xs font-medium rounded ${m.color}`,children:m.label}),x(p)&&d.jsx("span",{className:"inline-block ml-2 mt-2 px-2 py-1 text-xs font-medium rounded bg-red-100 text-red-800",children:"Expir"}),p.public_code&&d.jsxs("div",{className:"mt-3",children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Lien de partage"}),d.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[d.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[d.jsx("input",{type:"text",readOnly:!0,value:`${window.location.origin}/e/${p.public_code}`,className:"flex-1 text-xs border border-gray-200 rounded px-2 py-1 bg-gray-50 text-gray-700"}),d.jsx("button",{type:"button",onClick:()=>{const b=`${window.location.origin}/e/${p.public_code}`;navigator.clipboard.writeText(b).then(()=>{P.success("Lien copi dans le presse-papiers")}).catch(()=>{P.error("Impossible de copier le lien")})},className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md bg-white hover:bg-gray-50 text-gray-700",children:"Copier"})]}),d.jsx("button",{type:"button",onClick:()=>{const S=`Participe  mon vnement Grega Play : ${`${window.location.origin}/e/${p.public_code}`}`,k=`https://wa.me/?text=${encodeURIComponent(S)}`;window.open(k,"_blank")},className:"inline-flex items-center justify-center px-3 py-1.5 text-xs font-medium rounded-md bg-green-500 hover:bg-green-600 text-white",children:"Partager sur WhatsApp"})]})]})]}),d.jsxs("div",{className:"mt-3 sm:mt-0 flex space-x-2",children:[p.user_id===e.id&&d.jsx(V,{to:`/events/${p.id}/manage-participants`,className:"inline-flex items-center px-3 py-2 border border-indigo-600 text-indigo-600 hover:bg-indigo-50 text-sm font-medium rounded-lg",children:"Inviter"}),d.jsx(V,{to:`/events/${p.id}/final`,className:"inline-flex items-center px-3 py-2 border border-indigo-600 text-indigo-600 hover:bg-indigo-50 text-sm font-medium rounded-lg",children:"Voir"}),d.jsx("button",{onClick:()=>f(p.id),disabled:l===p.id,className:"inline-flex items-center px-3 py-2 bg-red-50 text-red-600 hover:bg-red-100 text-sm font-medium rounded-lg",children:l===p.id?"Suppression...":" Supprimer"})]})]},p.id)})}),_.length>0&&d.jsxs("div",{className:"mt-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Activit rcente"}),d.jsx(VC,{eventId:_[0].id})]})]})})},FC=()=>{const{user:e,logout:t}=He(),n=Pt(),[r,s]=w.useState(null),[i,o]=w.useState(!1),[a,l]=w.useState({}),[u,c]=w.useState(null),[f,h]=w.useState(!1),y=async()=>{const{data:_,error:g}=await $.from("profiles").select("*").eq("id",e.id).single();g?console.error(g):(s(_),l(_))};w.useEffect(()=>{e&&y()},[e]);const v=_=>{const{name:g,value:p,type:m,checked:b,files:S}=_.target;g==="avatar"&&S.length>0?c(S[0]):l(k=>({...k,[g]:m==="checkbox"?b:p}))},x=async _=>{_.preventDefault(),h(!0);let g=a.avatar_url;if(u){const b=u.name.split(".").pop(),k=`${e.id}.${b}`,{error:E}=await $.storage.from("avatars").upload(k,u,{upsert:!0});if(E){alert("Erreur lors de lupload de la photo"),h(!1);return}const{data:T}=$.storage.from("avatars").getPublicUrl(k);g=T.publicUrl.replace("/object/avatars/","/object/public/avatars/")}const p={full_name:a.full_name,birth_date:a.birth_date,country:a.country,phone:a.phone,accept_news:a.accept_news,avatar_url:g},{error:m}=await $.from("profiles").update(p).eq("id",e.id);h(!1),m?alert("Erreur lors de la mise  jour"):(alert("Profil mis  jour"),o(!1),y(),c(null))};return r?d.jsx(q,{children:d.jsxs("div",{className:"max-w-3xl mx-auto py-10 px-4 sm:px-6 lg:px-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Mon Profil"}),i?d.jsxs("form",{onSubmit:x,className:"grid gap-6 bg-white shadow-md rounded-xl p-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Nom complet"}),d.jsx("input",{type:"text",name:"full_name",value:a.full_name||"",onChange:v,className:"mt-1 block w-full border border-gray-300 px-3 py-2 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Tlphone"}),d.jsx("input",{type:"text",name:"phone",value:a.phone||"",onChange:v,className:"mt-1 block w-full border border-gray-300 px-3 py-2 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Pays"}),d.jsx("input",{type:"text",name:"country",value:a.country||"",onChange:v,className:"mt-1 block w-full border border-gray-300 px-3 py-2 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Date de naissance"}),d.jsx("input",{type:"date",name:"birth_date",value:a.birth_date||"",onChange:v,className:"mt-1 block w-full border border-gray-300 px-3 py-2 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Photo de profil"}),d.jsx("input",{type:"file",name:"avatar",accept:"image/*",onChange:v,className:"mt-1 block w-full text-sm"})]}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("input",{type:"checkbox",name:"accept_news",checked:a.accept_news||!1,onChange:v,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),d.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Recevoir des actualits"})]}),d.jsxs("div",{className:"flex justify-between gap-4",children:[d.jsx(H,{type:"submit",loading:f,className:"w-full",children:"Enregistrer"}),d.jsx(H,{type:"button",variant:"secondary",onClick:()=>o(!1),className:"w-full",children:"Annuler"})]})]}):d.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-8",children:[d.jsxs("div",{className:"flex flex-col items-center",children:[r.avatar_url&&d.jsx("img",{src:r.avatar_url,alt:"Avatar",className:"w-32 h-32 rounded-full object-cover border-4 border-indigo-500 shadow-md"}),d.jsx("h2",{className:"mt-4 text-2xl font-semibold text-gray-800",children:r.full_name}),d.jsx("p",{className:"text-sm text-gray-500",children:r.email}),d.jsxs("div",{className:"flex gap-4 mt-4",children:[d.jsx(H,{onClick:()=>o(!0),children:"Modifier le profil"}),d.jsx(H,{variant:"secondary",onClick:async()=>{await t(),n("/login")},children:"Se dconnecter"})]})]}),d.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Tlphone"}),d.jsx("p",{className:"mt-1 text-base text-gray-800",children:r.phone||""})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Pays"}),d.jsx("p",{className:"mt-1 text-base text-gray-800",children:r.country||""})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Date de naissance"}),d.jsx("p",{className:"mt-1 text-base text-gray-800",children:r.birth_date||""})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Newsletter"}),d.jsx("p",{className:"mt-1 text-base text-gray-800",children:r.accept_news?"Oui":"Non"})]})]})]})]})}):d.jsx(q,{children:d.jsx("div",{className:"text-center py-20 text-gray-500",children:"Chargement du profil..."})})},BC=()=>{const[e,t]=w.useState({name:"",email:"",message:""}),[n,r]=w.useState(!1),s=o=>{const{name:a,value:l}=o.target;t(u=>({...u,[a]:l}))},i=async o=>{o.preventDefault(),r(!0);try{const a=await fetch("/functions/v1/send-contact-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"contact@grega-play.com",subject:` Message depuis Grega Play - ${e.name}`,content:`
Nom : ${e.name}
Email : ${e.email}

Message :
${e.message}
          `})});if(!a.ok){const l=await a.text();console.error("Erreur function:",l),P.error("Erreur lors de l'envoi de l'email.");return}P.success("Votre message a t envoy avec succs."),t({name:"",email:"",message:""})}catch(a){console.error("Erreur de soumission:",a),P.error("Une erreur s'est produite.")}finally{r(!1)}};return d.jsx(q,{children:d.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:"Contact"}),d.jsxs("form",{onSubmit:i,className:"bg-white p-6 rounded-lg shadow-md space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nom"}),d.jsx("input",{type:"text",name:"name",id:"name",value:e.name,onChange:s,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsx("input",{type:"email",name:"email",id:"email",value:e.email,onChange:s,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message"}),d.jsx("textarea",{name:"message",id:"message",rows:"4",value:e.message,onChange:s,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),d.jsx("div",{className:"text-right",children:d.jsx(H,{type:"submit",disabled:n,loading:n,children:"Envoyer"})})]})]})})},Yi={generateInvitationEmailTemplate(e){const{eventTitle:t,eventDescription:n,organizerName:r,invitationLink:s,eventDeadline:i,personalMessage:o,eventTheme:a}=e,l=new Date(i).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return`
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invitation - ${t}</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background-color: #f4f4f4; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px 10px 0 0; text-align: center; }
        .content { padding: 20px; }
        .event-details { background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #667eea; }
        .invitation-button { display: inline-block; background: #667eea; color: white; padding: 15px 30px; text-decoration: none; border-radius: 5px; font-weight: bold; margin: 20px 0; }
        .footer { text-align: center; color: #666; font-size: 12px; margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; }
        .personal-message { background: #e3f2fd; padding: 15px; border-radius: 8px; margin: 15px 0; font-style: italic; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1> Grega Play</h1>
            <h2>Vous tes invit(e)  participer !</h2>
        </div>
        
        <div class="content">
            <p>Bonjour,</p>
            
            <p><strong>${r}</strong> vous invite  participer  un vnement vido collaboratif :</p>
            
            <div class="event-details">
                <h3> ${t}</h3>
                ${a?`<p><strong>Thme :</strong> ${a}</p>`:""}
                <p><strong>Description :</strong> ${n||"Partagez vos plus beaux moments en vido !"}</p>
                <p><strong>Date limite :</strong> ${l}</p>
            </div>
            
            ${o?`
            <div class="personal-message">
                <strong>Message personnel de ${r} :</strong><br>
                "${o}"
            </div>
            `:""}
            
            <h3> Comment participer ?</h3>
            <ol>
                <li>Cliquez sur le bouton ci-dessous pour accepter l'invitation</li>
                <li>Crez votre compte Grega Play (si vous n'en avez pas dj un)</li>
                <li>Tlchargez votre vido avant la date limite</li>
                <li>Regardez le montage final cr automatiquement !</li>
            </ol>
            
            <div style="text-align: center;">
                <a href="${s}" class="invitation-button">
                     Participer  l'vnement
                </a>
            </div>
            
            <p><small><strong>Note :</strong> Cette invitation est personnelle et expire dans 30 jours. Si vous ne souhaitez pas participer, vous pouvez simplement ignorer ce message.</small></p>
        </div>
        
        <div class="footer">
            <p>Grega Play - La plateforme de montage vido collaboratif</p>
            <p>Cette invitation a t envoye par ${r}</p>
        </div>
    </div>
</body>
</html>
    `},async sendInvitationEmail(e){try{const{to:t,subject:n,html:r,eventId:s,invitationToken:i}=e;console.log(`Attempting to send invitation email to ${t}`);const{data:o,error:a}=await $.functions.invoke("send-email",{body:{email:t,subject:n,content:r}});if(a){console.warn("Supabase Edge Function email failed, trying alternative method:",a);const{error:l}=await $.from("email_queue").insert({to_email:t,subject:n,html_content:r,event_id:s,invitation_token:i,status:"pending",created_at:new Date().toISOString()});if(l)throw console.error("Failed to queue email:",l),new Error("Failed to send invitation email");return console.log("Email queued for batch processing"),!0}return console.log("Email sent successfully:",o),!0}catch(t){throw console.error("Error sending invitation email:",t),t}},async sendBulkInvitations(e){const t={success:[],failed:[],total:e.length};for(const n of e)try{await this.sendInvitationEmail(n),t.success.push(n.to),await new Promise(r=>setTimeout(r,100))}catch(r){console.error(`Failed to send email to ${n.to}:`,r),t.failed.push({email:n.to,error:r.message})}return t},createInvitationLink(e){return`${(typeof window<"u"?window.location.origin:"")||"https://grega-play.com"}/invitation/${e}`},generateEmailSubject(e,t){return` Invitation: ${e} - Partagez votre vido avec ${t}`}},Dr={async getInvitations(e){const{data:t,error:n}=await $.from("invitations").select("*").eq("event_id",e);if(n)throw new Error("Erreur lors de la rcupration des invitations");return t},async addInvitations(e,t,n="",r={},s={}){if(!e||!Array.isArray(t))throw new Error("Paramtres invalides");const i=new Date().toISOString(),o=t.map(c=>({event_id:e,email:c,token:crypto.randomUUID(),message:n,created_at:i})),{data:a,error:l}=await $.from("invitations").insert(o).select();if(l)throw new Error("Erreur enregistrement invitations : "+l.message);return await Yi.sendBulkInvitations(a.map(c=>({to:c.email,subject:Yi.generateEmailSubject(r.title,s.full_name||"L'organisateur"),html:Yi.generateInvitationEmailTemplate({eventTitle:r.title,eventDescription:r.description,eventTheme:r.theme,eventDeadline:r.deadline,invitationLink:Yi.createInvitationLink(c.token),organizerName:s.full_name||"L'organisateur",personalMessage:n}),eventId:e,invitationToken:c.token})))},async removeInvitation(e){const{error:t}=await $.from("invitations").delete().eq("id",e);if(t)throw new Error("Erreur suppression invitation");return!0}},zC=({children:e})=>{var s,i;const[t,n]=w.useState(!1),{user:r}=He();return d.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[d.jsxs("header",{className:"flex items-center justify-between px-6 py-4 shadow bg-white",children:[d.jsxs(V,{to:"/",className:"flex items-center space-x-3",children:[d.jsx("img",{src:"/logo.png",alt:"Logo Grega Play",className:"h-10 w-auto object-contain",style:{maxHeight:"40px"}}),d.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Grega Play"})]}),d.jsx("div",{className:"lg:hidden",children:d.jsx("button",{onClick:()=>n(!t),className:"text-gray-700 hover:text-indigo-600 focus:outline-none",children:""})}),d.jsxs("nav",{className:"hidden lg:flex items-center space-x-6",children:[d.jsx(V,{to:"/",className:"text-gray-700 hover:text-indigo-600 font-medium transition",children:"Accueil"}),r?d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:"text-gray-600 font-semibold",children:[" ",((s=r.user_metadata)==null?void 0:s.first_name)||r.email]}),d.jsx(V,{to:"/profile",className:"text-gray-700 hover:text-indigo-600 font-medium transition",children:"Profil"})]}):d.jsx(V,{to:"/login",className:"text-gray-700 hover:text-indigo-600 font-medium transition",children:"Login"}),d.jsx(V,{to:"/contact",className:"text-gray-700 hover:text-indigo-600 font-medium transition",children:"Contact"})]})]}),t&&d.jsxs("div",{className:"lg:hidden px-6 pb-4 bg-white shadow",children:[d.jsx(V,{to:"/",className:"block py-2 text-gray-700 hover:text-indigo-600",onClick:()=>n(!1),children:"Accueil"}),r?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"py-2 text-gray-700 font-semibold",children:[" ",((i=r.user_metadata)==null?void 0:i.first_name)||r.email]}),d.jsx(V,{to:"/profile",className:"block py-2 text-gray-700 hover:text-indigo-600",onClick:()=>n(!1),children:"Profil"})]}):d.jsx(V,{to:"/login",className:"block py-2 text-gray-700 hover:text-indigo-600",onClick:()=>n(!1),children:"Login"}),d.jsx(V,{to:"/contact",className:"block py-2 text-gray-700 hover:text-indigo-600",onClick:()=>n(!1),children:"Contact"})]}),d.jsx("main",{className:"p-6",children:e})]})},WC=(e=12)=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},HC=()=>{const{user:e}=He(),t=Pt(),[n,r]=w.useState({title:"",description:"",theme:"",videoDuration:30,maxClipDuration:30,endDate:"",participants:[]}),[s,i]=w.useState(!1),[o,a]=w.useState(""),l=h=>{const{name:y,value:v}=h.target;r(x=>({...x,[y]:v}))},u=()=>{o&&!n.participants.includes(o)&&(r(h=>({...h,participants:[...h.participants,o]})),a(""))},c=h=>{r(y=>({...y,participants:y.participants.filter(v=>v!==h)}))},f=async h=>{if(h.preventDefault(),!n.title||!n.endDate){P.error("Veuillez remplir les champs requis");return}const y=WC();i(!0);try{const v=await mt.createEvent({...n,userId:e==null?void 0:e.id,videoDuration:parseInt(n.videoDuration),maxClipDuration:parseInt(n.maxClipDuration),public_code:y});await Dr.addInvitations(v.id,n.participants,"",v,e),P.success("vnement cr avec succs"),await Yn.logActivity({event_id:v.id,user_id:e==null?void 0:e.id,type:"created_event",message:`${e==null?void 0:e.email} a cr l'vnement "${v.title}"`}),t("/dashboard")}catch(v){console.error("Erreur cration vnement:",v),P.error("Erreur lors de la cration")}finally{i(!1)}};return d.jsx(zC,{children:d.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-xl shadow",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Crer un vnement"}),d.jsxs("form",{onSubmit:f,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Titre"}),d.jsx("input",{type:"text",name:"title",value:n.title,onChange:l,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),d.jsx("textarea",{name:"description",value:n.description,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thme"}),d.jsx("input",{type:"text",name:"theme",value:n.theme,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dure vido finale (sec)"}),d.jsx("input",{type:"number",name:"videoDuration",value:n.videoDuration,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dure max dun clip (sec)"}),d.jsx("input",{type:"number",name:"maxClipDuration",value:n.maxClipDuration,onChange:l,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date limite"}),d.jsx("input",{type:"date",name:"endDate",value:n.endDate,onChange:l,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Participants"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"email",value:o,onChange:h=>a(h.target.value),placeholder:"Email participant",className:"mt-1 flex-1 border-gray-300 rounded-md shadow-sm"}),d.jsx(H,{type:"button",onClick:u,children:"Ajouter"})]}),d.jsx("ul",{className:"mt-2",children:n.participants.map((h,y)=>d.jsxs("li",{className:"flex justify-between items-center",children:[h,d.jsx("button",{type:"button",onClick:()=>c(h),className:"text-red-500 text-sm",children:"Supprimer"})]},y))})]}),d.jsx("div",{children:d.jsx(H,{type:"submit",loading:s,className:"w-full",children:"Crer l'vnement"})})]})]})})},KC=({invitation:e,onAccept:t,onDecline:n,currentUser:r})=>e?d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between border p-4 rounded-md shadow-sm bg-white mb-4",children:[d.jsxs("div",{className:"text-center sm:text-left",children:[d.jsx("p",{className:"font-medium text-gray-800",children:e.email}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Statut : ",e.status||"invit"]})]}),e.status==="pending"&&d.jsxs("div",{className:"mt-3 sm:mt-0 flex gap-2",children:[d.jsx(H,{onClick:()=>t==null?void 0:t(e),className:"bg-green-600 hover:bg-green-700 text-white",children:" Accepter"}),d.jsx(H,{onClick:()=>n==null?void 0:n(e),variant:"secondary",className:"text-red-600 border-red-600 hover:bg-red-50",children:" Refuser"})]}),e.status==="accepted"&&d.jsx("p",{className:"text-green-600 font-semibold mt-2 sm:mt-0",children:" Accepte"}),e.status==="declined"&&d.jsx("p",{className:"text-red-600 font-semibold mt-2 sm:mt-0",children:" Dcline"})]}):null,Rp=()=>{const{token:e}=Jr(),t=Pt(),{user:n,login:r,register:s}=He(),[i,o]=w.useState(null),[a,l]=w.useState(!0),[u,c]=w.useState(null),[f,h]=w.useState(!1),[y,v]=w.useState("register"),[x,_]=w.useState(!1),[g,p]=w.useState({email:"",password:"",confirmPassword:"",fullName:""});w.useEffect(()=>{e&&m()},[e]),w.useEffect(()=>{n&&i&&i.status==="pending"&&b()},[n,i]);const m=async()=>{try{l(!0);const T=await Dr.getInvitationByToken(e);if(!T){c("Invitation non trouve ou expire");return}o(T),T.email&&p(C=>({...C,email:T.email}))}catch(T){console.error("Error loading invitation:",T),c("Erreur lors du chargement de l'invitation")}finally{l(!1)}},b=async()=>{if(!n){h(!0);return}try{await Dr.acceptInvitation(e,n.id)?(P.success("Invitation accepte avec succs !"),await Yn.logActivity({event_id:i.event_id,user_id:n.id,type:"accepted_invitation",message:`${n.email} a rejoint l'vnement `}),t(`/events/${i.events.id}`)):P.error("Erreur lors de l'acceptation de l'invitation")}catch(T){console.error("Error accepting invitation:",T),P.error("Erreur lors de l'acceptation de l'invitation")}},S=async()=>{try{await Dr.declineInvitation(e)?(P.info("Invitation dcline"),await Yn.logActivity({event_id:i.event_id,user_id:n.id,type:"declined_invitation",message:`${n.email} a refus l'invitation `}),o(C=>({...C,status:"declined"}))):P.error("Erreur lors du refus de l'invitation")}catch(T){console.error("Error declining invitation:",T),P.error("Erreur lors du refus de l'invitation")}},k=async T=>{T.preventDefault(),_(!0);try{if(y==="register"){if(g.password!==g.confirmPassword){P.error("Les mots de passe ne correspondent pas");return}await s(g.email,g.password,g.fullName),P.success("Compte cr avec succs !")}else await r(g.email,g.password),P.success("Connexion russie !");h(!1)}catch(C){console.error("Auth error:",C),P.error(C.message||"Erreur d'authentification")}finally{_(!1)}},E=T=>{const{name:C,value:A}=T.target;p(M=>({...M,[C]:A}))};return a?d.jsx(q,{children:d.jsx("div",{className:"flex justify-center items-center min-h-64",children:d.jsx(rr,{})})}):u?d.jsx(q,{children:d.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-center",children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Invitation non valide"}),d.jsx("p",{children:u}),d.jsx(H,{className:"mt-4",onClick:()=>t("/"),children:"Retour  l'accueil"})]})})}):i?d.jsx(q,{children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" Vous tes invit(e) !"}),d.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Participez  un vnement vido collaboratif"})]}),d.jsx(KC,{invitation:i,onAccept:b,onDecline:S,currentUser:n}),f&&d.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:d.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:d.jsxs("div",{className:"mt-3",children:[d.jsx("div",{className:"text-center",children:d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:y==="register"?"Crer un compte":"Se connecter"})}),d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsx("input",{type:"email",name:"email",value:g.email,onChange:E,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),y==="register"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom complet"}),d.jsx("input",{type:"text",name:"fullName",value:g.fullName,onChange:E,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),d.jsx("input",{type:"password",name:"password",value:g.password,onChange:E,required:!0,minLength:"6",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),y==="register"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),d.jsx("input",{type:"password",name:"confirmPassword",value:g.confirmPassword,onChange:E,required:!0,minLength:"6",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx(H,{type:"submit",loading:x,className:"flex-1",children:y==="register"?"Crer le compte":"Se connecter"}),d.jsx(H,{type:"button",variant:"secondary",onClick:()=>h(!1),children:"Annuler"})]})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{type:"button",onClick:()=>v(y==="register"?"login":"register"),className:"text-indigo-600 hover:text-indigo-500 text-sm",children:y==="register"?"Dj un compte ? Se connecter":"Pas de compte ? Crer un compte"})})]})})})]})}):d.jsx(q,{children:d.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{children:"Invitation non trouve"}),d.jsx(H,{onClick:()=>t("/"),children:"Retour  l'accueil"})]})})})},Hn={async uploadVideo(e,t,n){try{if(!n)throw new Error("Aucun fichier reu pour l'upload.");let r;if(n.name)r=`${e}/${Date.now()}-${n.name}`;else if(typeof n=="string")r=`${e}/${Date.now()}-${n.split("/").pop()}`;else throw new Error("Format de fichier non support pour l'upload.");const{error:s}=await $.storage.from("videos").upload(r,n);if(s)throw s;const{data:i,error:o}=await $.from("videos").insert([{event_id:e,user_id:t,storage_path:r}]).select().single();if(o)throw o;return i}catch(r){throw console.error("Erreur uploadVideo:",r),r}},async getVideosByEvent(e){try{const{data:t,error:n}=await $.from("videos").select("id, event_id, user_id, storage_path, created_at").eq("event_id",e).order("created_at",{ascending:!0});if(n)throw n;return t}catch(t){throw console.error("Erreur getVideosByEvent:",t),t}},async deleteVideo(e,t=null){try{if(!t){const{data:r,error:s}=await $.from("videos").select("storage_path").eq("id",e).single();if(s)throw s;t=r==null?void 0:r.storage_path}const{error:n}=await $.from("videos").delete().eq("id",e);if(n)throw n;if(t){const{error:r}=await $.storage.from("videos").remove([t]);if(r)throw r}return{success:!0}}catch(n){return console.error("Erreur deleteVideo:",n),{success:!1,error:n}}},async generateFinalVideo(e){try{const t=await fetch("http://127.0.0.1:3001/api/videos/process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:e})});if(!t.ok)throw new Error(`Erreur API: ${t.statusText}`);return await t.json()}catch(t){throw console.error("Erreur generateFinalVideo:",t),t}}},qC=()=>{const{eventId:e}=Jr(),t=Pt(),{user:n,profile:r}=He(),[s,i]=w.useState(null),[o,a]=w.useState(null),[l,u]=w.useState(null),[c,f]=w.useState(!0),[h,y]=w.useState(!1),[v,x]=w.useState(!1),[_,g]=w.useState(null),[p,m]=w.useState(null),[b,S]=w.useState(0),k=r!=null&&r.full_name&&r.full_name!=="User"?r.full_name:(n==null?void 0:n.email)||"Invit";w.useEffect(()=>{(async()=>{try{const z=await mt.getEvent(e);i(z),z.status!=="open"&&g("Cet vnement n'accepte plus de vidos."),new Date(z.deadline)<new Date&&g("La date limite de cet vnement est dpasse.")}catch(z){console.error("Erreur chargement vnement:",z),g("Impossible de charger les dtails de l'vnement.")}finally{f(!1)}})()},[e]),w.useEffect(()=>{(async()=>{if(n!=null&&n.id)try{const z=await Hn.getMyVideoForEvent(e,n.id);m(z)}catch{m(null)}})()},[n==null?void 0:n.id,e]),w.useEffect(()=>{if(v){const M=setTimeout(()=>{t(`/events/${e}/final`)},2e3);return()=>clearTimeout(M)}},[v,t,e]);const E=M=>{var xt;const z=(xt=M.target.files)==null?void 0:xt[0];if(!z)return;if(!z.type.startsWith("video/")){g("Veuillez slectionner un fichier vido.");return}const he=document.createElement("video");he.preload="metadata",he.onloadedmetadata=()=>{window.URL.revokeObjectURL(he.src),he.duration>10?(g(" La vido ne doit pas dpasser 10 secondes."),a(null),u(null),M.target.value=null):(a(z),u(URL.createObjectURL(z)),g(null))},he.src=URL.createObjectURL(z)},T=async()=>{if(window.confirm("Supprimer votre vido ?"))try{await Hn.deleteVideo(p.id),m(null),P.success("Vido supprime")}catch{P.error("Erreur lors de la suppression")}},C=async M=>{if(M.preventDefault(),g(null),!o||!(o instanceof File)){g("Veuillez slectionner un fichier vido valide.");return}y(!0),S(0);try{await Hn.uploadVideo(e,n.id,o),await Yn.logActivity({event_id:e,user_id:(n==null?void 0:n.id)||null,type:"uploaded_video",message:`${k} a post une vido `}),S(100),x(!0)}catch(z){console.error("Erreur envoi vido:",z),g(z.message||"Une erreur est survenue.")}finally{y(!1)}};if(c)return d.jsx(rr,{fullPage:!0});if(v)return d.jsx(q,{children:d.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8",children:d.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[d.jsx("h2",{className:"text-lg font-semibold text-green-600",children:"Merci pour votre vido !"}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Vous allez tre redirig automatiquement vers la vido finale..."})]})})});const A=p?$.storage.from("videos").getPublicUrl(p.storage_path).data.publicUrl:null;return d.jsx(q,{children:d.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:s==null?void 0:s.title}),(s==null?void 0:s.theme)&&d.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Thme : ",s.theme]}),p&&d.jsxs("div",{className:"mb-6 bg-white p-4 border rounded shadow",children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:" Vido dj envoye"}),d.jsx("video",{controls:!0,src:A,className:"w-full h-auto rounded mb-3"}),d.jsx(H,{variant:"danger",onClick:T,children:"Supprimer ma vido"})]}),_&&d.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:_}),d.jsxs("form",{onSubmit:C,className:"space-y-6 bg-white p-6 rounded shadow",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Participant"}),d.jsx("p",{className:"mt-1 text-gray-900 font-medium",children:k})]}),!p&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vido"}),d.jsx("input",{type:"file",accept:"video/*",onChange:E}),l&&d.jsx("video",{src:l,controls:!0,className:"mt-4 w-full rounded"})]}),b>0&&d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mt-2",children:d.jsx("div",{className:"bg-indigo-600 h-4 rounded-full transition-all duration-200 ease-out",style:{width:`${b}%`}})}),d.jsx("div",{children:d.jsx(H,{type:"submit",loading:h,children:"Soumettre la vido"})})]})]})]})})},GC="cgqnrqbyvetcgwolkjvl.supabase.co",XC=()=>{const{eventId:e}=Jr(),{user:t,profile:n}=He(),[r,s]=w.useState(null),[i,o]=w.useState(null),[a,l]=w.useState(!0),[u,c]=w.useState(!1),[f,h]=w.useState(0),[y,v]=w.useState(null),[x,_]=w.useState([]),g=t&&r&&t.id===r.user_id;w.useEffect(()=>{t&&(async()=>{try{const k=await Hn.getVideosByEvent(e);if(!g&&t){const E=k.filter(T=>T.user_id===t.id);_(E)}else _(k)}catch(k){console.error("Erreur chargement des vidos soumises:",k)}})()},[r,t,e,g]),w.useEffect(()=>{(async()=>{try{l(!0);const k=await mt.getEvent(e);if(s(k),k.status==="done"&&k.final_video_url){const E=typeof k.final_video_url=="string"?k.final_video_url:k.final_video_url.videoUrl;o(`${E}?t=${Date.now()}`)}}catch(k){console.error("Error fetching event details:",k),v("Impossible de charger les dtails de l'vnement.")}finally{l(!1)}})()},[e]),w.useEffect(()=>{if(!e)return;const S=$.channel(`event-changes-${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"events",filter:`id=eq.${e}`},k=>{console.log(" Realtime update reu:",k.new);const E=k.new;if(s(E),E.status==="processing"&&P.info(" Gnration de la vido en cours..."),E.status==="done"&&E.final_video_url){const T=typeof E.final_video_url=="string"?E.final_video_url:E.final_video_url.videoUrl;o(`${T}?t=${Date.now()}`),h(100),c(!1),P.success(" Vido finale gnre !")}}).subscribe();return()=>{$.removeChannel(S)}},[e]),w.useEffect(()=>{if(!e||(r==null?void 0:r.status)!=="processing")return;let S=!1,k=0;const E=45,T=async()=>{if(!S){k+=1;try{const C=await mt.getEvent(e);if(S)return;if(s(C),C.status==="done"&&C.final_video_url){const A=typeof C.final_video_url=="string"?C.final_video_url:C.final_video_url.videoUrl;o(`${A}?t=${Date.now()}`),h(100),c(!1),P.success(" Vido finale gnre !");return}C.status==="processing"&&k<E?setTimeout(T,5e3):C.status!=="processing"?c(!1):(c(!1),P.error("Le montage prend plus de temps que prvu. Actualisez la page dans quelques minutes."))}catch(C){if(S)return;console.error("Erreur lors du polling de l'vnement:",C),c(!1),P.error("Erreur lors du suivi de la gnration de la vido.")}}};return T(),()=>{S=!0}},[r==null?void 0:r.status,e]);const p=async S=>{if(window.confirm("Supprimer cette vido ?"))try{await Hn.deleteVideo(S),_(k=>k.filter(E=>E.id!==S))}catch(k){console.error("Erreur suppression vido :",k),alert("Erreur lors de la suppression de la vido.")}},m=async()=>{var k;if(!r||!t)return;let S;try{v(null),c(!0),h(0),s(C=>C&&{...C,status:"processing"}),S=setInterval(()=>{h(C=>C>=90?(clearInterval(S),90):C+2)},300);const E=await Hn.generateFinalVideo(e);if(S&&clearInterval(S),h(C=>C<90?90:C),(k=E==null?void 0:E.finalVideoUrl)!=null&&k.videoUrl){const C=`${E.finalVideoUrl.videoUrl}?t=${Date.now()}`;o(C),h(100),c(!1),P.success(" Vido finale gnre !")}const T=n!=null&&n.full_name&&n.full_name!=="User"?n.full_name:(t==null?void 0:t.email)||"Un utilisateur";await Yn.logActivity({event_id:e,user_id:t.id,type:"generated_final_video",message:`${T} a (re)gnr la vido finale de l'vnement "${r.title}" `})}catch(E){console.error("Error generating video:",E),S&&clearInterval(S),c(!1),h(0),v("Une erreur s'est produite lors de la gnration de la vido."),P.error(" Erreur lors de la gnration !")}};if(a)return d.jsx(rr,{fullPage:!0});const b=r&&(r.status==="ready"||r.status==="open"||r.status==="done")&&t&&(t.id===r.user_id||t.role==="admin");return d.jsx(q,{children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"md:flex md:items-center md:justify-between mb-6",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl",children:r?r.title:"Vido finale"}),(r==null?void 0:r.theme)&&d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Thme: ",r.theme]})]}),d.jsxs("div",{className:"mt-4 flex md:mt-0 md:ml-4 space-x-2",children:[["open","ready"].includes(r==null?void 0:r.status)&&d.jsx(V,{to:`/submit-video/${r.id}`,children:d.jsx(H,{children:"Soumettre une vido"})}),g&&d.jsx(V,{to:`/events/${r.id}/manage-participants`,children:d.jsx(H,{variant:"secondary",children:"Inviter des participants"})}),d.jsx(V,{to:"/dashboard",children:d.jsx(H,{variant:"secondary",children:"Retour au tableau de bord"})})]})]}),y&&d.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:y}),d.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg px-4 py-5 sm:p-6",children:i&&g?d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Vido finale"}),d.jsx("div",{className:"mt-4 aspect-w-9 aspect-h-16",children:d.jsx("video",{controls:!0,className:"w-full h-auto rounded-md shadow-lg",src:i,children:"Votre navigateur ne prend pas en charge la lecture de vidos."})}),d.jsxs("div",{className:"mt-5 flex flex-col sm:flex-row justify-center gap-4",children:[d.jsx("a",{href:i,download:`${r.title.replace(/\s+/g,"_")}_final.mp4`,className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Tlcharger la vido"}),d.jsx("a",{href:`https://wa.me/?text=${encodeURIComponent(` Voici notre vido finale de l'vnement "${r.title}" 

${i}`)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-green-500 rounded-md hover:bg-green-600",children:"Partager sur WhatsApp"})]}),d.jsx("div",{className:"mt-5 text-center",children:d.jsx(H,{onClick:m,loading:u,disabled:u,children:" Rgnrer la vido"})})]}):x.length>0&&b?d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Prt pour le montage"}),d.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[x.length," vidos ont t soumises."]}),d.jsx("div",{className:"mt-5",children:d.jsx(H,{onClick:m,loading:u,disabled:u,children:"Gnrer la vido"})}),f>0&&d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mt-4",children:d.jsx("div",{className:"bg-indigo-600 h-4 rounded-full transition-all duration-200 ease-out",style:{width:`${f}%`}})})]}):(r==null?void 0:r.status)==="done"&&i&&!g?d.jsxs("p",{className:"text-center text-gray-600 mt-4 italic",children:[" La vido finale de ",d.jsx("strong",{children:r.title})," est disponible.",d.jsx("br",{}),"Le crateur de lvnement va bientt la partager avec vous."]}):d.jsx("p",{className:"text-center text-gray-500 mt-4",children:"Aucune vido finale disponible."})}),x.length>0&&d.jsxs("div",{className:"mt-10",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Vidos soumises"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:x.map((S,k)=>d.jsxs("div",{className:"border rounded-lg shadow-sm p-2 bg-white",children:[d.jsx("video",{src:`https://${GC}/storage/v1/object/public/videos/${S.storage_path}`,controls:!0,className:"w-full h-auto rounded"}),d.jsx("p",{className:"mt-2 text-sm font-semibold text-gray-900 text-center truncate",children:S.participant_name||"Auteur inconnu"}),d.jsxs("p",{className:"mt-1 text-xs text-gray-500 text-center",children:["Partage le"," ",S.created_at?new Date(S.created_at).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"date inconnue"]}),(g||S.user_id===(t==null?void 0:t.id))&&d.jsx("div",{className:"mt-2 flex justify-center",children:d.jsx("button",{onClick:()=>p(S.id),className:"text-red-600 text-sm hover:underline",children:"Supprimer"})})]},S.id||k))})]})]})})},QC=()=>{const{eventId:e}=Jr(),t=Pt(),{user:n}=He(),[r,s]=w.useState(null),[i,o]=w.useState([]),[a,l]=w.useState(!0),[u,c]=w.useState(!1),[f,h]=w.useState(""),[y,v]=w.useState(""),[x,_]=w.useState(null),[g,p]=w.useState([]),m=w.useCallback(k=>{if(!(k!=null&&k.deadline))return!1;const E=new Date,T=new Date(k.deadline);return T.setHours(23,59,59,999),T<E},[]),b=r?r.status==="done"||r.status==="canceled"||m(r):!1;w.useEffect(()=>{(async()=>{try{l(!0);const E=await mt.getEvent(e);s(E);const T=await mt.getEventParticipants(e);o(T)}catch(E){console.error("Error loading event or participants:",E),_("Erreur lors du chargement de l'vnement")}finally{l(!1)}})()},[e]),w.useEffect(()=>{!a&&r&&n&&n.id!==r.user_id&&(P.error("Vous n'tes pas autoris  grer cet vnement"),t("/dashboard"))},[a,r,n,t]);const S=async k=>{if(k.preventDefault(),b){P.error("Les invitations sont closes pour cet vnement (termin ou expir).");return}const E=f.split(/[,\n]+/).map(T=>T.trim()).filter(Boolean);if(E.length===0){P.info("Veuillez entrer au moins un email");return}try{c(!0),await Dr.addInvitations(e,E,y,r,n);const T=await mt.getEventParticipants(e);o(T),h(""),v("")}catch(T){console.error("Error sending invitations:",T),P.error(T.message||"Erreur lors de l'envoi des invitations")}finally{c(!1)}};return w.useEffect(()=>{(async()=>{try{l(!0);const E=await mt.getEvent(e);s(E);const T=await Dr.getInvitations(e);p(T),o(T.filter(C=>C.user_id))}catch(E){console.error("Erreur chargement participants :",E),_("Erreur lors du chargement des donnes")}finally{l(!1)}})()},[e]),a?d.jsx(q,{children:d.jsx("div",{className:"py-8 flex justify-center",children:d.jsx(rr,{})})}):x?d.jsx(q,{children:d.jsx("div",{className:"py-8 text-center text-red-500",children:x})}):d.jsx(q,{children:d.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.title}),d.jsx("p",{className:"text-sm text-gray-500",children:"Gestion des participants"})]}),d.jsx("div",{className:"bg-white shadow sm:rounded-lg mb-6",children:d.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Participants actuels"}),i.length===0?d.jsx("p",{className:"text-sm text-gray-500",children:"Aucun participant"}):d.jsx("ul",{className:"divide-y divide-gray-200",children:i.map(k=>d.jsxs("li",{className:"py-2 flex justify-between",children:[d.jsx("span",{children:k.email}),d.jsxs("span",{className:"text-sm text-gray-500",children:[k.status,k.has_submitted?" (vido soumise)":""]})]},k.id||k.email))})]})}),d.jsx("div",{className:"bg-white shadow sm:rounded-lg mb-6",children:d.jsx("form",{onSubmit:S,children:d.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Inviter de nouveaux participants"}),b&&d.jsxs("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 text-yellow-800 px-3 py-2 rounded text-sm",children:["Les invitations sont closes pour cet vnement",(r==null?void 0:r.status)==="done"&&" (vnement termin).",(r==null?void 0:r.status)==="canceled"&&" (vnement annul).",m(r)&&(r==null?void 0:r.status)!=="done"&&(r==null?void 0:r.status)!=="canceled"&&" (date limite dpasse)."]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emails (spars par des virgules ou des retours  la ligne)"}),d.jsx("textarea",{value:f,onChange:k=>h(k.target.value),rows:3,disabled:b,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-400"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message personnel (optionnel)"}),d.jsx("textarea",{value:y,onChange:k=>v(k.target.value),rows:2,disabled:b,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-400"})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(H,{type:"submit",loading:u,disabled:u||b,children:b?"Invitations closes":"Envoyer les invitations"})})]})})}),d.jsx("div",{className:"flex justify-end",children:d.jsx(V,{to:`/events/${e}`,className:"mr-3",children:d.jsx(H,{variant:"secondary",children:"Retour  l'vnement"})})})]})})},JC=()=>{var i;const t=((i=mi().state)==null?void 0:i.email)||"",[n,r]=w.useState(!1),s=async()=>{if(!t){P.error("Aucune adresse email fournie.");return}try{r(!0);const{error:o}=await $.auth.resend({type:"signup",email:t});o?(console.error("Erreur envoi email :",o),P.error("Impossible de renvoyer l'email. Ressayez plus tard.")):P.success("Email de confirmation renvoy ")}catch(o){console.error("Erreur inattendue :",o),P.error("Une erreur est survenue.")}finally{r(!1)}};return d.jsx(q,{children:d.jsxs("div",{className:"max-w-lg mx-auto px-6 py-12 bg-white rounded-xl shadow-md text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:" Vrifiez votre bote mail"}),d.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:["Merci pour votre inscription sur ",d.jsx("strong",{children:"Grega Play"})," ",d.jsx("br",{}),"Pour activer votre compte, nous vous avons envoy un email de confirmation  :"]}),d.jsx("p",{className:"text-indigo-600 font-medium mb-6",children:t}),d.jsxs("p",{className:"text-gray-600 text-sm mb-8",children:[" Cliquez sur le lien de validation dans cet email.",d.jsx("br",{})," Si vous ne trouvez pas lemail, vrifiez vos"," ",d.jsx("strong",{children:"spams"})," ou ",d.jsx("strong",{children:"courriers indsirables"}),"."]}),d.jsx(H,{onClick:s,loading:n,variant:"primary",children:"Renvoyer lemail de confirmation"})]})})},YC=()=>{const{eventId:e}=Jr(),t=e,{user:n}=He(),[r,s]=w.useState(null),[i,o]=w.useState(!0),[a,l]=w.useState(!1),u=w.useCallback(async()=>{try{o(!0);const h=await mt.getEventById(t);s(h)}catch(h){console.error("Erreur rcupration vnement:",h),P.error("Impossible de charger lvnement.")}finally{o(!1)}},[t]);w.useEffect(()=>{u()},[u]);const c=async()=>{if(window.confirm("Voulez-vous gnrer la vido finale ?"))try{l(!0),await Hn.generateFinalVideo(t),P.success("Vido finale gnre avec succs !"),u()}catch(h){console.error("Erreur gnration vido:",h),P.error("Erreur lors de la gnration de la vido.")}finally{l(!1)}};if(i)return d.jsx(q,{children:d.jsx("div",{className:"py-8 max-w-4xl mx-auto px-4",children:d.jsx(rr,{})})});if(!r)return d.jsx(q,{children:d.jsx("div",{className:"py-8 max-w-4xl mx-auto px-4",children:d.jsx("p",{className:"text-gray-500",children:"vnement introuvable."})})});const f=r.user_id===(n==null?void 0:n.id);return d.jsx(q,{children:d.jsxs("div",{className:"py-6 max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6",children:[d.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.title}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r.description}),d.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:["Cr le ",new Date(r.created_at).toLocaleDateString("fr-FR")]}),r.public_code&&d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Lien de partage"}),d.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[d.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[d.jsx("input",{type:"text",readOnly:!0,value:`${window.location.origin}/e/${r.public_code}`,className:"flex-1 text-xs border border-gray-200 rounded px-2 py-1 bg-gray-50 text-gray-700"}),d.jsx("button",{type:"button",onClick:()=>{const h=`${window.location.origin}/e/${r.public_code}`;navigator.clipboard.writeText(h).then(()=>{P.success("Lien copi dans le presse-papiers")}).catch(()=>{P.error("Impossible de copier le lien")})},className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md bg-white hover:bg-gray-50 text-gray-700",children:"Copier"})]}),d.jsx("button",{type:"button",onClick:()=>{const y=`Participe  mon vnement Grega Play : ${`${window.location.origin}/e/${r.public_code}`}`,v=`https://wa.me/?text=${encodeURIComponent(y)}`;window.open(v,"_blank")},className:"inline-flex items-center justify-center px-3 py-1.5 text-xs font-medium rounded-md bg-green-500 hover:bg-green-600 text-white",children:"Partager sur WhatsApp"})]})]})]}),d.jsxs("div",{className:"bg-white shadow rounded-lg p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 sm:space-x-2",children:[d.jsx(V,{to:`/submit-video/${r.id}`,className:"w-full sm:w-auto inline-flex justify-center px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg shadow hover:bg-indigo-700",children:" Soumettre une vido"}),f&&d.jsx(V,{to:`/events/${r.id}/manage-participants`,className:"w-full sm:w-auto inline-flex justify-center px-4 py-2 border border-indigo-600 text-indigo-600 text-sm font-medium rounded-lg shadow hover:bg-indigo-50",children:" Inviter"}),d.jsx(V,{to:`/events/${r.id}/final`,className:"w-full sm:w-auto inline-flex justify-center px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-lg shadow hover:bg-purple-700",children:" Voir les vidos"}),f&&d.jsx("button",{onClick:c,disabled:a,className:"w-full sm:w-auto inline-flex justify-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg shadow hover:bg-green-700 disabled:opacity-50",children:a?" Gnration...":" Gnrer la vido finale"})]}),r.final_video_path&&d.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Vido finale"}),d.jsx("video",{controls:!0,className:"w-full rounded-lg border",src:r.final_video_path})]}),d.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center",children:d.jsxs("p",{className:"text-sm text-gray-600",children:[" Consultez l",d.jsx(V,{to:"/dashboard",className:"text-indigo-600 font-medium",children:"activit rcente"})," pour voir les actions des participants."]})})]})})},ZC=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(!1),s=async i=>{i.preventDefault(),r(!0);const{error:o}=await $.auth.resetPasswordForEmail(e,{redirectTo:"http://localhost:5173/reset-password"});o?P.error(o.message):P.success("Un email de rinitialisation a t envoy !"),r(!1)};return d.jsx(q,{children:d.jsxs("div",{className:"max-w-md mx-auto mt-20 p-6 bg-white shadow-md rounded-lg",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Mot de passe oubli"}),d.jsxs("form",{onSubmit:s,className:"space-y-4",children:[d.jsx("input",{type:"email",placeholder:"Votre email",value:e,onChange:i=>t(i.target.value),className:"w-full border px-3 py-2 rounded-md",required:!0}),d.jsx("button",{type:"submit",disabled:n,className:"w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700",children:n?"Envoi...":"Rinitialiser mon mot de passe"})]})]})})},eP=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(!1),s=async i=>{i.preventDefault(),r(!0);const{error:o}=await $.auth.updateUser({password:e});o?P.error(o.message):(P.success("Mot de passe mis  jour !"),window.location.href="/login"),r(!1)};return d.jsx(q,{children:d.jsxs("div",{className:"max-w-md mx-auto mt-20 p-6 bg-white shadow-md rounded-lg",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Nouveau mot de passe"}),d.jsxs("form",{onSubmit:s,className:"space-y-4",children:[d.jsx("input",{type:"password",placeholder:"Nouveau mot de passe",value:e,onChange:i=>t(i.target.value),className:"w-full border px-3 py-2 rounded-md",required:!0}),d.jsx("button",{type:"submit",disabled:n,className:"w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700",children:n?"Mise  jour...":"Changer mon mot de passe"})]})]})})},tP=()=>{const{publicCode:e}=Jr(),{user:t}=He(),n=Pt(),[r,s]=w.useState(null),[i,o]=w.useState(!0),[a,l]=w.useState(null),u=w.useCallback(x=>{if(!(x!=null&&x.deadline))return!1;const _=new Date,g=new Date(x.deadline);return g.setHours(23,59,59,999),g<_},[]),c=r?r.status==="done"||r.status==="canceled"||u(r):!1;w.useEffect(()=>{e?(async()=>{o(!0),l(null);try{const{data:_,error:g}=await $.rpc("get_event_by_public_code",{p_code:e});g?(console.error("Erreur RPC:",g),l("Impossible de charger l'vnement.")):!_||_.length===0?l("vnement introuvable ou expir."):s(_[0])}catch(_){console.error("Erreur inattendue:",_),l("Une erreur s'est produite.")}finally{o(!1)}})():(o(!1),l("Lien d'accs invalide."))},[e]);const f=()=>{if(!c){if(!t){n("/login");return}r!=null&&r.id?n(`/events/${r.id}`):n("/dashboard")}};if(i)return d.jsx(q,{children:d.jsx("div",{className:"py-8 max-w-3xl mx-auto px-4",children:d.jsx(rr,{})})});if(a)return d.jsx(q,{children:d.jsxs("div",{className:"py-8 max-w-3xl mx-auto px-4",children:[d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:a}),d.jsx("div",{className:"mt-4",children:d.jsx(V,{to:"/",className:"text-sm text-indigo-600 hover:text-indigo-500",children:"Retour  laccueil"})})]})});const h=u(r),y=r.status==="done",v=r.status==="canceled";return d.jsx(q,{children:d.jsxs("div",{className:"py-6 max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6",children:[(h||y||v)&&d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded",children:[y&&d.jsx("p",{className:"text-sm",children:"Cet vnement est termin. Les participations sont closes."}),v&&d.jsx("p",{className:"text-sm",children:"Cet vnement a t annul par son organisateur."}),h&&!y&&!v&&d.jsx("p",{className:"text-sm",children:"La date limite de participation est dpasse. Vous ne pouvez plus envoyer de vido."})]}),d.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.title}),r.description&&d.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.description}),r.theme&&d.jsxs("p",{className:"mt-2 text-xs inline-flex px-2 py-1 rounded-full bg-indigo-50 text-indigo-700",children:["Thme : ",r.theme]}),r.deadline&&d.jsxs("p",{className:"mt-3 text-sm text-gray-500",children:["Date limite :"," ",new Date(r.deadline).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]})]}),d.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 space-y-3",children:[!t&&!c&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-sm text-gray-700",children:"Pour participer  cet vnement (envoyer une vido), vous devez dabord vous connecter  Grega Play."}),d.jsx(H,{onClick:f,className:"w-full",children:"Se connecter pour participer"})]}),!t&&c&&d.jsx(d.Fragment,{children:d.jsx("p",{className:"text-sm text-gray-700",children:"Les participations  cet vnement sont closes. Vous pouvez uniquement consulter les informations."})}),t&&!c&&d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-sm text-gray-700",children:["Vous tes connect en tant que"," ",d.jsx("span",{className:"font-semibold",children:t.email}),"."]}),d.jsx("p",{className:"text-sm text-gray-600",children:"Cliquez sur le bouton ci-dessous pour accder  la page de lvnement dans lapplication et envoyer votre vido."}),d.jsx(H,{onClick:f,className:"w-full",children:"Participer  la vido"})]}),t&&c&&d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-sm text-gray-700",children:["Vous tes connect en tant que"," ",d.jsx("span",{className:"font-semibold",children:t.email}),"."]}),d.jsx("p",{className:"text-sm text-gray-600",children:"Les participations  cet vnement sont dsormais closes. Vous ne pouvez plus envoyer de nouvelle vido."})]})]}),d.jsx("div",{className:"bg-white border border-gray-100 rounded-lg p-4 text-center text-sm text-gray-600",children:d.jsxs("p",{children:["Retrouve tous tes projets dans ton"," ",d.jsx(V,{to:"/dashboard",className:"text-indigo-600 hover:text-indigo-500",children:"tableau de bord Grega Play"}),"."]})})]})})},nP=()=>d.jsxs(d.Fragment,{children:[d.jsx(Eb,{position:"top-center",autoClose:3e3}),d.jsxs(O_,{children:[d.jsx(xe,{path:"/",element:d.jsx(SC,{})}),d.jsx(xe,{path:"/login",element:d.jsx(IC,{})}),d.jsx(xe,{path:"/register",element:d.jsx($C,{})}),d.jsx(xe,{path:"/dashboard",element:d.jsx(UC,{})}),d.jsx(xe,{path:"/profile",element:d.jsx(FC,{})}),d.jsx(xe,{path:"/contact",element:d.jsx(BC,{})}),d.jsx(xe,{path:"/create-event",element:d.jsx(HC,{})}),d.jsx(xe,{path:"/invite/:eventId",element:d.jsx(Rp,{})}),d.jsx(xe,{path:"/submit-video/:eventId",element:d.jsx(qC,{})}),d.jsx(xe,{path:"/events/:eventId/final",element:d.jsx(XC,{})}),d.jsx(xe,{path:"/events/:eventId/manage-participants",element:d.jsx(QC,{})}),d.jsx(xe,{path:"/invitation/:token",element:d.jsx(Rp,{})}),d.jsx(xe,{path:"/check-email",element:d.jsx(JC,{})}),d.jsx(xe,{path:"/events/:eventId",element:d.jsx(YC,{})}),d.jsx(xe,{path:"/forgot-password",element:d.jsx(ZC,{})}),d.jsx(xe,{path:"/reset-password",element:d.jsx(eP,{})}),d.jsx(xe,{path:"/e/:publicCode",element:d.jsx(tP,{})})]})]});function rP(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log(" Service Worker enregistr avec succs:",e.scope)}).catch(e=>{console.error(" chec de l'enregistrement du Service Worker:",e)})})}_l.createRoot(document.getElementById("root")).render(d.jsx(B.StrictMode,{children:d.jsx(F_,{children:d.jsx(BS,{children:d.jsx(nP,{})})})}));rP();
